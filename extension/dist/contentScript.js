var Zh=Object.defineProperty;var Gh=(Tt,It,Yt)=>It in Tt?Zh(Tt,It,{enumerable:!0,configurable:!0,writable:!0,value:Yt}):Tt[It]=Yt;var Po=(Tt,It,Yt)=>(Gh(Tt,typeof It!="symbol"?It+"":It,Yt),Yt);(function(){"use strict";var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yt={exports:{}},ui={},Xa={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),Md=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Zd=Symbol.for("react.memo"),Gd=Symbol.for("react.lazy"),qa=Symbol.iterator;function Qd(e){return e===null||typeof e!="object"?null:(e=qa&&e[qa]||e["@@iterator"],typeof e=="function"?e:null)}var Ja={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},el=Object.assign,tl={};function jn(e,t,n){this.props=e,this.context=t,this.refs=tl,this.updater=n||Ja}jn.prototype.isReactComponent={},jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nl(){}nl.prototype=jn.prototype;function bo(e,t,n){this.props=e,this.context=t,this.refs=tl,this.updater=n||Ja}var Ro=bo.prototype=new nl;Ro.constructor=bo,el(Ro,jn.prototype),Ro.isPureReactComponent=!0;var rl=Array.isArray,il=Object.prototype.hasOwnProperty,Lo={current:null},ol={key:!0,ref:!0,__self:!0,__source:!0};function sl(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)il.call(t,r)&&!ol.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vr,type:e,key:o,ref:s,props:i,_owner:Lo.current}}function Kd(e,t){return{$$typeof:vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Do(e){return typeof e=="object"&&e!==null&&e.$$typeof===vr}function Xd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var al=/\/+/g;function jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xd(""+e.key):t.toString(36)}function ci(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vr:case Md:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+jo(s,0):r,rl(i)?(n="",e!=null&&(n=e.replace(al,"$&/")+"/"),ci(i,t,n,"",function(d){return d})):i!=null&&(Do(i)&&(i=Kd(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(al,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",rl(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+jo(o,a);s+=ci(o,t,n,l,i)}else if(l=Qd(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+jo(o,a++),s+=ci(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function di(e,t,n){if(e==null)return e;var r=[],i=0;return ci(e,r,"","",function(o){return t.call(n,o,i++)}),r}function qd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},fi={transition:null},Jd={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:fi,ReactCurrentOwner:Lo};function ll(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:di,forEach:function(e,t,n){di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return di(e,function(){t++}),t},toArray:function(e){return di(e,function(t){return t})||[]},only:function(e){if(!Do(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},fe.Component=jn,fe.Fragment=$d,fe.Profiler=Bd,fe.PureComponent=bo,fe.StrictMode=Fd,fe.Suspense=Yd,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jd,fe.act=ll,fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=el({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Lo.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)il.call(t,l)&&!ol.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:vr,type:e.type,key:i,ref:o,props:r,_owner:s}},fe.createContext=function(e){return e={$$typeof:Hd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wd,_context:e},e.Consumer=e},fe.createElement=sl,fe.createFactory=function(e){var t=sl.bind(null,e);return t.type=e,t},fe.createRef=function(){return{current:null}},fe.forwardRef=function(e){return{$$typeof:Vd,render:e}},fe.isValidElement=Do,fe.lazy=function(e){return{$$typeof:Gd,_payload:{_status:-1,_result:e},_init:qd}},fe.memo=function(e,t){return{$$typeof:Zd,type:e,compare:t===void 0?null:t}},fe.startTransition=function(e){var t=fi.transition;fi.transition={};try{e()}finally{fi.transition=t}},fe.unstable_act=ll,fe.useCallback=function(e,t){return We.current.useCallback(e,t)},fe.useContext=function(e){return We.current.useContext(e)},fe.useDebugValue=function(){},fe.useDeferredValue=function(e){return We.current.useDeferredValue(e)},fe.useEffect=function(e,t){return We.current.useEffect(e,t)},fe.useId=function(){return We.current.useId()},fe.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)},fe.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)},fe.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)},fe.useMemo=function(e,t){return We.current.useMemo(e,t)},fe.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)},fe.useRef=function(e){return We.current.useRef(e)},fe.useState=function(e){return We.current.useState(e)},fe.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)},fe.useTransition=function(){return We.current.useTransition()},fe.version="18.3.1",Xa.exports=fe;var ue=Xa.exports;const ef=It(ue);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=ue,nf=Symbol.for("react.element"),rf=Symbol.for("react.fragment"),of=Object.prototype.hasOwnProperty,sf=tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,af={key:!0,ref:!0,__self:!0,__source:!0};function ul(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)of.call(t,r)&&!af.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nf,type:e,key:o,ref:s,props:i,_owner:sf.current}}ui.Fragment=rf,ui.jsx=ul,ui.jsxs=ul,Yt.exports=ui;var Q=Yt.exports,cl={exports:{}},et={},dl={exports:{}},fl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,N){var B=V.length;V.push(N);e:for(;0<B;){var z=B-1>>>1,I=V[z];if(0<i(I,N))V[z]=N,V[B]=I,B=z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var N=V[0],B=V.pop();if(B!==N){V[0]=B;e:for(var z=0,I=V.length,X=I>>>1;z<X;){var ee=2*(z+1)-1,K=V[ee],de=ee+1,he=V[de];if(0>i(K,B))de<I&&0>i(he,K)?(V[z]=he,V[de]=B,z=de):(V[z]=K,V[ee]=B,z=ee);else if(de<I&&0>i(he,B))V[z]=he,V[de]=B,z=de;else break e}}return N}function i(V,N){var B=V.sortIndex-N.sortIndex;return B!==0?B:V.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],d=[],_=1,m=null,v=3,h=!1,w=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(V){for(var N=n(d);N!==null;){if(N.callback===null)r(d);else if(N.startTime<=V)r(d),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(d)}}function S(V){if(p=!1,g(V),!w)if(n(l)!==null)w=!0,le(T);else{var N=n(d);N!==null&&Y(S,N.startTime-V)}}function T(V,N){w=!1,p&&(p=!1,c(j),j=-1),h=!0;var B=v;try{for(g(N),m=n(l);m!==null&&(!(m.expirationTime>N)||V&&!J());){var z=m.callback;if(typeof z=="function"){m.callback=null,v=m.priorityLevel;var I=z(m.expirationTime<=N);N=e.unstable_now(),typeof I=="function"?m.callback=I:m===n(l)&&r(l),g(N)}else r(l);m=n(l)}if(m!==null)var X=!0;else{var ee=n(d);ee!==null&&Y(S,ee.startTime-N),X=!1}return X}finally{m=null,v=B,h=!1}}var P=!1,A=null,j=-1,D=5,$=-1;function J(){return!(e.unstable_now()-$<D)}function C(){if(A!==null){var V=e.unstable_now();$=V;var N=!0;try{N=A(!0,V)}finally{N?U():(P=!1,A=null)}}else P=!1}var U;if(typeof u=="function")U=function(){u(C)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,W=y.port2;y.port1.onmessage=C,U=function(){W.postMessage(null)}}else U=function(){x(C,0)};function le(V){A=V,P||(P=!0,U())}function Y(V,N){j=x(function(){V(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,le(T))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var N=3;break;default:N=v}var B=v;v=N;try{return V()}finally{v=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,N){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var B=v;v=V;try{return N()}finally{v=B}},e.unstable_scheduleCallback=function(V,N,B){var z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?z+B:z):B=z,V){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=B+I,V={id:_++,callback:N,priorityLevel:V,startTime:B,expirationTime:I,sortIndex:-1},B>z?(V.sortIndex=B,t(d,V),n(l)===null&&V===n(d)&&(p?(c(j),j=-1):p=!0,Y(S,B-z))):(V.sortIndex=I,t(l,V),w||h||(w=!0,le(T))),V},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(V){var N=v;return function(){var B=v;v=N;try{return V.apply(this,arguments)}finally{v=B}}}})(fl),dl.exports=fl;var lf=dl.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=ue,tt=lf;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pl=new Set,yr={};function _n(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(yr[e]=t,e=0;e<t.length;e++)pl.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,cf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hl={},ml={};function df(e){return Uo.call(ml,e)?!0:Uo.call(hl,e)?!1:cf.test(e)?ml[e]=!0:(hl[e]=!0,!1)}function ff(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pf(e,t,n,r){if(t===null||typeof t>"u"||ff(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new He(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new He(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new He(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){De[e]=new He(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){De[e]=new He(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){De[e]=new He(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){De[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mo=/[\-:]([a-z])/g;function $o(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mo,$o);De[t]=new He(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mo,$o);De[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mo,$o);De[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){De[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)}),De.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){De[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fo(e,t,n,r){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pf(t,n,i,r)&&(n=null),r||i===null?df(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pi=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Bo=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),gl=Symbol.for("react.provider"),vl=Symbol.for("react.context"),Ho=Symbol.for("react.forward_ref"),Vo=Symbol.for("react.suspense"),Yo=Symbol.for("react.suspense_list"),Zo=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),yl=Symbol.for("react.offscreen"),_l=Symbol.iterator;function _r(e){return e===null||typeof e!="object"?null:(e=_l&&e[_l]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Go;function wr(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Qo=!1;function Ko(e,t){if(!e||Qo)return"";Qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wr(e):""}function hf(e){switch(e.tag){case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return e=Ko(e.type,!1),e;case 11:return e=Ko(e.type.render,!1),e;case 1:return e=Ko(e.type,!0),e;default:return""}}function Xo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Mn:return"Portal";case Wo:return"Profiler";case Bo:return"StrictMode";case Vo:return"Suspense";case Yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vl:return(e.displayName||"Context")+".Consumer";case gl:return(e._context.displayName||"Context")+".Provider";case Ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zo:return t=e.displayName||null,t!==null?t:Xo(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Xo(e(t))}catch{}}return null}function mf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xo(t);case 8:return t===Bo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gf(e){var t=wl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hi(e){e._valueTracker||(e._valueTracker=gf(e))}function xl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wl(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qo(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kl(e,t){t=t.checked,t!=null&&Fo(e,"checked",t,!1)}function Jo(e,t){kl(e,t);var n=Gt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?es(e,t.type,n):t.hasOwnProperty("defaultValue")&&es(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function El(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function es(e,t,n){(t!=="number"||mi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function Fn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ts(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(xr(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gt(n)}}function Tl(e,t){var n=Gt(t.value),r=Gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Il(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gi,Al=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vf=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){vf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function Nl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Ol(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nl(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yf=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(e,t){if(t){if(yf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function is(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,Bn=null,Wn=null;function Pl(e){if(e=Vr(e)){if(typeof as!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Mi(t),as(e.stateNode,e.type,t))}}function bl(e){Bn?Wn?Wn.push(e):Wn=[e]:Bn=e}function Rl(){if(Bn){var e=Bn,t=Wn;if(Wn=Bn=null,Pl(e),t)for(e=0;e<t.length;e++)Pl(t[e])}}function Ll(e,t){return e(t)}function Dl(){}var ls=!1;function jl(e,t,n){if(ls)return e(t,n);ls=!0;try{return Ll(e,t,n)}finally{ls=!1,(Bn!==null||Wn!==null)&&(Dl(),Rl())}}function Er(e,t){var n=e.stateNode;if(n===null)return null;var r=Mi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var us=!1;if(Rt)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){us=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{us=!1}function _f(e,t,n,r,i,o,s,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(_){this.onError(_)}}var Tr=!1,vi=null,yi=!1,cs=null,wf={onError:function(e){Tr=!0,vi=e}};function xf(e,t,n,r,i,o,s,a,l){Tr=!1,vi=null,_f.apply(wf,arguments)}function Sf(e,t,n,r,i,o,s,a,l){if(xf.apply(this,arguments),Tr){if(Tr){var d=vi;Tr=!1,vi=null}else throw Error(q(198));yi||(yi=!0,cs=d)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ul(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ml(e){if(wn(e)!==e)throw Error(q(188))}function kf(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ml(i),e;if(o===r)return Ml(i),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function $l(e){return e=kf(e),e!==null?Fl(e):null}function Fl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fl(e);if(t!==null)return t;e=e.sibling}return null}var Bl=tt.unstable_scheduleCallback,Wl=tt.unstable_cancelCallback,Ef=tt.unstable_shouldYield,Cf=tt.unstable_requestPaint,ze=tt.unstable_now,Tf=tt.unstable_getCurrentPriorityLevel,ds=tt.unstable_ImmediatePriority,Hl=tt.unstable_UserBlockingPriority,_i=tt.unstable_NormalPriority,If=tt.unstable_LowPriority,Vl=tt.unstable_IdlePriority,wi=null,zt=null;function zf(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(wi,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Of,Af=Math.log,Nf=Math.LN2;function Of(e){return e>>>=0,e===0?32:31-(Af(e)/Nf|0)|0}var xi=64,Si=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ki(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ir(a):(o&=s,o!==0&&(r=Ir(o)))}else s=n&~i,s!==0?r=Ir(s):o!==0&&(r=Ir(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),i=1<<n,r|=e[n],t&=~i;return r}function Pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Pf(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function fs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yl(){var e=xi;return xi<<=1,!(xi&4194240)&&(xi=64),e}function ps(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Rf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function hs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function Zl(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gl,ms,Ql,Kl,Xl,gs=!1,Ei=[],Qt=null,Kt=null,Xt=null,Ar=new Map,Nr=new Map,qt=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Or(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Vr(t),t!==null&&ms(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Df(e,t,n,r,i){switch(t){case"focusin":return Qt=Or(Qt,e,t,n,r,i),!0;case"dragenter":return Kt=Or(Kt,e,t,n,r,i),!0;case"mouseover":return Xt=Or(Xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ar.set(o,Or(Ar.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nr.set(o,Or(Nr.get(o)||null,e,t,n,r,i)),!0}return!1}function Jl(e){var t=xn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ul(n),t!==null){e.blockedOn=t,Xl(e.priority,function(){Ql(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ys(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=Vr(n),t!==null&&ms(t),e.blockedOn=n,!1;t.shift()}return!0}function eu(e,t,n){Ci(e)&&n.delete(t)}function jf(){gs=!1,Qt!==null&&Ci(Qt)&&(Qt=null),Kt!==null&&Ci(Kt)&&(Kt=null),Xt!==null&&Ci(Xt)&&(Xt=null),Ar.forEach(eu),Nr.forEach(eu)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,gs||(gs=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,jf)))}function br(e){function t(i){return Pr(i,e)}if(0<Ei.length){Pr(Ei[0],e);for(var n=1;n<Ei.length;n++){var r=Ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&Pr(Qt,e),Kt!==null&&Pr(Kt,e),Xt!==null&&Pr(Xt,e),Ar.forEach(t),Nr.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Jl(n),n.blockedOn===null&&qt.shift()}var Hn=Lt.ReactCurrentBatchConfig,Ti=!0;function Uf(e,t,n,r){var i=me,o=Hn.transition;Hn.transition=null;try{me=1,vs(e,t,n,r)}finally{me=i,Hn.transition=o}}function Mf(e,t,n,r){var i=me,o=Hn.transition;Hn.transition=null;try{me=4,vs(e,t,n,r)}finally{me=i,Hn.transition=o}}function vs(e,t,n,r){if(Ti){var i=ys(e,t,n,r);if(i===null)Ls(e,t,r,Ii,n),ql(e,r);else if(Df(i,e,t,n,r))r.stopPropagation();else if(ql(e,r),t&4&&-1<Lf.indexOf(e)){for(;i!==null;){var o=Vr(i);if(o!==null&&Gl(o),o=ys(e,t,n,r),o===null&&Ls(e,t,r,Ii,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ls(e,t,r,null,n)}}var Ii=null;function ys(e,t,n,r){if(Ii=null,e=ss(r),e=xn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ul(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case ds:return 1;case Hl:return 4;case _i:case If:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var Jt=null,_s=null,zi=null;function nu(){if(zi)return zi;var e,t=_s,n=t.length,r,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return zi=i.slice(e,1<r?1-r:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function ru(){return!1}function nt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ni:ru,this.isPropagationStopped=ru,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=nt(Vn),Rr=ke({},Vn,{view:0,detail:0}),$f=nt(Rr),xs,Ss,Lr,Oi=ke({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(xs=e.screenX-Lr.screenX,Ss=e.screenY-Lr.screenY):Ss=xs=0,Lr=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),iu=nt(Oi),Ff=ke({},Oi,{dataTransfer:0}),Bf=nt(Ff),Wf=ke({},Rr,{relatedTarget:0}),ks=nt(Wf),Hf=ke({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=nt(Hf),Yf=ke({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zf=nt(Yf),Gf=ke({},Vn,{data:0}),ou=nt(Gf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xf[e])?!!t[e]:!1}function Es(){return qf}var Jf=ke({},Rr,{key:function(e){if(e.key){var t=Qf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ep=nt(Jf),tp=ke({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=nt(tp),np=ke({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),rp=nt(np),ip=ke({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=nt(ip),sp=ke({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ap=nt(sp),lp=[9,13,27,32],Cs=Rt&&"CompositionEvent"in window,Dr=null;Rt&&"documentMode"in document&&(Dr=document.documentMode);var up=Rt&&"TextEvent"in window&&!Dr,au=Rt&&(!Cs||Dr&&8<Dr&&11>=Dr),lu=String.fromCharCode(32),uu=!1;function cu(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function cp(e,t){switch(e){case"compositionend":return du(t);case"keypress":return t.which!==32?null:(uu=!0,lu);case"textInput":return e=t.data,e===lu&&uu?null:e;default:return null}}function dp(e,t){if(Yn)return e==="compositionend"||!Cs&&cu(e,t)?(e=nu(),zi=_s=Jt=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return au&&t.locale!=="ko"?null:t.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fp[e.type]:t==="textarea"}function pu(e,t,n,r){bl(r),t=Di(t,"onChange"),0<t.length&&(n=new ws("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Ur=null;function pp(e){Ou(e,0)}function Pi(e){var t=Xn(e);if(xl(t))return e}function hp(e,t){if(e==="change")return t}var hu=!1;if(Rt){var Ts;if(Rt){var Is="oninput"in document;if(!Is){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),Is=typeof mu.oninput=="function"}Ts=Is}else Ts=!1;hu=Ts&&(!document.documentMode||9<document.documentMode)}function gu(){jr&&(jr.detachEvent("onpropertychange",vu),Ur=jr=null)}function vu(e){if(e.propertyName==="value"&&Pi(Ur)){var t=[];pu(t,Ur,e,ss(e)),jl(pp,t)}}function mp(e,t,n){e==="focusin"?(gu(),jr=t,Ur=n,jr.attachEvent("onpropertychange",vu)):e==="focusout"&&gu()}function gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Ur)}function vp(e,t){if(e==="click")return Pi(t)}function yp(e,t){if(e==="input"||e==="change")return Pi(t)}function _p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:_p;function Mr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uo.call(t,i)||!_t(e[i],t[i]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var n=yu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yu(n)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mi(e.document)}return t}function zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wu(n.ownerDocument.documentElement,n)){if(r!==null&&zs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=_u(n,o);var s=_u(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xp=Rt&&"documentMode"in document&&11>=document.documentMode,Zn=null,As=null,$r=null,Ns=!1;function Su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ns||Zn==null||Zn!==mi(r)||(r=Zn,"selectionStart"in r&&zs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&Mr($r,r)||($r=r,r=Di(As,"onSelect"),0<r.length&&(t=new ws("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Os={},ku={};Rt&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ri(e){if(Os[e])return Os[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ku)return Os[e]=t[n];return e}var Eu=Ri("animationend"),Cu=Ri("animationiteration"),Tu=Ri("animationstart"),Iu=Ri("transitionend"),zu=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){zu.set(e,t),_n(t,[e])}for(var Ps=0;Ps<Au.length;Ps++){var bs=Au[Ps],Sp=bs.toLowerCase(),kp=bs[0].toUpperCase()+bs.slice(1);en(Sp,"on"+kp)}en(Eu,"onAnimationEnd"),en(Cu,"onAnimationIteration"),en(Tu,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Iu,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Nu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sf(r,t,void 0,e),e.currentTarget=null}function Ou(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nu(i,a,d),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,d=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nu(i,a,d),o=l}}}if(yi)throw e=cs,yi=!1,cs=null,e}function _e(e,t){var n=t[Fs];n===void 0&&(n=t[Fs]=new Set);var r=e+"__bubble";n.has(r)||(Pu(t,e,2,!1),n.add(r))}function Rs(e,t,n){var r=0;t&&(r|=4),Pu(n,e,r,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Li]){e[Li]=!0,pl.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||Rs(n,!1,e),Rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,Rs("selectionchange",!1,t))}}function Pu(e,t,n,r){switch(tu(t)){case 1:var i=Uf;break;case 4:i=Mf;break;default:i=vs}n=i.bind(null,t,n,e),i=void 0,!us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ls(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=xn(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}jl(function(){var d=o,_=ss(n),m=[];e:{var v=zu.get(e);if(v!==void 0){var h=ws,w=e;switch(e){case"keypress":if(Ai(n)===0)break e;case"keydown":case"keyup":h=ep;break;case"focusin":w="focus",h=ks;break;case"focusout":w="blur",h=ks;break;case"beforeblur":case"afterblur":h=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rp;break;case Eu:case Cu:case Tu:h=Vf;break;case Iu:h=op;break;case"scroll":h=$f;break;case"wheel":h=ap;break;case"copy":case"cut":case"paste":h=Zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=su}var p=(t&4)!==0,x=!p&&e==="scroll",c=p?v!==null?v+"Capture":null:v;p=[];for(var u=d,g;u!==null;){g=u;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,c!==null&&(S=Er(u,c),S!=null&&p.push(Wr(u,S,g)))),x)break;u=u.return}0<p.length&&(v=new h(v,w,null,n,_),m.push({event:v,listeners:p}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",v&&n!==os&&(w=n.relatedTarget||n.fromElement)&&(xn(w)||w[Dt]))break e;if((h||v)&&(v=_.window===_?_:(v=_.ownerDocument)?v.defaultView||v.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=d,w=w?xn(w):null,w!==null&&(x=wn(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=d),h!==w)){if(p=iu,S="onMouseLeave",c="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(p=su,S="onPointerLeave",c="onPointerEnter",u="pointer"),x=h==null?v:Xn(h),g=w==null?v:Xn(w),v=new p(S,u+"leave",h,n,_),v.target=x,v.relatedTarget=g,S=null,xn(_)===d&&(p=new p(c,u+"enter",w,n,_),p.target=g,p.relatedTarget=x,S=p),x=S,h&&w)t:{for(p=h,c=w,u=0,g=p;g;g=Qn(g))u++;for(g=0,S=c;S;S=Qn(S))g++;for(;0<u-g;)p=Qn(p),u--;for(;0<g-u;)c=Qn(c),g--;for(;u--;){if(p===c||c!==null&&p===c.alternate)break t;p=Qn(p),c=Qn(c)}p=null}else p=null;h!==null&&bu(m,v,h,p,!1),w!==null&&x!==null&&bu(m,x,w,p,!0)}}e:{if(v=d?Xn(d):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var T=hp;else if(fu(v))if(hu)T=yp;else{T=gp;var P=mp}else(h=v.nodeName)&&h.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=vp);if(T&&(T=T(e,d))){pu(m,T,n,_);break e}P&&P(e,v,d),e==="focusout"&&(P=v._wrapperState)&&P.controlled&&v.type==="number"&&es(v,"number",v.value)}switch(P=d?Xn(d):window,e){case"focusin":(fu(P)||P.contentEditable==="true")&&(Zn=P,As=d,$r=null);break;case"focusout":$r=As=Zn=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,Su(m,n,_);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":Su(m,n,_)}var A;if(Cs)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Yn?cu(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(au&&n.locale!=="ko"&&(Yn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Yn&&(A=nu()):(Jt=_,_s="value"in Jt?Jt.value:Jt.textContent,Yn=!0)),P=Di(d,j),0<P.length&&(j=new ou(j,e,null,n,_),m.push({event:j,listeners:P}),A?j.data=A:(A=du(n),A!==null&&(j.data=A)))),(A=up?cp(e,n):dp(e,n))&&(d=Di(d,"onBeforeInput"),0<d.length&&(_=new ou("onBeforeInput","beforeinput",null,n,_),m.push({event:_,listeners:d}),_.data=A))}Ou(m,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Di(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Er(e,n),o!=null&&r.unshift(Wr(e,o,i)),o=Er(e,t),o!=null&&r.push(Wr(e,o,i))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bu(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=Er(n,o),l!=null&&s.unshift(Wr(n,l,a))):i||(l=Er(n,o),l!=null&&s.push(Wr(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Cp=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(Tp,"")}function ji(e,t,n){if(t=Ru(t),Ru(e)!==t&&n)throw Error(q(425))}function Ui(){}var Ds=null,js=null;function Us(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,Ip=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(e){return Lu.resolve(null).then(e).catch(Ap)}:Ms;function Ap(e){setTimeout(function(){throw e})}function $s(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),br(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);br(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),At="__reactFiber$"+Kn,Hr="__reactProps$"+Kn,Dt="__reactContainer$"+Kn,Fs="__reactEvents$"+Kn,Np="__reactListeners$"+Kn,Op="__reactHandles$"+Kn;function xn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Du(e);e!==null;){if(n=e[At])return n;e=Du(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[At]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Mi(e){return e[Hr]||null}var Bs=[],qn=-1;function nn(e){return{current:e}}function we(e){0>qn||(e.current=Bs[qn],Bs[qn]=null,qn--)}function ve(e,t){qn++,Bs[qn]=e.current,e.current=t}var rn={},Me=nn(rn),Qe=nn(!1),Sn=rn;function Jn(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(e){return e=e.childContextTypes,e!=null}function $i(){we(Qe),we(Me)}function ju(e,t,n){if(Me.current!==rn)throw Error(q(168));ve(Me,t),ve(Qe,n)}function Uu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,mf(e)||"Unknown",i));return ke({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,Sn=Me.current,ve(Me,e),ve(Qe,Qe.current),!0}function Mu(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Uu(e,t,Sn),r.__reactInternalMemoizedMergedChildContext=e,we(Qe),we(Me),ve(Me,e)):we(Qe),ve(Qe,n)}var jt=null,Bi=!1,Ws=!1;function $u(e){jt===null?jt=[e]:jt.push(e)}function Pp(e){Bi=!0,$u(e)}function on(){if(!Ws&&jt!==null){Ws=!0;var e=0,t=me;try{var n=jt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,Bi=!1}catch(i){throw jt!==null&&(jt=jt.slice(e+1)),Bl(ds,on),i}finally{me=t,Ws=!1}}return null}var er=[],tr=0,Wi=null,Hi=0,ut=[],ct=0,kn=null,Ut=1,Mt="";function En(e,t){er[tr++]=Hi,er[tr++]=Wi,Wi=e,Hi=t}function Fu(e,t,n){ut[ct++]=Ut,ut[ct++]=Mt,ut[ct++]=kn,kn=e;var r=Ut;e=Mt;var i=32-yt(r)-1;r&=~(1<<i),n+=1;var o=32-yt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ut=1<<32-yt(t)+i|n<<i|r,Mt=o+e}else Ut=1<<o|n<<i|r,Mt=e}function Hs(e){e.return!==null&&(En(e,1),Fu(e,1,0))}function Vs(e){for(;e===Wi;)Wi=er[--tr],er[tr]=null,Hi=er[--tr],er[tr]=null;for(;e===kn;)kn=ut[--ct],ut[ct]=null,Mt=ut[--ct],ut[ct]=null,Ut=ut[--ct],ut[ct]=null}var rt=null,it=null,xe=!1,wt=null;function Bu(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,it=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:Ut,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,it=null,!0):!1;default:return!1}}function Ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zs(e){if(xe){var t=it;if(t){var n=t;if(!Wu(e,t)){if(Ys(e))throw Error(q(418));t=tn(n.nextSibling);var r=rt;t&&Wu(e,t)?Bu(r,n):(e.flags=e.flags&-4097|2,xe=!1,rt=e)}}else{if(Ys(e))throw Error(q(418));e.flags=e.flags&-4097|2,xe=!1,rt=e}}}function Hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function Vi(e){if(e!==rt)return!1;if(!xe)return Hu(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Us(e.type,e.memoizedProps)),t&&(t=it)){if(Ys(e))throw Vu(),Error(q(418));for(;t;)Bu(e,t),t=tn(t.nextSibling)}if(Hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=rt?tn(e.stateNode.nextSibling):null;return!0}function Vu(){for(var e=it;e;)e=tn(e.nextSibling)}function nr(){it=rt=null,xe=!1}function Gs(e){wt===null?wt=[e]:wt.push(e)}var bp=Lt.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yu(e){var t=e._init;return t(e._payload)}function Zu(e){function t(c,u){if(e){var g=c.deletions;g===null?(c.deletions=[u],c.flags|=16):g.push(u)}}function n(c,u){if(!e)return null;for(;u!==null;)t(c,u),u=u.sibling;return null}function r(c,u){for(c=new Map;u!==null;)u.key!==null?c.set(u.key,u):c.set(u.index,u),u=u.sibling;return c}function i(c,u){return c=pn(c,u),c.index=0,c.sibling=null,c}function o(c,u,g){return c.index=g,e?(g=c.alternate,g!==null?(g=g.index,g<u?(c.flags|=2,u):g):(c.flags|=2,u)):(c.flags|=1048576,u)}function s(c){return e&&c.alternate===null&&(c.flags|=2),c}function a(c,u,g,S){return u===null||u.tag!==6?(u=Ma(g,c.mode,S),u.return=c,u):(u=i(u,g),u.return=c,u)}function l(c,u,g,S){var T=g.type;return T===$n?_(c,u,g.props.children,S,g.key):u!==null&&(u.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zt&&Yu(T)===u.type)?(S=i(u,g.props),S.ref=Yr(c,u,g),S.return=c,S):(S=vo(g.type,g.key,g.props,null,c.mode,S),S.ref=Yr(c,u,g),S.return=c,S)}function d(c,u,g,S){return u===null||u.tag!==4||u.stateNode.containerInfo!==g.containerInfo||u.stateNode.implementation!==g.implementation?(u=$a(g,c.mode,S),u.return=c,u):(u=i(u,g.children||[]),u.return=c,u)}function _(c,u,g,S,T){return u===null||u.tag!==7?(u=Pn(g,c.mode,S,T),u.return=c,u):(u=i(u,g),u.return=c,u)}function m(c,u,g){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Ma(""+u,c.mode,g),u.return=c,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case pi:return g=vo(u.type,u.key,u.props,null,c.mode,g),g.ref=Yr(c,null,u),g.return=c,g;case Mn:return u=$a(u,c.mode,g),u.return=c,u;case Zt:var S=u._init;return m(c,S(u._payload),g)}if(xr(u)||_r(u))return u=Pn(u,c.mode,g,null),u.return=c,u;Yi(c,u)}return null}function v(c,u,g,S){var T=u!==null?u.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(c,u,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pi:return g.key===T?l(c,u,g,S):null;case Mn:return g.key===T?d(c,u,g,S):null;case Zt:return T=g._init,v(c,u,T(g._payload),S)}if(xr(g)||_r(g))return T!==null?null:_(c,u,g,S,null);Yi(c,g)}return null}function h(c,u,g,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return c=c.get(g)||null,a(u,c,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pi:return c=c.get(S.key===null?g:S.key)||null,l(u,c,S,T);case Mn:return c=c.get(S.key===null?g:S.key)||null,d(u,c,S,T);case Zt:var P=S._init;return h(c,u,g,P(S._payload),T)}if(xr(S)||_r(S))return c=c.get(g)||null,_(u,c,S,T,null);Yi(u,S)}return null}function w(c,u,g,S){for(var T=null,P=null,A=u,j=u=0,D=null;A!==null&&j<g.length;j++){A.index>j?(D=A,A=null):D=A.sibling;var $=v(c,A,g[j],S);if($===null){A===null&&(A=D);break}e&&A&&$.alternate===null&&t(c,A),u=o($,u,j),P===null?T=$:P.sibling=$,P=$,A=D}if(j===g.length)return n(c,A),xe&&En(c,j),T;if(A===null){for(;j<g.length;j++)A=m(c,g[j],S),A!==null&&(u=o(A,u,j),P===null?T=A:P.sibling=A,P=A);return xe&&En(c,j),T}for(A=r(c,A);j<g.length;j++)D=h(A,c,j,g[j],S),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?j:D.key),u=o(D,u,j),P===null?T=D:P.sibling=D,P=D);return e&&A.forEach(function(J){return t(c,J)}),xe&&En(c,j),T}function p(c,u,g,S){var T=_r(g);if(typeof T!="function")throw Error(q(150));if(g=T.call(g),g==null)throw Error(q(151));for(var P=T=null,A=u,j=u=0,D=null,$=g.next();A!==null&&!$.done;j++,$=g.next()){A.index>j?(D=A,A=null):D=A.sibling;var J=v(c,A,$.value,S);if(J===null){A===null&&(A=D);break}e&&A&&J.alternate===null&&t(c,A),u=o(J,u,j),P===null?T=J:P.sibling=J,P=J,A=D}if($.done)return n(c,A),xe&&En(c,j),T;if(A===null){for(;!$.done;j++,$=g.next())$=m(c,$.value,S),$!==null&&(u=o($,u,j),P===null?T=$:P.sibling=$,P=$);return xe&&En(c,j),T}for(A=r(c,A);!$.done;j++,$=g.next())$=h(A,c,j,$.value,S),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?j:$.key),u=o($,u,j),P===null?T=$:P.sibling=$,P=$);return e&&A.forEach(function(C){return t(c,C)}),xe&&En(c,j),T}function x(c,u,g,S){if(typeof g=="object"&&g!==null&&g.type===$n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pi:e:{for(var T=g.key,P=u;P!==null;){if(P.key===T){if(T=g.type,T===$n){if(P.tag===7){n(c,P.sibling),u=i(P,g.props.children),u.return=c,c=u;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zt&&Yu(T)===P.type){n(c,P.sibling),u=i(P,g.props),u.ref=Yr(c,P,g),u.return=c,c=u;break e}n(c,P);break}else t(c,P);P=P.sibling}g.type===$n?(u=Pn(g.props.children,c.mode,S,g.key),u.return=c,c=u):(S=vo(g.type,g.key,g.props,null,c.mode,S),S.ref=Yr(c,u,g),S.return=c,c=S)}return s(c);case Mn:e:{for(P=g.key;u!==null;){if(u.key===P)if(u.tag===4&&u.stateNode.containerInfo===g.containerInfo&&u.stateNode.implementation===g.implementation){n(c,u.sibling),u=i(u,g.children||[]),u.return=c,c=u;break e}else{n(c,u);break}else t(c,u);u=u.sibling}u=$a(g,c.mode,S),u.return=c,c=u}return s(c);case Zt:return P=g._init,x(c,u,P(g._payload),S)}if(xr(g))return w(c,u,g,S);if(_r(g))return p(c,u,g,S);Yi(c,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,u!==null&&u.tag===6?(n(c,u.sibling),u=i(u,g),u.return=c,c=u):(n(c,u),u=Ma(g,c.mode,S),u.return=c,c=u),s(c)):n(c,u)}return x}var rr=Zu(!0),Gu=Zu(!1),Zi=nn(null),Gi=null,ir=null,Qs=null;function Ks(){Qs=ir=Gi=null}function Xs(e){var t=Zi.current;we(Zi),e._currentValue=t}function qs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function or(e,t){Gi=e,Qs=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Qs!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(Gi===null)throw Error(q(308));ir=e,Gi.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var Cn=null;function Js(e){Cn===null?Cn=[e]:Cn.push(e)}function Qu(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Js(t)):(n.next=i.next,i.next=n),t.interleaved=n,$t(e,r)}function $t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$t(e,n)}return i=r.interleaved,i===null?(t.next=t,Js(r)):(t.next=i.next,i.next=t),r.interleaved=t,$t(e,n)}function Qi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hs(e,n)}}function Xu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var i=e.updateQueue;sn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,s===null?o=d:s.next=d,s=l;var _=e.alternate;_!==null&&(_=_.updateQueue,a=_.lastBaseUpdate,a!==s&&(a===null?_.firstBaseUpdate=d:a.next=d,_.lastBaseUpdate=l))}if(o!==null){var m=i.baseState;s=0,_=d=l=null,a=o;do{var v=a.lane,h=a.eventTime;if((r&v)===v){_!==null&&(_=_.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,p=a;switch(v=t,h=n,p.tag){case 1:if(w=p.payload,typeof w=="function"){m=w.call(h,m,v);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,v=typeof w=="function"?w.call(h,m,v):w,v==null)break e;m=ke({},m,v);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else h={eventTime:h,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},_===null?(d=_=h,l=m):_=_.next=h,s|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(_===null&&(l=m),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=_,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);zn|=s,e.lanes=s,e.memoizedState=m}}function qu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Zr={},Nt=nn(Zr),Gr=nn(Zr),Qr=nn(Zr);function Tn(e){if(e===Zr)throw Error(q(174));return e}function ta(e,t){switch(ve(Qr,t),ve(Gr,e),ve(Nt,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ns(t,e)}we(Nt),ve(Nt,t)}function sr(){we(Nt),we(Gr),we(Qr)}function Ju(e){Tn(Qr.current);var t=Tn(Nt.current),n=ns(t,e.type);t!==n&&(ve(Gr,e),ve(Nt,n))}function na(e){Gr.current===e&&(we(Nt),we(Gr))}var Ee=nn(0);function Xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var qi=Lt.ReactCurrentDispatcher,oa=Lt.ReactCurrentBatchConfig,In=0,Ce=null,Oe=null,be=null,Ji=!1,Kr=!1,Xr=0,Rp=0;function $e(){throw Error(q(321))}function sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(In=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qi.current=e===null||e.memoizedState===null?Up:Mp,e=n(r,i),Kr){o=0;do{if(Kr=!1,Xr=0,25<=o)throw Error(q(301));o+=1,be=Oe=null,t.updateQueue=null,qi.current=$p,e=n(r,i)}while(Kr)}if(qi.current=no,t=Oe!==null&&Oe.next!==null,In=0,be=Oe=Ce=null,Ji=!1,t)throw Error(q(300));return e}function la(){var e=Xr!==0;return Xr=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ce.memoizedState=be=e:be=be.next=e,be}function ft(){if(Oe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=be===null?Ce.memoizedState:be.next;if(t!==null)be=t,Oe=e;else{if(e===null)throw Error(q(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},be===null?Ce.memoizedState=be=e:be=be.next=e}return be}function qr(e,t){return typeof t=="function"?t(e):t}function ua(e){var t=ft(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Oe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,d=o;do{var _=d.lane;if((In&_)===_)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:_,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=m,s=r):l=l.next=m,Ce.lanes|=_,zn|=_}d=d.next}while(d!==null&&d!==o);l===null?s=r:l.next=a,_t(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ce.lanes|=o,zn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ca(e){var t=ft(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);_t(o,t.memoizedState)||(Xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ec(){}function tc(e,t){var n=Ce,r=ft(),i=t(),o=!_t(r.memoizedState,i);if(o&&(r.memoizedState=i,Xe=!0),r=r.queue,da(ic.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Jr(9,rc.bind(null,n,r,i,t),void 0,null),Re===null)throw Error(q(349));In&30||nc(n,t,i)}return i}function nc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rc(e,t,n,r){t.value=n,t.getSnapshot=r,oc(t)&&sc(e)}function ic(e,t,n){return n(function(){oc(t)&&sc(e)})}function oc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function sc(e){var t=$t(e,1);t!==null&&Et(t,e,1,-1)}function ac(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t.queue=e,e=e.dispatch=jp.bind(null,Ce,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lc(){return ft().memoizedState}function eo(e,t,n,r){var i=Ot();Ce.flags|=e,i.memoizedState=Jr(1|t,n,void 0,r===void 0?null:r)}function to(e,t,n,r){var i=ft();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var s=Oe.memoizedState;if(o=s.destroy,r!==null&&sa(r,s.deps)){i.memoizedState=Jr(t,n,o,r);return}}Ce.flags|=e,i.memoizedState=Jr(1|t,n,o,r)}function uc(e,t){return eo(8390656,8,e,t)}function da(e,t){return to(2048,8,e,t)}function cc(e,t){return to(4,2,e,t)}function dc(e,t){return to(4,4,e,t)}function fc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pc(e,t,n){return n=n!=null?n.concat([e]):null,to(4,4,fc.bind(null,t,e),n)}function fa(){}function hc(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mc(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gc(e,t,n){return In&21?(_t(n,t)||(n=Yl(),Ce.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Lp(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{me=n,oa.transition=r}}function vc(){return ft().memoizedState}function Dp(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yc(e))_c(t,n);else if(n=Qu(e,t,n,r),n!==null){var i=Ye();Et(n,e,r,i),wc(n,t,r)}}function jp(e,t,n){var r=dn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yc(e))_c(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,_t(a,s)){var l=t.interleaved;l===null?(i.next=i,Js(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Qu(e,t,i,r),n!==null&&(i=Ye(),Et(n,e,r,i),wc(n,t,r))}}function yc(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function _c(e,t){Kr=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hs(e,n)}}var no={readContext:dt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Up={readContext:dt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:uc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eo(4194308,4,fc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return eo(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dp.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:ac,useDebugValue:fa,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=ac(!1),t=e[0];return e=Lp.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=Ot();if(xe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Re===null)throw Error(q(349));In&30||nc(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,uc(ic.bind(null,r,o,e),[e]),r.flags|=2048,Jr(9,rc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Re.identifierPrefix;if(xe){var n=Mt,r=Ut;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mp={readContext:dt,useCallback:hc,useContext:dt,useEffect:da,useImperativeHandle:pc,useInsertionEffect:cc,useLayoutEffect:dc,useMemo:mc,useReducer:ua,useRef:lc,useState:function(){return ua(qr)},useDebugValue:fa,useDeferredValue:function(e){var t=ft();return gc(t,Oe.memoizedState,e)},useTransition:function(){var e=ua(qr)[0],t=ft().memoizedState;return[e,t]},useMutableSource:ec,useSyncExternalStore:tc,useId:vc,unstable_isNewReconciler:!1},$p={readContext:dt,useCallback:hc,useContext:dt,useEffect:da,useImperativeHandle:pc,useInsertionEffect:cc,useLayoutEffect:dc,useMemo:mc,useReducer:ca,useRef:lc,useState:function(){return ca(qr)},useDebugValue:fa,useDeferredValue:function(e){var t=ft();return Oe===null?t.memoizedState=e:gc(t,Oe.memoizedState,e)},useTransition:function(){var e=ca(qr)[0],t=ft().memoizedState;return[e,t]},useMutableSource:ec,useSyncExternalStore:tc,useId:vc,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=dn(e),o=Ft(r,i);o.payload=t,n!=null&&(o.callback=n),t=an(e,o,i),t!==null&&(Et(t,e,i,r),Qi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=dn(e),o=Ft(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=an(e,o,i),t!==null&&(Et(t,e,i,r),Qi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=dn(e),i=Ft(n,r);i.tag=2,t!=null&&(i.callback=t),t=an(e,i,r),t!==null&&(Et(t,e,r,n),Qi(t,e,r))}};function xc(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,o):!0}function Sc(e,t,n){var r=!1,i=rn,o=t.contextType;return typeof o=="object"&&o!==null?o=dt(o):(i=Ke(t)?Sn:Me.current,r=t.contextTypes,o=(r=r!=null)?Jn(e,i):rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ea(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dt(o):(o=Ke(t)?Sn:Me.current,i.context=Jn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pa(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Ki(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",r=t;do n+=hf(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ga(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fp=typeof WeakMap=="function"?WeakMap:Map;function Ec(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,Oa=r),ga(e,t)},n}function Cc(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ga(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ga(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=th.bind(null,e,t,n),t.then(e,e))}function Ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var Bp=Lt.ReactCurrentOwner,Xe=!1;function Ve(e,t,n,r){t.child=e===null?Gu(t,null,n,r):rr(t,e.child,n,r)}function Ac(e,t,n,r,i){n=n.render;var o=t.ref;return or(t,i),r=aa(e,t,n,r,o,i),n=la(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bt(e,t,i)):(xe&&n&&Hs(t),t.flags|=1,Ve(e,t,r,i),t.child)}function Nc(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ua(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Oc(e,t,o,r,i)):(e=vo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(s,r)&&e.ref===t.ref)return Bt(e,t,i)}return t.flags|=1,e=pn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Oc(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Mr(o,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Bt(e,t,i)}return va(e,t,n,r,i)}function Pc(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ur,ot),ot|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(ur,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ve(ur,ot),ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ve(ur,ot),ot|=r;return Ve(e,t,i,n),t.child}function bc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function va(e,t,n,r,i){var o=Ke(n)?Sn:Me.current;return o=Jn(t,o),or(t,i),n=aa(e,t,n,r,o,i),r=la(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bt(e,t,i)):(xe&&r&&Hs(t),t.flags|=1,Ve(e,t,n,i),t.child)}function Rc(e,t,n,r,i){if(Ke(n)){var o=!0;Fi(t)}else o=!1;if(or(t,i),t.stateNode===null)oo(e,t),Sc(t,n,r),ha(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=dt(d):(d=Ke(n)?Sn:Me.current,d=Jn(t,d));var _=n.getDerivedStateFromProps,m=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==d)&&kc(t,s,r,d),sn=!1;var v=t.memoizedState;s.state=v,Ki(t,r,s,i),l=t.memoizedState,a!==r||v!==l||Qe.current||sn?(typeof _=="function"&&(pa(t,n,_,r),l=t.memoizedState),(a=sn||xc(t,n,a,r,v,l,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=d,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ku(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:xt(t.type,a),s.props=d,m=t.pendingProps,v=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=Ke(n)?Sn:Me.current,l=Jn(t,l));var h=n.getDerivedStateFromProps;(_=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||v!==l)&&kc(t,s,r,l),sn=!1,v=t.memoizedState,s.state=v,Ki(t,r,s,i);var w=t.memoizedState;a!==m||v!==w||Qe.current||sn?(typeof h=="function"&&(pa(t,n,h,r),w=t.memoizedState),(d=sn||xc(t,n,d,r,v,w,l)||!1)?(_||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=l,r=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return ya(e,t,n,r,o,i)}function ya(e,t,n,r,i,o){bc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Mu(t,n,!1),Bt(e,t,o);r=t.stateNode,Bp.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=rr(t,e.child,null,o),t.child=rr(t,null,a,o)):Ve(e,t,a,o),t.memoizedState=r.state,i&&Mu(t,n,!0),t.child}function Lc(e){var t=e.stateNode;t.pendingContext?ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ju(e,t.context,!1),ta(e,t.containerInfo)}function Dc(e,t,n,r,i){return nr(),Gs(i),t.flags|=256,Ve(e,t,n,r),t.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jc(e,t,n){var r=t.pendingProps,i=Ee.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(Ee,i&1),e===null)return Zs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=yo(s,r,0,null),e=Pn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=wa(n),t.memoizedState=_a,e):xa(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Wp(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=pn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=pn(a,o):(o=Pn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?wa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=_a,r}return o=e.child,e=o.sibling,r=pn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xa(e,t){return t=yo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function io(e,t,n,r){return r!==null&&Gs(r),rr(t,e.child,null,n),e=xa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ma(Error(q(422))),io(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=yo({mode:"visible",children:r.children},i,0,null),o=Pn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&rr(t,e.child,null,s),t.child.memoizedState=wa(s),t.memoizedState=_a,o);if(!(t.mode&1))return io(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=ma(o,r,void 0),io(e,t,s,r)}if(a=(s&e.childLanes)!==0,Xe||a){if(r=Re,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$t(e,i),Et(r,e,i,-1))}return ja(),r=ma(Error(q(421))),io(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nh.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,it=tn(i.nextSibling),rt=t,xe=!0,wt=null,e!==null&&(ut[ct++]=Ut,ut[ct++]=Mt,ut[ct++]=kn,Ut=e.id,Mt=e.overflow,kn=t),t=xa(t,r.children),t.flags|=4096,t)}function Uc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qs(e.return,t,n)}function Sa(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Mc(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ve(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,n,t);else if(e.tag===19)Uc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Sa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Sa(t,!0,n,null,o);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hp(e,t,n){switch(t.tag){case 3:Lc(t),nr();break;case 5:Ju(t);break;case 1:Ke(t.type)&&Fi(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ve(Zi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?jc(e,t,n):(ve(Ee,Ee.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Pc(e,t,n)}return Bt(e,t,n)}var $c,ka,Fc,Bc;$c=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ka=function(){},Fc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Tn(Nt.current);var o=null;switch(n){case"input":i=qo(e,i),r=qo(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=ts(e,i),r=ts(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ui)}rs(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yr.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&_e("scroll",e),o||a===l||(o=[])):(o=o||[]).push(d,l))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Bc=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vp(e,t,n){var r=t.pendingProps;switch(Vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Ke(t.type)&&$i(),Fe(t),null;case 3:return r=t.stateNode,sr(),we(Qe),we(Me),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Ra(wt),wt=null))),ka(e,t),Fe(t),null;case 5:na(t);var i=Tn(Qr.current);if(n=t.type,e!==null&&t.stateNode!=null)Fc(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Fe(t),null}if(e=Tn(Nt.current),Vi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[At]=t,r[Hr]=o,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)_e(Fr[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Sl(r,o),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},_e("invalid",r);break;case"textarea":Cl(r,o),_e("invalid",r)}rs(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ji(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ji(r.textContent,a,e),i=["children",""+a]):yr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&_e("scroll",r)}switch(n){case"input":hi(r),El(r,o,!0);break;case"textarea":hi(r),Il(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ui)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zl(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[At]=t,e[Hr]=r,$c(e,t,!1,!1),t.stateNode=e;e:{switch(s=is(n,r),n){case"dialog":_e("cancel",e),_e("close",e),i=r;break;case"iframe":case"object":case"embed":_e("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)_e(Fr[i],e);i=r;break;case"source":_e("error",e),i=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),i=r;break;case"details":_e("toggle",e),i=r;break;case"input":Sl(e,r),i=qo(e,r),_e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Cl(e,r),i=ts(e,r),_e("invalid",e);break;default:i=r}rs(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ol(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Al(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sr(e,l):typeof l=="number"&&Sr(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yr.hasOwnProperty(o)?l!=null&&o==="onScroll"&&_e("scroll",e):l!=null&&Fo(e,o,l,s))}switch(n){case"input":hi(e),El(e,r,!1);break;case"textarea":hi(e),Il(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Fn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ui)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Bc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Tn(Qr.current),Tn(Nt.current),Vi(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(o=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Fe(t),null;case 13:if(we(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&it!==null&&t.mode&1&&!(t.flags&128))Vu(),nr(),t.flags|=98560,o=!1;else if(o=Vi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[At]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),o=!1}else wt!==null&&(Ra(wt),wt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Pe===0&&(Pe=3):ja())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return sr(),ka(e,t),e===null&&Br(t.stateNode.containerInfo),Fe(t),null;case 10:return Xs(t.type._context),Fe(t),null;case 17:return Ke(t.type)&&$i(),Fe(t),null;case 19:if(we(Ee),o=t.memoizedState,o===null)return Fe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ei(o,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Xi(e),s!==null){for(t.flags|=128,ei(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>cr&&(t.flags|=128,r=!0,ei(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return Fe(t),null}else 2*ze()-o.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,ei(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Ee.current,ve(Ee,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return Da(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Yp(e,t){switch(Vs(t),t.tag){case 1:return Ke(t.type)&&$i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sr(),we(Qe),we(Me),ia(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return na(t),null;case 13:if(we(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ee),null;case 4:return sr(),null;case 10:return Xs(t.type._context),null;case 22:case 23:return Da(),null;case 24:return null;default:return null}}var so=!1,Be=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function lr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function Ea(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Wc=!1;function Gp(e,t){if(Ds=Ti,e=xu(),zs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,d=0,_=0,m=e,v=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(a=s+i),m!==o||r!==0&&m.nodeType!==3||(l=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(h=m.firstChild)!==null;)v=m,m=h;for(;;){if(m===e)break t;if(v===n&&++d===i&&(a=s),v===o&&++_===r&&(l=s),(h=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(js={focusedElem:e,selectionRange:n},Ti=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,x=w.memoizedState,c=t.stateNode,u=c.getSnapshotBeforeUpdate(t.elementType===t.type?p:xt(t.type,p),x);c.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){Ie(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return w=Wc,Wc=!1,w}function ti(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ea(t,n,o)}i=i.next}while(i!==r)}}function ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hc(e){var t=e.alternate;t!==null&&(e.alternate=null,Hc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Hr],delete t[Fs],delete t[Np],delete t[Op])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vc(e){return e.tag===5||e.tag===3||e.tag===4}function Yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ui));else if(r!==4&&(e=e.child,e!==null))for(Ta(e,t,n),e=e.sibling;e!==null;)Ta(e,t,n),e=e.sibling}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}var je=null,St=!1;function ln(e,t,n){for(n=n.child;n!==null;)Zc(e,t,n),n=n.sibling}function Zc(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:Be||lr(n,t);case 6:var r=je,i=St;je=null,ln(e,t,n),je=r,St=i,je!==null&&(St?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(St?(e=je,n=n.stateNode,e.nodeType===8?$s(e.parentNode,n):e.nodeType===1&&$s(e,n),br(e)):$s(je,n.stateNode));break;case 4:r=je,i=St,je=n.stateNode.containerInfo,St=!0,ln(e,t,n),je=r,St=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ea(n,t,s),i=i.next}while(i!==r)}ln(e,t,n);break;case 1:if(!Be&&(lr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,ln(e,t,n),Be=r):ln(e,t,n);break;default:ln(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zp),t.forEach(function(r){var i=rh.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,St=!1;break e;case 3:je=a.stateNode.containerInfo,St=!0;break e;case 4:je=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(je===null)throw Error(q(160));Zc(o,s,i),je=null,St=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){Ie(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qc(t,e),t=t.sibling}function Qc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Pt(e),r&4){try{ti(3,e,e.return),ao(3,e)}catch(p){Ie(e,e.return,p)}try{ti(5,e,e.return)}catch(p){Ie(e,e.return,p)}}break;case 1:kt(t,e),Pt(e),r&512&&n!==null&&lr(n,n.return);break;case 5:if(kt(t,e),Pt(e),r&512&&n!==null&&lr(n,n.return),e.flags&32){var i=e.stateNode;try{Sr(i,"")}catch(p){Ie(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kl(i,o),is(a,s);var d=is(a,o);for(s=0;s<l.length;s+=2){var _=l[s],m=l[s+1];_==="style"?Ol(i,m):_==="dangerouslySetInnerHTML"?Al(i,m):_==="children"?Sr(i,m):Fo(i,_,m,d)}switch(a){case"input":Jo(i,o);break;case"textarea":Tl(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Fn(i,!!o.multiple,h,!1):v!==!!o.multiple&&(o.defaultValue!=null?Fn(i,!!o.multiple,o.defaultValue,!0):Fn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hr]=o}catch(p){Ie(e,e.return,p)}}break;case 6:if(kt(t,e),Pt(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(p){Ie(e,e.return,p)}}break;case 3:if(kt(t,e),Pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(p){Ie(e,e.return,p)}break;case 4:kt(t,e),Pt(e);break;case 13:kt(t,e),Pt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Na=ze())),r&4&&Gc(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(d=Be)||_,kt(t,e),Be=d):kt(t,e),Pt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!_&&e.mode&1)for(oe=e,_=e.child;_!==null;){for(m=oe=_;oe!==null;){switch(v=oe,h=v.child,v.tag){case 0:case 11:case 14:case 15:ti(4,v,v.return);break;case 1:lr(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(p){Ie(r,n,p)}}break;case 5:lr(v,v.return);break;case 22:if(v.memoizedState!==null){qc(m);continue}}h!==null?(h.return=v,oe=h):qc(m)}_=_.sibling}e:for(_=null,m=e;;){if(m.tag===5){if(_===null){_=m;try{i=m.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=m.stateNode,l=m.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nl("display",s))}catch(p){Ie(e,e.return,p)}}}else if(m.tag===6){if(_===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){Ie(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kt(t,e),Pt(e),r&4&&Gc(e);break;case 21:break;default:kt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vc(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sr(i,""),r.flags&=-33);var o=Yc(e);Ia(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Yc(e);Ta(e,a,s);break;default:throw Error(q(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e,t,n){oe=e,Kc(e)}function Kc(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||so;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Be;a=so;var d=Be;if(so=s,(Be=l)&&!d)for(oe=i;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?Jc(i):l!==null?(l.return=s,oe=l):Jc(i);for(;o!==null;)oe=o,Kc(o),o=o.sibling;oe=i,so=a,Be=d}Xc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):Xc(e)}}function Xc(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||ao(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&qu(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qu(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var _=d.memoizedState;if(_!==null){var m=_.dehydrated;m!==null&&br(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Be||t.flags&512&&Ca(t)}catch(v){Ie(t,t.return,v)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function qc(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Jc(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ao(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var o=t.return;try{Ca(t)}catch(l){Ie(t,o,l)}break;case 5:var s=t.return;try{Ca(t)}catch(l){Ie(t,s,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){oe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,oe=a;break}oe=t.return}}var Kp=Math.ceil,lo=Lt.ReactCurrentDispatcher,za=Lt.ReactCurrentOwner,pt=Lt.ReactCurrentBatchConfig,pe=0,Re=null,Ae=null,Ue=0,ot=0,ur=nn(0),Pe=0,ni=null,zn=0,uo=0,Aa=0,ri=null,qe=null,Na=0,cr=1/0,Wt=null,co=!1,Oa=null,un=null,fo=!1,cn=null,po=0,ii=0,Pa=null,ho=-1,mo=0;function Ye(){return pe&6?ze():ho!==-1?ho:ho=ze()}function dn(e){return e.mode&1?pe&2&&Ue!==0?Ue&-Ue:bp.transition!==null?(mo===0&&(mo=Yl()),mo):(e=me,e!==0||(e=window.event,e=e===void 0?16:tu(e.type)),e):1}function Et(e,t,n,r){if(50<ii)throw ii=0,Pa=null,Error(q(185));zr(e,n,r),(!(pe&2)||e!==Re)&&(e===Re&&(!(pe&2)&&(uo|=n),Pe===4&&fn(e,Ue)),Je(e,r),n===1&&pe===0&&!(t.mode&1)&&(cr=ze()+500,Bi&&on()))}function Je(e,t){var n=e.callbackNode;bf(e,t);var r=ki(e,e===Re?Ue:0);if(r===0)n!==null&&Wl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wl(n),t===1)e.tag===0?Pp(td.bind(null,e)):$u(td.bind(null,e)),zp(function(){!(pe&6)&&on()}),n=null;else{switch(Zl(r)){case 1:n=ds;break;case 4:n=Hl;break;case 16:n=_i;break;case 536870912:n=Vl;break;default:n=_i}n=ud(n,ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ed(e,t){if(ho=-1,mo=0,pe&6)throw Error(q(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=ki(e,e===Re?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=go(e,r);else{t=r;var i=pe;pe|=2;var o=rd();(Re!==e||Ue!==t)&&(Wt=null,cr=ze()+500,Nn(e,t));do try{Jp();break}catch(a){nd(e,a)}while(1);Ks(),lo.current=o,pe=i,Ae!==null?t=0:(Re=null,Ue=0,t=Pe)}if(t!==0){if(t===2&&(i=fs(e),i!==0&&(r=i,t=ba(e,i))),t===1)throw n=ni,Nn(e,0),fn(e,r),Je(e,ze()),n;if(t===6)fn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xp(i)&&(t=go(e,r),t===2&&(o=fs(e),o!==0&&(r=o,t=ba(e,o))),t===1))throw n=ni,Nn(e,0),fn(e,r),Je(e,ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:On(e,qe,Wt);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=Na+500-ze(),10<t)){if(ki(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ms(On.bind(null,e,qe,Wt),t);break}On(e,qe,Wt);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-yt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kp(r/1960))-r,10<r){e.timeoutHandle=Ms(On.bind(null,e,qe,Wt),r);break}On(e,qe,Wt);break;case 5:On(e,qe,Wt);break;default:throw Error(q(329))}}}return Je(e,ze()),e.callbackNode===n?ed.bind(null,e):null}function ba(e,t){var n=ri;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=go(e,t),e!==2&&(t=qe,qe=n,t!==null&&Ra(t)),e}function Ra(e){qe===null?qe=e:qe.push.apply(qe,e)}function Xp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!_t(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Aa,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function td(e){if(pe&6)throw Error(q(327));dr();var t=ki(e,0);if(!(t&1))return Je(e,ze()),null;var n=go(e,t);if(e.tag!==0&&n===2){var r=fs(e);r!==0&&(t=r,n=ba(e,r))}if(n===1)throw n=ni,Nn(e,0),fn(e,t),Je(e,ze()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,qe,Wt),Je(e,ze()),null}function La(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(cr=ze()+500,Bi&&on())}}function An(e){cn!==null&&cn.tag===0&&!(pe&6)&&dr();var t=pe;pe|=1;var n=pt.transition,r=me;try{if(pt.transition=null,me=1,e)return e()}finally{me=r,pt.transition=n,pe=t,!(pe&6)&&on()}}function Da(){ot=ur.current,we(ur)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ip(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(Vs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$i();break;case 3:sr(),we(Qe),we(Me),ia();break;case 5:na(r);break;case 4:sr();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:Xs(r.type._context);break;case 22:case 23:Da()}n=n.return}if(Re=e,Ae=e=pn(e.current,null),Ue=ot=t,Pe=0,ni=null,Aa=uo=zn=0,qe=ri=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cn=null}return e}function nd(e,t){do{var n=Ae;try{if(Ks(),qi.current=no,Ji){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ji=!1}if(In=0,be=Oe=Ce=null,Kr=!1,Xr=0,za.current=null,n===null||n.return===null){Pe=1,ni=t,Ae=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,_=a,m=_.tag;if(!(_.mode&1)&&(m===0||m===11||m===15)){var v=_.alternate;v?(_.updateQueue=v.updateQueue,_.memoizedState=v.memoizedState,_.lanes=v.lanes):(_.updateQueue=null,_.memoizedState=null)}var h=Ic(s);if(h!==null){h.flags&=-257,zc(h,s,a,o,t),h.mode&1&&Tc(o,d,t),t=h,l=d;var w=t.updateQueue;if(w===null){var p=new Set;p.add(l),t.updateQueue=p}else w.add(l);break e}else{if(!(t&1)){Tc(o,d,t),ja();break e}l=Error(q(426))}}else if(xe&&a.mode&1){var x=Ic(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zc(x,s,a,o,t),Gs(ar(l,a));break e}}o=l=ar(l,a),Pe!==4&&(Pe=2),ri===null?ri=[o]:ri.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var c=Ec(o,l,t);Xu(o,c);break e;case 1:a=l;var u=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Cc(o,a,t);Xu(o,S);break e}}o=o.return}while(o!==null)}od(n)}catch(T){t=T,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(1)}function rd(){var e=lo.current;return lo.current=no,e===null?no:e}function ja(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Re===null||!(zn&268435455)&&!(uo&268435455)||fn(Re,Ue)}function go(e,t){var n=pe;pe|=2;var r=rd();(Re!==e||Ue!==t)&&(Wt=null,Nn(e,t));do try{qp();break}catch(i){nd(e,i)}while(1);if(Ks(),pe=n,lo.current=r,Ae!==null)throw Error(q(261));return Re=null,Ue=0,Pe}function qp(){for(;Ae!==null;)id(Ae)}function Jp(){for(;Ae!==null&&!Ef();)id(Ae)}function id(e){var t=ld(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?od(e):Ae=t,za.current=null}function od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yp(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ae=null;return}}else if(n=Vp(n,t,ot),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Pe===0&&(Pe=5)}function On(e,t,n){var r=me,i=pt.transition;try{pt.transition=null,me=1,eh(e,t,n,r)}finally{pt.transition=i,me=r}return null}function eh(e,t,n,r){do dr();while(cn!==null);if(pe&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Rf(e,o),e===Re&&(Ae=Re=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fo||(fo=!0,ud(_i,function(){return dr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pt.transition,pt.transition=null;var s=me;me=1;var a=pe;pe|=4,za.current=null,Gp(e,n),Qc(n,e),wp(js),Ti=!!Ds,js=Ds=null,e.current=n,Qp(n),Cf(),pe=a,me=s,pt.transition=o}else e.current=n;if(fo&&(fo=!1,cn=e,po=i),o=e.pendingLanes,o===0&&(un=null),zf(n.stateNode),Je(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(co)throw co=!1,e=Oa,Oa=null,e;return po&1&&e.tag!==0&&dr(),o=e.pendingLanes,o&1?e===Pa?ii++:(ii=0,Pa=e):ii=0,on(),null}function dr(){if(cn!==null){var e=Zl(po),t=pt.transition,n=me;try{if(pt.transition=null,me=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,po=0,pe&6)throw Error(q(331));var i=pe;for(pe|=4,oe=e.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(oe=d;oe!==null;){var _=oe;switch(_.tag){case 0:case 11:case 15:ti(8,_,o)}var m=_.child;if(m!==null)m.return=_,oe=m;else for(;oe!==null;){_=oe;var v=_.sibling,h=_.return;if(Hc(_),_===d){oe=null;break}if(v!==null){v.return=h,oe=v;break}oe=h}}}var w=o.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ti(9,o,o.return)}var c=o.sibling;if(c!==null){c.return=o.return,oe=c;break e}oe=o.return}}var u=e.current;for(oe=u;oe!==null;){s=oe;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,oe=g;else e:for(s=u;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ao(9,a)}}catch(T){Ie(a,a.return,T)}if(a===s){oe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,oe=S;break e}oe=a.return}}if(pe=i,on(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(wi,e)}catch{}r=!0}return r}finally{me=n,pt.transition=t}}return!1}function sd(e,t,n){t=ar(n,t),t=Ec(e,t,1),e=an(e,t,1),t=Ye(),e!==null&&(zr(e,1,t),Je(e,t))}function Ie(e,t,n){if(e.tag===3)sd(e,e,n);else for(;t!==null;){if(t.tag===3){sd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=ar(n,e),e=Cc(t,e,1),t=an(t,e,1),e=Ye(),t!==null&&(zr(t,1,e),Je(t,e));break}}t=t.return}}function th(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Ue&n)===n&&(Pe===4||Pe===3&&(Ue&130023424)===Ue&&500>ze()-Na?Nn(e,0):Aa|=n),Je(e,t)}function ad(e,t){t===0&&(e.mode&1?(t=Si,Si<<=1,!(Si&130023424)&&(Si=4194304)):t=1);var n=Ye();e=$t(e,t),e!==null&&(zr(e,t,n),Je(e,n))}function nh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ad(e,n)}function rh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),ad(e,n)}var ld;ld=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Hp(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,xe&&t.flags&1048576&&Fu(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oo(e,t),e=t.pendingProps;var i=Jn(t,Me.current);or(t,n),i=aa(null,t,r,e,i,n);var o=la();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ea(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,ha(t,r,e,n),t=ya(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&Hs(t),Ve(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=oh(r),e=xt(r,e),i){case 0:t=va(null,t,r,e,n);break e;case 1:t=Rc(null,t,r,e,n);break e;case 11:t=Ac(null,t,r,e,n);break e;case 14:t=Nc(null,t,r,xt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),va(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),Rc(e,t,r,i,n);case 3:e:{if(Lc(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Ku(e,t),Ki(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ar(Error(q(423)),t),t=Dc(e,t,r,n,i);break e}else if(r!==i){i=ar(Error(q(424)),t),t=Dc(e,t,r,n,i);break e}else for(it=tn(t.stateNode.containerInfo.firstChild),rt=t,xe=!0,wt=null,n=Gu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),r===i){t=Bt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return Ju(t),e===null&&Zs(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Us(r,i)?s=null:o!==null&&Us(r,o)&&(t.flags|=32),bc(e,t),Ve(e,t,s,n),t.child;case 6:return e===null&&Zs(t),null;case 13:return jc(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),Ac(e,t,r,i,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ve(Zi,r._currentValue),r._currentValue=s,o!==null)if(_t(o.value,s)){if(o.children===i.children&&!Qe.current){t=Bt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ft(-1,n&-n),l.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var _=d.pending;_===null?l.next=l:(l.next=_.next,_.next=l),d.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qs(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),qs(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ve(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,or(t,n),i=dt(i),r=r(i),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,i=xt(r,t.pendingProps),i=xt(r.type,i),Nc(e,t,r,i,n);case 15:return Oc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),oo(e,t),t.tag=1,Ke(r)?(e=!0,Fi(t)):e=!1,or(t,n),Sc(t,r,i),ha(t,r,i,n),ya(null,t,r,!0,e,n);case 19:return Mc(e,t,n);case 22:return Pc(e,t,n)}throw Error(q(156,t.tag))};function ud(e,t){return Bl(e,t)}function ih(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new ih(e,t,n,r)}function Ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oh(e){if(typeof e=="function")return Ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ho)return 11;if(e===Zo)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ua(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $n:return Pn(n.children,i,o,t);case Bo:s=8,i|=8;break;case Wo:return e=ht(12,n,t,i|2),e.elementType=Wo,e.lanes=o,e;case Vo:return e=ht(13,n,t,i),e.elementType=Vo,e.lanes=o,e;case Yo:return e=ht(19,n,t,i),e.elementType=Yo,e.lanes=o,e;case yl:return yo(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gl:s=10;break e;case vl:s=9;break e;case Ho:s=11;break e;case Zo:s=14;break e;case Zt:s=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=ht(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Pn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function yo(e,t,n,r){return e=ht(22,e,r,t),e.elementType=yl,e.lanes=n,e.stateNode={isHidden:!1},e}function Ma(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function $a(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sh(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ps(0),this.expirationTimes=ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fa(e,t,n,r,i,o,s,a,l){return e=new sh(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea(o),e}function ah(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cd(e){if(!e)return rn;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Uu(e,n,t)}return t}function dd(e,t,n,r,i,o,s,a,l){return e=Fa(n,r,!0,e,i,o,s,a,l),e.context=cd(null),n=e.current,r=Ye(),i=dn(n),o=Ft(r,i),o.callback=t??null,an(n,o,i),e.current.lanes=i,zr(e,i,r),Je(e,r),e}function _o(e,t,n,r){var i=t.current,o=Ye(),s=dn(i);return n=cd(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(i,t,s),e!==null&&(Et(e,i,s,o),Qi(e,i,s)),s}function wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ba(e,t){fd(e,t),(e=e.alternate)&&fd(e,t)}function lh(){return null}var pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wa(e){this._internalRoot=e}xo.prototype.render=Wa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));_o(e,t,null,null)},xo.prototype.unmount=Wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){_o(null,e,null,null)}),t[Dt]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Jl(e)}};function Ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hd(){}function uh(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=wo(s);o.call(d)}}var s=dd(t,r,e,0,null,!1,!1,"",hd);return e._reactRootContainer=s,e[Dt]=s.current,Br(e.nodeType===8?e.parentNode:e),An(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=wo(l);a.call(d)}}var l=Fa(e,0,!1,null,null,!1,!1,"",hd);return e._reactRootContainer=l,e[Dt]=l.current,Br(e.nodeType===8?e.parentNode:e),An(function(){_o(t,l,n,r)}),l}function ko(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wo(s);a.call(l)}}_o(t,s,e,i)}else s=uh(n,t,e,i,r);return wo(s)}Gl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(hs(t,n|1),Je(t,ze()),!(pe&6)&&(cr=ze()+500,on()))}break;case 13:An(function(){var r=$t(e,1);if(r!==null){var i=Ye();Et(r,e,1,i)}}),Ba(e,1)}},ms=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var n=Ye();Et(t,e,134217728,n)}Ba(e,134217728)}},Ql=function(e){if(e.tag===13){var t=dn(e),n=$t(e,t);if(n!==null){var r=Ye();Et(n,e,t,r)}Ba(e,t)}},Kl=function(){return me},Xl=function(e,t){var n=me;try{return me=e,t()}finally{me=n}},as=function(e,t,n){switch(t){case"input":if(Jo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mi(r);if(!i)throw Error(q(90));xl(r),Jo(r,i)}}}break;case"textarea":Tl(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}},Ll=La,Dl=An;var ch={usingClientEntryPoint:!1,Events:[Vr,Xn,Mi,bl,Rl,La]},oi={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dh={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$l(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{wi=Eo.inject(dh),zt=Eo}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ch,et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ha(t))throw Error(q(200));return ah(e,t,null,n)},et.createRoot=function(e,t){if(!Ha(e))throw Error(q(299));var n=!1,r="",i=pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fa(e,1,!1,null,null,n,!1,r,i),e[Dt]=t.current,Br(e.nodeType===8?e.parentNode:e),new Wa(t)},et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=$l(t),e=e===null?null:e.stateNode,e},et.flushSync=function(e){return An(e)},et.hydrate=function(e,t,n){if(!So(t))throw Error(q(200));return ko(null,e,t,!0,n)},et.hydrateRoot=function(e,t,n){if(!Ha(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=pd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dd(t,null,e,1,n??null,i,!1,o,s),e[Dt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xo(t)},et.render=function(e,t,n){if(!So(t))throw Error(q(200));return ko(null,e,t,!1,n)},et.unmountComponentAtNode=function(e){if(!So(e))throw Error(q(40));return e._reactRootContainer?(An(function(){ko(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},et.unstable_batchedUpdates=La,et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!So(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return ko(e,t,n,!1,r)},et.version="18.3.1-next-f1338f8080-20240426";function md(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(md)}catch(e){console.error(e)}}md(),cl.exports=et;var fh=cl.exports,gd,vd=fh;gd=vd.createRoot,vd.hydrateRoot;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hh=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),yd=e=>{const t=hh(e);return t.charAt(0).toUpperCase()+t.slice(1)},_d=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),mh=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ue.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>ue.createElement("svg",{ref:l,...gh,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_d("lucide",i),...!o&&!mh(a)&&{"aria-hidden":"true"},...a},[...s.map(([d,_])=>ue.createElement(d,_)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=(e,t)=>{const n=ue.forwardRef(({className:r,...i},o)=>ue.createElement(vh,{ref:o,iconNode:t,className:_d(`lucide-${ph(yd(e))}`,`lucide-${e}`,r),...i}));return n.displayName=yd(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=fr("fast-forward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=fr("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=fr("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=fr("rewind",[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=fr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=fr("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function Co(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xd={exports:{}};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(d,_){if(!i[d]){if(!r[d]){var m=typeof Co=="function"&&Co;if(!_&&m)return m(d,!0);if(a)return a(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var h=i[d]={exports:{}};r[d][0].call(h.exports,function(w){var p=r[d][1][w];return s(p||w)},h,h.exports,n,r,i,o)}return i[d].exports}for(var a=typeof Co=="function"&&Co,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var d,_,m,v,h,w,p,x=[],c=0,u=l.length,g=u,S=o.getTypeOf(l)!=="string";c<l.length;)g=u-c,m=S?(d=l[c++],_=c<u?l[c++]:0,c<u?l[c++]:0):(d=l.charCodeAt(c++),_=c<u?l.charCodeAt(c++):0,c<u?l.charCodeAt(c++):0),v=d>>2,h=(3&d)<<4|_>>4,w=1<g?(15&_)<<2|m>>6:64,p=2<g?63&m:64,x.push(a.charAt(v)+a.charAt(h)+a.charAt(w)+a.charAt(p));return x.join("")},i.decode=function(l){var d,_,m,v,h,w,p=0,x=0,c="data:";if(l.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var u,g=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&g--,l.charAt(l.length-2)===a.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=s.uint8array?new Uint8Array(0|g):new Array(0|g);p<l.length;)d=a.indexOf(l.charAt(p++))<<2|(v=a.indexOf(l.charAt(p++)))>>4,_=(15&v)<<4|(h=a.indexOf(l.charAt(p++)))>>2,m=(3&h)<<6|(w=a.indexOf(l.charAt(p++))),u[x++]=d,h!==64&&(u[x++]=_),w!==64&&(u[x++]=m);return u}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function d(_,m,v,h,w){this.compressedSize=_,this.uncompressedSize=m,this.crc32=v,this.compression=h,this.compressedContent=w}d.prototype={getContentWorker:function(){var _=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return _.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(_,m,v){return _.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var a,l=[],d=0;d<256;d++){a=d;for(var _=0;_<8;_++)a=1&a?3988292384^a>>>1:a>>>1;l[d]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(d,_,m,v){var h=s,w=v+m;d^=-1;for(var p=v;p<w;p++)d=d>>>8^h[255&(d^_[p])];return-1^d}(0|l,a,a.length,0):function(d,_,m,v){var h=s,w=v+m;d^=-1;for(var p=v;p<w;p++)d=d>>>8^h[255&(d^_.charCodeAt(p))];return-1^d}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),d=o?"uint8array":"array";function _(m,v){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}i.magic="\b\0",a.inherits(_,l),_.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(d,m.data),!1)},_.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},i.compressWorker=function(m){return new _("Deflate",m)},i.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,w){var p,x="";for(p=0;p<w;p++)x+=String.fromCharCode(255&h),h>>>=8;return x}function s(h,w,p,x,c,u){var g,S,T=h.file,P=h.compression,A=u!==d.utf8encode,j=a.transformTo("string",u(T.name)),D=a.transformTo("string",d.utf8encode(T.name)),$=T.comment,J=a.transformTo("string",u($)),C=a.transformTo("string",d.utf8encode($)),U=D.length!==T.name.length,y=C.length!==$.length,W="",le="",Y="",V=T.dir,N=T.date,B={crc32:0,compressedSize:0,uncompressedSize:0};w&&!p||(B.crc32=h.crc32,B.compressedSize=h.compressedSize,B.uncompressedSize=h.uncompressedSize);var z=0;w&&(z|=8),A||!U&&!y||(z|=2048);var I=0,X=0;V&&(I|=16),c==="UNIX"?(X=798,I|=function(K,de){var he=K;return K||(he=de?16893:33204),(65535&he)<<16}(T.unixPermissions,V)):(X=20,I|=function(K){return 63&(K||0)}(T.dosPermissions)),g=N.getUTCHours(),g<<=6,g|=N.getUTCMinutes(),g<<=5,g|=N.getUTCSeconds()/2,S=N.getUTCFullYear()-1980,S<<=4,S|=N.getUTCMonth()+1,S<<=5,S|=N.getUTCDate(),U&&(le=o(1,1)+o(_(j),4)+D,W+="up"+o(le.length,2)+le),y&&(Y=o(1,1)+o(_(J),4)+C,W+="uc"+o(Y.length,2)+Y);var ee="";return ee+=`
\0`,ee+=o(z,2),ee+=P.magic,ee+=o(g,2),ee+=o(S,2),ee+=o(B.crc32,4),ee+=o(B.compressedSize,4),ee+=o(B.uncompressedSize,4),ee+=o(j.length,2),ee+=o(W.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ee+j+W,dirRecord:m.CENTRAL_FILE_HEADER+o(X,2)+ee+o(J.length,2)+"\0\0\0\0"+o(I,4)+o(x,4)+j+W+J}}var a=n("../utils"),l=n("../stream/GenericWorker"),d=n("../utf8"),_=n("../crc32"),m=n("../signature");function v(h,w,p,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=p,this.encodeFileName=x,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(v,l),v.prototype.push=function(h){var w=h.meta.percent||0,p=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(w+100*(p-x-1))/p:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var w=this.streamFiles&&!h.file.dir;if(w){var p=s(h,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var w=this.streamFiles&&!h.file.dir,p=s(h,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),w)this.push({data:function(x){return m.DATA_DESCRIPTOR+o(x.crc32,4)+o(x.compressedSize,4)+o(x.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var p=this.bytesWritten-h,x=function(c,u,g,S,T){var P=a.transformTo("string",T(S));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(c,2)+o(c,2)+o(u,4)+o(g,4)+o(P.length,2)+P}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var w=this;return h.on("data",function(p){w.processChunk(p)}),h.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),h.on("error",function(p){w.error(p)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var w=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<w.length;p++)try{w[p].error(h)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,w=0;w<h.length;w++)h[w].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,d){var _=new s(l.streamFiles,d,l.platform,l.encodeFileName),m=0;try{a.forEach(function(v,h){m++;var w=function(u,g){var S=u||g,T=o[S];if(!T)throw new Error(S+" is not a valid compression method !");return T}(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},x=h.dir,c=h.date;h._compressWorker(w,p).withStreamInfo("file",{name:v,dir:x,date:c,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(_)}),_.entriesCount=m}catch(v){_.error(v)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),d=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function m(v){return new s.Promise(function(h,w){var p=v.decompressed.getContentWorker().pipe(new d);p.on("error",function(x){w(x)}).on("end",function(){p.streamInfo.crc32!==v.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(v,h){var w=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),_.isNode&&_.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(p){var x=new l(h);return x.load(p),x}).then(function(p){var x=[s.Promise.resolve(p)],c=p.files;if(h.checkCRC32)for(var u=0;u<c.length;u++)x.push(m(c[u]));return s.Promise.all(x)}).then(function(p){for(var x=p.shift(),c=x.files,u=0;u<c.length;u++){var g=c[u],S=g.fileNameStr,T=o.resolve(g.fileNameStr);w.file(T,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:h.createFolders}),g.dir||(w.file(T).unsafeOriginalName=S)}return x.zipComment.length&&(w.comment=x.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,d){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(a,s),a.prototype._bindStream=function(l){var d=this;(this._stream=l).pause(),l.on("data",function(_){d.push({data:_,meta:{percent:0}})}).on("error",function(_){d.isPaused?this.generatedError=_:d.error(_)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,d){o.call(this,l),this._helper=a;var _=this;a.on("data",function(m,v){_.push(m)||_._helper.pause(),d&&d(v)}).on("error",function(m){_.emit("error",m)}).on("end",function(){_.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(T,P,A){var j,D=a.getTypeOf(P),$=a.extend(A||{},_);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(T=c(T)),$.createFolders&&(j=x(T))&&u.call(this,j,!0);var J=D==="string"&&$.binary===!1&&$.base64===!1;A&&A.binary!==void 0||($.binary=!J),(P instanceof m&&P.uncompressedSize===0||$.dir||!P||P.length===0)&&($.base64=!1,$.binary=!0,P="",$.compression="STORE",D="string");var C=null;C=P instanceof m||P instanceof l?P:w.isNode&&w.isStream(P)?new p(T,P):a.prepareContent(T,P,$.binary,$.optimizedBinaryString,$.base64);var U=new v(T,C,$);this.files[T]=U}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),_=n("./defaults"),m=n("./compressedObject"),v=n("./zipObject"),h=n("./generate"),w=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),x=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var P=T.lastIndexOf("/");return 0<P?T.substring(0,P):""},c=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},u=function(T,P){return P=P!==void 0?P:_.createFolders,T=c(T),this.files[T]||o.call(this,T,null,{dir:!0,createFolders:P}),this.files[T]};function g(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var P,A,j;for(P in this.files)j=this.files[P],(A=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&T(A,j)},filter:function(T){var P=[];return this.forEach(function(A,j){T(A,j)&&P.push(j)}),P},file:function(T,P,A){if(arguments.length!==1)return T=this.root+T,o.call(this,T,P,A),this;if(g(T)){var j=T;return this.filter(function($,J){return!J.dir&&j.test($)})}var D=this.files[this.root+T];return D&&!D.dir?D:null},folder:function(T){if(!T)return this;if(g(T))return this.filter(function(D,$){return $.dir&&T.test(D)});var P=this.root+T,A=u.call(this,P),j=this.clone();return j.root=A.name,j},remove:function(T){T=this.root+T;var P=this.files[T];if(P||(T.slice(-1)!=="/"&&(T+="/"),P=this.files[T]),P&&!P.dir)delete this.files[T];else for(var A=this.filter(function(D,$){return $.name.slice(0,T.length)===T}),j=0;j<A.length;j++)delete this.files[A[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var P,A={};try{if((A=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var j=A.comment||this.comment||"";P=h.generateWorker(this,A,j)}catch(D){(P=new l("error")).error(D)}return new d(P,A.type||"string",A.mimeType)},generateAsync:function(T,P){return this.generateInternalStream(T).accumulate(P)},generateNodeStream:function(T,P){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(P)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),d=a.charCodeAt(1),_=a.charCodeAt(2),m=a.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===d&&this.data[v+2]===_&&this.data[v+3]===m)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),d=a.charCodeAt(1),_=a.charCodeAt(2),m=a.charCodeAt(3),v=this.readData(4);return l===v[0]&&d===v[1]&&_===v[2]&&m===v[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,d=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)d=(d<<8)+this.byteAt(l);return this.index+=a,d},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),d=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");r.exports=function(m){var v=o.getTypeOf(m);return o.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new d(m):s.uint8array?new _(o.transformTo("uint8array",m)):new a(o.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(_){d.dataIsReady=!0,d.data=_,d.max=_&&_.length||0,d.type=o.getTypeOf(_),d.isPaused||d._tickAndRepeat()},function(_){d.error(_)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,d);break;case"uint8array":l=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":l=this.data.slice(this.index,d)}return this.index=d,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),d=n("../support"),_=n("../external"),m=null;if(d.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(w,p){return new _.Promise(function(x,c){var u=[],g=w._internalType,S=w._outputType,T=w._mimeType;w.on("data",function(P,A){u.push(P),p&&p(A)}).on("error",function(P){u=[],c(P)}).on("end",function(){try{var P=function(A,j,D){switch(A){case"blob":return o.newBlob(o.transformTo("arraybuffer",j),D);case"base64":return l.encode(j);default:return o.transformTo(A,j)}}(S,function(A,j){var D,$=0,J=null,C=0;for(D=0;D<j.length;D++)C+=j[D].length;switch(A){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(J=new Uint8Array(C),D=0;D<j.length;D++)J.set(j[D],$),$+=j[D].length;return J;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+A+"'")}}(g,u),T);x(P)}catch(A){c(A)}u=[]}).resume()})}function h(w,p,x){var c=p;switch(p){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=p,this._mimeType=x,o.checkSupport(c),this._worker=w.pipe(new s(c)),w.lock()}catch(u){this._worker=new a("error"),this._worker.error(u)}}h.prototype={accumulate:function(w){return v(this,w)},on:function(w,p){var x=this;return w==="data"?this._worker.on(w,function(c){p.call(x,c.data,c.meta)}):this._worker.on(w,function(){o.delay(p,arguments,x)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),d=new Array(256),_=0;_<256;_++)d[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;d[254]=d[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):function(w){var p,x,c,u,g,S=w.length,T=0;for(u=0;u<S;u++)(64512&(x=w.charCodeAt(u)))==55296&&u+1<S&&(64512&(c=w.charCodeAt(u+1)))==56320&&(x=65536+(x-55296<<10)+(c-56320),u++),T+=x<128?1:x<2048?2:x<65536?3:4;for(p=s.uint8array?new Uint8Array(T):new Array(T),u=g=0;g<T;u++)(64512&(x=w.charCodeAt(u)))==55296&&u+1<S&&(64512&(c=w.charCodeAt(u+1)))==56320&&(x=65536+(x-55296<<10)+(c-56320),u++),x<128?p[g++]=x:(x<2048?p[g++]=192|x>>>6:(x<65536?p[g++]=224|x>>>12:(p[g++]=240|x>>>18,p[g++]=128|x>>>12&63),p[g++]=128|x>>>6&63),p[g++]=128|63&x);return p}(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(w){var p,x,c,u,g=w.length,S=new Array(2*g);for(p=x=0;p<g;)if((c=w[p++])<128)S[x++]=c;else if(4<(u=d[c]))S[x++]=65533,p+=u-1;else{for(c&=u===2?31:u===3?15:7;1<u&&p<g;)c=c<<6|63&w[p++],u--;1<u?S[x++]=65533:c<65536?S[x++]=c:(c-=65536,S[x++]=55296|c>>10&1023,S[x++]=56320|1023&c)}return S.length!==x&&(S.subarray?S=S.subarray(0,x):S.length=x),o.applyFromCharCode(S)}(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(m,l),m.prototype.processChunk=function(h){var w=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=w;(w=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),w.set(p,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var x=function(u,g){var S;for((g=g||u.length)>u.length&&(g=u.length),S=g-1;0<=S&&(192&u[S])==128;)S--;return S<0||S===0?g:S+d[u[S]]>g?S:g}(w),c=w;x!==w.length&&(s.uint8array?(c=w.subarray(0,x),this.leftOver=w.subarray(x,w.length)):(c=w.slice(0,x),this.leftOver=w.slice(x,w.length))),this.push({data:i.utf8decode(c),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,o.inherits(v,l),v.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function d(p){return p}function _(p,x){for(var c=0;c<p.length;++c)x[c]=255&p.charCodeAt(c);return x}n("setimmediate"),i.newBlob=function(p,x){i.checkSupport("blob");try{return new Blob([p],{type:x})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(p),c.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(p,x,c){var u=[],g=0,S=p.length;if(S<=c)return String.fromCharCode.apply(null,p);for(;g<S;)x==="array"||x==="nodebuffer"?u.push(String.fromCharCode.apply(null,p.slice(g,Math.min(g+c,S)))):u.push(String.fromCharCode.apply(null,p.subarray(g,Math.min(g+c,S)))),g+=c;return u.join("")},stringifyByChar:function(p){for(var x="",c=0;c<p.length;c++)x+=String.fromCharCode(p[c]);return x},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function v(p){var x=65536,c=i.getTypeOf(p),u=!0;if(c==="uint8array"?u=m.applyCanBeUsed.uint8array:c==="nodebuffer"&&(u=m.applyCanBeUsed.nodebuffer),u)for(;1<x;)try{return m.stringifyByChunk(p,c,x)}catch{x=Math.floor(x/2)}return m.stringifyByChar(p)}function h(p,x){for(var c=0;c<p.length;c++)x[c]=p[c];return x}i.applyFromCharCode=v;var w={};w.string={string:d,array:function(p){return _(p,new Array(p.length))},arraybuffer:function(p){return w.string.uint8array(p).buffer},uint8array:function(p){return _(p,new Uint8Array(p.length))},nodebuffer:function(p){return _(p,a.allocBuffer(p.length))}},w.array={string:v,array:d,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},w.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:d,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},w.uint8array={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:d,nodebuffer:function(p){return a.newBufferFrom(p)}},w.nodebuffer={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return w.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:d},i.transformTo=function(p,x){if(x=x||"",!p)return x;i.checkSupport(p);var c=i.getTypeOf(x);return w[c][p](x)},i.resolve=function(p){for(var x=p.split("/"),c=[],u=0;u<x.length;u++){var g=x[u];g==="."||g===""&&u!==0&&u!==x.length-1||(g===".."?c.pop():c.push(g))}return c.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(p)?"nodebuffer":o.uint8array&&p instanceof Uint8Array?"uint8array":o.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!o[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var x,c,u="";for(c=0;c<(p||"").length;c++)u+="\\x"+((x=p.charCodeAt(c))<16?"0":"")+x.toString(16).toUpperCase();return u},i.delay=function(p,x,c){setImmediate(function(){p.apply(c||null,x||[])})},i.inherits=function(p,x){function c(){}c.prototype=x.prototype,p.prototype=new c},i.extend=function(){var p,x,c={};for(p=0;p<arguments.length;p++)for(x in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],x)&&c[x]===void 0&&(c[x]=arguments[p][x]);return c},i.prepareContent=function(p,x,c,u,g){return l.Promise.resolve(x).then(function(S){return o.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,P){var A=new FileReader;A.onload=function(j){T(j.target.result)},A.onerror=function(j){P(j.target.error)},A.readAsArrayBuffer(S)}):S}).then(function(S){var T=i.getTypeOf(S);return T?(T==="arraybuffer"?S=i.transformTo("uint8array",S):T==="string"&&(g?S=s.decode(S):c&&u!==!0&&(S=function(P){return _(P,o.uint8array?new Uint8Array(P.length):new Array(P.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),d=n("./support");function _(m){this.files=[],this.loadOptions=m}_.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(m)+")")}},isSignature:function(m,v){var h=this.reader.index;this.reader.setIndex(m);var w=this.reader.readString(4)===v;return this.reader.setIndex(h),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=d.uint8array?"uint8array":"array",h=s.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,h,w=this.zip64EndOfCentralSize-44;0<w;)m=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var w=v-h;if(0<w)this.isSignature(v,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),d=n("./utf8"),_=n("./compressions"),m=n("./support");function v(h,w){this.options=h,this.loadOptions=w}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var w,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(x){for(var c in _)if(Object.prototype.hasOwnProperty.call(_,c)&&_[c].magic===x)return _[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var w=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(w),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var w,p,x,c=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<c;)w=h.readInt(2),p=h.readInt(2),x=h.readData(p),this.extraFields[w]={id:w,length:p,value:x};h.setIndex(c)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var p=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var c=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var w=o(h.value);return w.readInt(1)!==1||l(this.fileName)!==w.readInt(4)?null:d.utf8decode(w.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var w=o(h.value);return w.readInt(1)!==1||l(this.fileComment)!==w.readInt(4)?null:d.utf8decode(w.readData(h.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(w,p,x){this.name=w,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=p,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),d=n("./compressedObject"),_=n("./stream/GenericWorker");o.prototype={internalStream:function(w){var p=null,x="string";try{if(!w)throw new Error("No output type specified.");var c=(x=w.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),p=this._decompressWorker();var u=!this._dataBinary;u&&!c&&(p=p.pipe(new l.Utf8EncodeWorker)),!u&&c&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(g){(p=new _("error")).error(g)}return new s(p,x,"")},async:function(w,p){return this.internalStream(w).accumulate(p)},nodeStream:function(w,p){return this.internalStream(w||"nodebuffer").toNodejsStream(p)},_compressWorker:function(w,p){if(this._data instanceof d&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),d.createWorkerFrom(x,w,p)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof _?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)o.prototype[m[h]]=v;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var d=0,_=new l(w),m=o.document.createTextNode("");_.observe(m,{characterData:!0}),s=function(){m.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var p=o.document.createElement("script");p.onreadystatechange=function(){w(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},o.document.documentElement.appendChild(p)}:function(){setTimeout(w,0)};else{var v=new o.MessageChannel;v.port1.onmessage=w,s=function(){v.port2.postMessage(0)}}var h=[];function w(){var p,x;a=!0;for(var c=h.length;c;){for(x=h,h=[],p=-1;++p<c;)x[p]();c=h.length}a=!1}r.exports=function(p){h.push(p)!==1||a||s()}}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],d=["FULFILLED"],_=["PENDING"];function m(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,c!==s&&p(this,c)}function v(c,u,g){this.promise=c,typeof u=="function"&&(this.onFulfilled=u,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function h(c,u,g){o(function(){var S;try{S=u(g)}catch(T){return a.reject(c,T)}S===c?a.reject(c,new TypeError("Cannot resolve promise with itself")):a.resolve(c,S)})}function w(c){var u=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof u=="function")return function(){u.apply(c,arguments)}}function p(c,u){var g=!1;function S(A){g||(g=!0,a.reject(c,A))}function T(A){g||(g=!0,a.resolve(c,A))}var P=x(function(){u(T,S)});P.status==="error"&&S(P.value)}function x(c,u){var g={};try{g.value=c(u),g.status="success"}catch(S){g.status="error",g.value=S}return g}(r.exports=m).prototype.finally=function(c){if(typeof c!="function")return this;var u=this.constructor;return this.then(function(g){return u.resolve(c()).then(function(){return g})},function(g){return u.resolve(c()).then(function(){throw g})})},m.prototype.catch=function(c){return this.then(null,c)},m.prototype.then=function(c,u){if(typeof c!="function"&&this.state===d||typeof u!="function"&&this.state===l)return this;var g=new this.constructor(s);return this.state!==_?h(g,this.state===d?c:u,this.outcome):this.queue.push(new v(g,c,u)),g},v.prototype.callFulfilled=function(c){a.resolve(this.promise,c)},v.prototype.otherCallFulfilled=function(c){h(this.promise,this.onFulfilled,c)},v.prototype.callRejected=function(c){a.reject(this.promise,c)},v.prototype.otherCallRejected=function(c){h(this.promise,this.onRejected,c)},a.resolve=function(c,u){var g=x(w,u);if(g.status==="error")return a.reject(c,g.value);var S=g.value;if(S)p(c,S);else{c.state=d,c.outcome=u;for(var T=-1,P=c.queue.length;++T<P;)c.queue[T].callFulfilled(u)}return c},a.reject=function(c,u){c.state=l,c.outcome=u;for(var g=-1,S=c.queue.length;++g<S;)c.queue[g].callRejected(u);return c},m.resolve=function(c){return c instanceof this?c:a.resolve(new this(s),c)},m.reject=function(c){var u=new this(s);return a.reject(u,c)},m.all=function(c){var u=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=c.length,S=!1;if(!g)return this.resolve([]);for(var T=new Array(g),P=0,A=-1,j=new this(s);++A<g;)D(c[A],A);return j;function D($,J){u.resolve($).then(function(C){T[J]=C,++P!==g||S||(S=!0,a.resolve(j,T))},function(C){S||(S=!0,a.reject(j,C))})}},m.race=function(c){var u=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=c.length,S=!1;if(!g)return this.resolve([]);for(var T=-1,P=new this(s);++T<g;)A=c[T],u.resolve(A).then(function(j){S||(S=!0,a.resolve(P,j))},function(j){S||(S=!0,a.reject(P,j))});var A;return P}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),d=n("./zlib/zstream"),_=Object.prototype.toString,m=0,v=-1,h=0,w=8;function p(c){if(!(this instanceof p))return new p(c);this.options=s.assign({level:v,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},c||{});var u=this.options;u.raw&&0<u.windowBits?u.windowBits=-u.windowBits:u.gzip&&0<u.windowBits&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=o.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(g!==m)throw new Error(l[g]);if(u.header&&o.deflateSetHeader(this.strm,u.header),u.dictionary){var S;if(S=typeof u.dictionary=="string"?a.string2buf(u.dictionary):_.call(u.dictionary)==="[object ArrayBuffer]"?new Uint8Array(u.dictionary):u.dictionary,(g=o.deflateSetDictionary(this.strm,S))!==m)throw new Error(l[g]);this._dict_set=!0}}function x(c,u){var g=new p(u);if(g.push(c,!0),g.err)throw g.msg||l[g.err];return g.result}p.prototype.push=function(c,u){var g,S,T=this.strm,P=this.options.chunkSize;if(this.ended)return!1;S=u===~~u?u:u===!0?4:0,typeof c=="string"?T.input=a.string2buf(c):_.call(c)==="[object ArrayBuffer]"?T.input=new Uint8Array(c):T.input=c,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(P),T.next_out=0,T.avail_out=P),(g=o.deflate(T,S))!==1&&g!==m)return this.onEnd(g),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&g!==1);return S===4?(g=o.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===m):S!==2||(this.onEnd(m),!(T.avail_out=0))},p.prototype.onData=function(c){this.chunks.push(c)},p.prototype.onEnd=function(c){c===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Deflate=p,i.deflate=x,i.deflateRaw=function(c,u){return(u=u||{}).raw=!0,x(c,u)},i.gzip=function(c,u){return(u=u||{}).gzip=!0,x(c,u)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),d=n("./zlib/messages"),_=n("./zlib/zstream"),m=n("./zlib/gzheader"),v=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||p&&p.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var c=o.inflateInit2(this.strm,x.windowBits);if(c!==l.Z_OK)throw new Error(d[c]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function w(p,x){var c=new h(x);if(c.push(p,!0),c.err)throw c.msg||d[c.err];return c.result}h.prototype.push=function(p,x){var c,u,g,S,T,P,A=this.strm,j=this.options.chunkSize,D=this.options.dictionary,$=!1;if(this.ended)return!1;u=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?A.input=a.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(j),A.next_out=0,A.avail_out=j),(c=o.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(P=typeof D=="string"?a.string2buf(D):v.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,c=o.inflateSetDictionary(this.strm,P)),c===l.Z_BUF_ERROR&&$===!0&&(c=l.Z_OK,$=!1),c!==l.Z_STREAM_END&&c!==l.Z_OK)return this.onEnd(c),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&c!==l.Z_STREAM_END&&(A.avail_in!==0||u!==l.Z_FINISH&&u!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=a.utf8border(A.output,A.next_out),S=A.next_out-g,T=a.buf2string(A.output,g),A.next_out=S,A.avail_out=j-S,S&&s.arraySet(A.output,A.output,g,S,0),this.onData(T)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&($=!0)}while((0<A.avail_in||A.avail_out===0)&&c!==l.Z_STREAM_END);return c===l.Z_STREAM_END&&(u=l.Z_FINISH),u===l.Z_FINISH?(c=o.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===l.Z_OK):u!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=w,i.inflateRaw=function(p,x){return(x=x||{}).raw=!0,w(p,x)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var _=d.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var m in _)_.hasOwnProperty(m)&&(l[m]=_[m])}}return l},i.shrinkBuf=function(l,d){return l.length===d?l:l.subarray?l.subarray(0,d):(l.length=d,l)};var s={arraySet:function(l,d,_,m,v){if(d.subarray&&l.subarray)l.set(d.subarray(_,_+m),v);else for(var h=0;h<m;h++)l[v+h]=d[_+h]},flattenChunks:function(l){var d,_,m,v,h,w;for(d=m=0,_=l.length;d<_;d++)m+=l[d].length;for(w=new Uint8Array(m),d=v=0,_=l.length;d<_;d++)h=l[d],w.set(h,v),v+=h.length;return w}},a={arraySet:function(l,d,_,m,v){for(var h=0;h<m;h++)l[v+h]=d[_+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function _(m,v){if(v<65537&&(m.subarray&&a||!m.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(m,v));for(var h="",w=0;w<v;w++)h+=String.fromCharCode(m[w]);return h}l[254]=l[254]=1,i.string2buf=function(m){var v,h,w,p,x,c=m.length,u=0;for(p=0;p<c;p++)(64512&(h=m.charCodeAt(p)))==55296&&p+1<c&&(64512&(w=m.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),p++),u+=h<128?1:h<2048?2:h<65536?3:4;for(v=new o.Buf8(u),p=x=0;x<u;p++)(64512&(h=m.charCodeAt(p)))==55296&&p+1<c&&(64512&(w=m.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),p++),h<128?v[x++]=h:(h<2048?v[x++]=192|h>>>6:(h<65536?v[x++]=224|h>>>12:(v[x++]=240|h>>>18,v[x++]=128|h>>>12&63),v[x++]=128|h>>>6&63),v[x++]=128|63&h);return v},i.buf2binstring=function(m){return _(m,m.length)},i.binstring2buf=function(m){for(var v=new o.Buf8(m.length),h=0,w=v.length;h<w;h++)v[h]=m.charCodeAt(h);return v},i.buf2string=function(m,v){var h,w,p,x,c=v||m.length,u=new Array(2*c);for(h=w=0;h<c;)if((p=m[h++])<128)u[w++]=p;else if(4<(x=l[p]))u[w++]=65533,h+=x-1;else{for(p&=x===2?31:x===3?15:7;1<x&&h<c;)p=p<<6|63&m[h++],x--;1<x?u[w++]=65533:p<65536?u[w++]=p:(p-=65536,u[w++]=55296|p>>10&1023,u[w++]=56320|1023&p)}return _(u,w)},i.utf8border=function(m,v){var h;for((v=v||m.length)>m.length&&(v=m.length),h=v-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?v:h+l[m[h]]>v?h:v}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var d=65535&o|0,_=o>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;_=_+(d=d+s[l++]|0)|0,--m;);d%=65521,_%=65521}return d|_<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,d){var _=o,m=d+l;s^=-1;for(var v=d;v<m;v++)s=s>>>8^_[255&(s^a[v])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),d=n("./crc32"),_=n("./messages"),m=0,v=4,h=0,w=-2,p=-1,x=4,c=2,u=8,g=9,S=286,T=30,P=19,A=2*S+1,j=15,D=3,$=258,J=$+D+1,C=42,U=113,y=1,W=2,le=3,Y=4;function V(f,H){return f.msg=_[H],H}function N(f){return(f<<1)-(4<f?9:0)}function B(f){for(var H=f.length;0<=--H;)f[H]=0}function z(f){var H=f.state,M=H.pending;M>f.avail_out&&(M=f.avail_out),M!==0&&(s.arraySet(f.output,H.pending_buf,H.pending_out,M,f.next_out),f.next_out+=M,H.pending_out+=M,f.total_out+=M,f.avail_out-=M,H.pending-=M,H.pending===0&&(H.pending_out=0))}function I(f,H){a._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,H),f.block_start=f.strstart,z(f.strm)}function X(f,H){f.pending_buf[f.pending++]=H}function ee(f,H){f.pending_buf[f.pending++]=H>>>8&255,f.pending_buf[f.pending++]=255&H}function K(f,H){var M,E,k=f.max_chain_length,O=f.strstart,Z=f.prev_length,G=f.nice_match,L=f.strstart>f.w_size-J?f.strstart-(f.w_size-J):0,te=f.window,ie=f.w_mask,b=f.prev,F=f.strstart+$,re=te[O+Z-1],ne=te[O+Z];f.prev_length>=f.good_match&&(k>>=2),G>f.lookahead&&(G=f.lookahead);do if(te[(M=H)+Z]===ne&&te[M+Z-1]===re&&te[M]===te[O]&&te[++M]===te[O+1]){O+=2,M++;do;while(te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&te[++O]===te[++M]&&O<F);if(E=$-(F-O),O=F-$,Z<E){if(f.match_start=H,G<=(Z=E))break;re=te[O+Z-1],ne=te[O+Z]}}while((H=b[H&ie])>L&&--k!=0);return Z<=f.lookahead?Z:f.lookahead}function de(f){var H,M,E,k,O,Z,G,L,te,ie,b=f.w_size;do{if(k=f.window_size-f.lookahead-f.strstart,f.strstart>=b+(b-J)){for(s.arraySet(f.window,f.window,b,b,0),f.match_start-=b,f.strstart-=b,f.block_start-=b,H=M=f.hash_size;E=f.head[--H],f.head[H]=b<=E?E-b:0,--M;);for(H=M=b;E=f.prev[--H],f.prev[H]=b<=E?E-b:0,--M;);k+=b}if(f.strm.avail_in===0)break;if(Z=f.strm,G=f.window,L=f.strstart+f.lookahead,te=k,ie=void 0,ie=Z.avail_in,te<ie&&(ie=te),M=ie===0?0:(Z.avail_in-=ie,s.arraySet(G,Z.input,Z.next_in,ie,L),Z.state.wrap===1?Z.adler=l(Z.adler,G,ie,L):Z.state.wrap===2&&(Z.adler=d(Z.adler,G,ie,L)),Z.next_in+=ie,Z.total_in+=ie,ie),f.lookahead+=M,f.lookahead+f.insert>=D)for(O=f.strstart-f.insert,f.ins_h=f.window[O],f.ins_h=(f.ins_h<<f.hash_shift^f.window[O+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[O+D-1])&f.hash_mask,f.prev[O&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=O,O++,f.insert--,!(f.lookahead+f.insert<D)););}while(f.lookahead<J&&f.strm.avail_in!==0)}function he(f,H){for(var M,E;;){if(f.lookahead<J){if(de(f),f.lookahead<J&&H===m)return y;if(f.lookahead===0)break}if(M=0,f.lookahead>=D&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+D-1])&f.hash_mask,M=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),M!==0&&f.strstart-M<=f.w_size-J&&(f.match_length=K(f,M)),f.match_length>=D)if(E=a._tr_tally(f,f.strstart-f.match_start,f.match_length-D),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=D){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+D-1])&f.hash_mask,M=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else E=a._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(E&&(I(f,!1),f.strm.avail_out===0))return y}return f.insert=f.strstart<D-1?f.strstart:D-1,H===v?(I(f,!0),f.strm.avail_out===0?le:Y):f.last_lit&&(I(f,!1),f.strm.avail_out===0)?y:W}function ce(f,H){for(var M,E,k;;){if(f.lookahead<J){if(de(f),f.lookahead<J&&H===m)return y;if(f.lookahead===0)break}if(M=0,f.lookahead>=D&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+D-1])&f.hash_mask,M=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=D-1,M!==0&&f.prev_length<f.max_lazy_match&&f.strstart-M<=f.w_size-J&&(f.match_length=K(f,M),f.match_length<=5&&(f.strategy===1||f.match_length===D&&4096<f.strstart-f.match_start)&&(f.match_length=D-1)),f.prev_length>=D&&f.match_length<=f.prev_length){for(k=f.strstart+f.lookahead-D,E=a._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-D),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=k&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+D-1])&f.hash_mask,M=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=D-1,f.strstart++,E&&(I(f,!1),f.strm.avail_out===0))return y}else if(f.match_available){if((E=a._tr_tally(f,0,f.window[f.strstart-1]))&&I(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return y}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(E=a._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<D-1?f.strstart:D-1,H===v?(I(f,!0),f.strm.avail_out===0?le:Y):f.last_lit&&(I(f,!1),f.strm.avail_out===0)?y:W}function se(f,H,M,E,k){this.good_length=f,this.max_lazy=H,this.nice_length=M,this.max_chain=E,this.func=k}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=u,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*P+1)),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(j+1),this.heap=new s.Buf16(2*S+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(f){var H;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=c,(H=f.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?C:U,f.adler=H.wrap===2?0:1,H.last_flush=m,a._tr_init(H),h):V(f,w)}function gt(f){var H=Te(f);return H===h&&function(M){M.window_size=2*M.w_size,B(M.head),M.max_lazy_match=o[M.level].max_lazy,M.good_match=o[M.level].good_length,M.nice_match=o[M.level].nice_length,M.max_chain_length=o[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=D-1,M.match_available=0,M.ins_h=0}(f.state),H}function lt(f,H,M,E,k,O){if(!f)return w;var Z=1;if(H===p&&(H=6),E<0?(Z=0,E=-E):15<E&&(Z=2,E-=16),k<1||g<k||M!==u||E<8||15<E||H<0||9<H||O<0||x<O)return V(f,w);E===8&&(E=9);var G=new Ne;return(f.state=G).strm=f,G.wrap=Z,G.gzhead=null,G.w_bits=E,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=k+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+D-1)/D),G.window=new s.Buf8(2*G.w_size),G.head=new s.Buf16(G.hash_size),G.prev=new s.Buf16(G.w_size),G.lit_bufsize=1<<k+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new s.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=H,G.strategy=O,G.method=M,gt(f)}o=[new se(0,0,0,0,function(f,H){var M=65535;for(M>f.pending_buf_size-5&&(M=f.pending_buf_size-5);;){if(f.lookahead<=1){if(de(f),f.lookahead===0&&H===m)return y;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var E=f.block_start+M;if((f.strstart===0||f.strstart>=E)&&(f.lookahead=f.strstart-E,f.strstart=E,I(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-J&&(I(f,!1),f.strm.avail_out===0))return y}return f.insert=0,H===v?(I(f,!0),f.strm.avail_out===0?le:Y):(f.strstart>f.block_start&&(I(f,!1),f.strm.avail_out),y)}),new se(4,4,8,4,he),new se(4,5,16,8,he),new se(4,6,32,32,he),new se(4,4,16,16,ce),new se(8,16,32,32,ce),new se(8,16,128,128,ce),new se(8,32,128,256,ce),new se(32,128,258,1024,ce),new se(32,258,258,4096,ce)],i.deflateInit=function(f,H){return lt(f,H,u,15,8,0)},i.deflateInit2=lt,i.deflateReset=gt,i.deflateResetKeep=Te,i.deflateSetHeader=function(f,H){return f&&f.state?f.state.wrap!==2?w:(f.state.gzhead=H,h):w},i.deflate=function(f,H){var M,E,k,O;if(!f||!f.state||5<H||H<0)return f?V(f,w):w;if(E=f.state,!f.output||!f.input&&f.avail_in!==0||E.status===666&&H!==v)return V(f,f.avail_out===0?-5:w);if(E.strm=f,M=E.last_flush,E.last_flush=H,E.status===C)if(E.wrap===2)f.adler=0,X(E,31),X(E,139),X(E,8),E.gzhead?(X(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),X(E,255&E.gzhead.time),X(E,E.gzhead.time>>8&255),X(E,E.gzhead.time>>16&255),X(E,E.gzhead.time>>24&255),X(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),X(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(X(E,255&E.gzhead.extra.length),X(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(f.adler=d(f.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(X(E,0),X(E,0),X(E,0),X(E,0),X(E,0),X(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),X(E,3),E.status=U);else{var Z=u+(E.w_bits-8<<4)<<8;Z|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(Z|=32),Z+=31-Z%31,E.status=U,ee(E,Z),E.strstart!==0&&(ee(E,f.adler>>>16),ee(E,65535&f.adler)),f.adler=1}if(E.status===69)if(E.gzhead.extra){for(k=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),z(f),k=E.pending,E.pending!==E.pending_buf_size));)X(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){k=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),z(f),k=E.pending,E.pending===E.pending_buf_size)){O=1;break}O=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,X(E,O)}while(O!==0);E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),O===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){k=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),z(f),k=E.pending,E.pending===E.pending_buf_size)){O=1;break}O=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,X(E,O)}while(O!==0);E.gzhead.hcrc&&E.pending>k&&(f.adler=d(f.adler,E.pending_buf,E.pending-k,k)),O===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&z(f),E.pending+2<=E.pending_buf_size&&(X(E,255&f.adler),X(E,f.adler>>8&255),f.adler=0,E.status=U)):E.status=U),E.pending!==0){if(z(f),f.avail_out===0)return E.last_flush=-1,h}else if(f.avail_in===0&&N(H)<=N(M)&&H!==v)return V(f,-5);if(E.status===666&&f.avail_in!==0)return V(f,-5);if(f.avail_in!==0||E.lookahead!==0||H!==m&&E.status!==666){var G=E.strategy===2?function(L,te){for(var ie;;){if(L.lookahead===0&&(de(L),L.lookahead===0)){if(te===m)return y;break}if(L.match_length=0,ie=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,ie&&(I(L,!1),L.strm.avail_out===0))return y}return L.insert=0,te===v?(I(L,!0),L.strm.avail_out===0?le:Y):L.last_lit&&(I(L,!1),L.strm.avail_out===0)?y:W}(E,H):E.strategy===3?function(L,te){for(var ie,b,F,re,ne=L.window;;){if(L.lookahead<=$){if(de(L),L.lookahead<=$&&te===m)return y;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=D&&0<L.strstart&&(b=ne[F=L.strstart-1])===ne[++F]&&b===ne[++F]&&b===ne[++F]){re=L.strstart+$;do;while(b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&b===ne[++F]&&F<re);L.match_length=$-(re-F),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=D?(ie=a._tr_tally(L,1,L.match_length-D),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(ie=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),ie&&(I(L,!1),L.strm.avail_out===0))return y}return L.insert=0,te===v?(I(L,!0),L.strm.avail_out===0?le:Y):L.last_lit&&(I(L,!1),L.strm.avail_out===0)?y:W}(E,H):o[E.level].func(E,H);if(G!==le&&G!==Y||(E.status=666),G===y||G===le)return f.avail_out===0&&(E.last_flush=-1),h;if(G===W&&(H===1?a._tr_align(E):H!==5&&(a._tr_stored_block(E,0,0,!1),H===3&&(B(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),z(f),f.avail_out===0))return E.last_flush=-1,h}return H!==v?h:E.wrap<=0?1:(E.wrap===2?(X(E,255&f.adler),X(E,f.adler>>8&255),X(E,f.adler>>16&255),X(E,f.adler>>24&255),X(E,255&f.total_in),X(E,f.total_in>>8&255),X(E,f.total_in>>16&255),X(E,f.total_in>>24&255)):(ee(E,f.adler>>>16),ee(E,65535&f.adler)),z(f),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?h:1)},i.deflateEnd=function(f){var H;return f&&f.state?(H=f.state.status)!==C&&H!==69&&H!==73&&H!==91&&H!==103&&H!==U&&H!==666?V(f,w):(f.state=null,H===U?V(f,-3):h):w},i.deflateSetDictionary=function(f,H){var M,E,k,O,Z,G,L,te,ie=H.length;if(!f||!f.state||(O=(M=f.state).wrap)===2||O===1&&M.status!==C||M.lookahead)return w;for(O===1&&(f.adler=l(f.adler,H,ie,0)),M.wrap=0,ie>=M.w_size&&(O===0&&(B(M.head),M.strstart=0,M.block_start=0,M.insert=0),te=new s.Buf8(M.w_size),s.arraySet(te,H,ie-M.w_size,M.w_size,0),H=te,ie=M.w_size),Z=f.avail_in,G=f.next_in,L=f.input,f.avail_in=ie,f.next_in=0,f.input=H,de(M);M.lookahead>=D;){for(E=M.strstart,k=M.lookahead-(D-1);M.ins_h=(M.ins_h<<M.hash_shift^M.window[E+D-1])&M.hash_mask,M.prev[E&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=E,E++,--k;);M.strstart=E,M.lookahead=D-1,de(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=D-1,M.match_available=0,f.next_in=G,f.input=L,f.avail_in=Z,M.wrap=O,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,d,_,m,v,h,w,p,x,c,u,g,S,T,P,A,j,D,$,J,C,U,y,W;a=o.state,l=o.next_in,y=o.input,d=l+(o.avail_in-5),_=o.next_out,W=o.output,m=_-(s-o.avail_out),v=_+(o.avail_out-257),h=a.dmax,w=a.wsize,p=a.whave,x=a.wnext,c=a.window,u=a.hold,g=a.bits,S=a.lencode,T=a.distcode,P=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{g<15&&(u+=y[l++]<<g,g+=8,u+=y[l++]<<g,g+=8),j=S[u&P];t:for(;;){if(u>>>=D=j>>>24,g-=D,(D=j>>>16&255)===0)W[_++]=65535&j;else{if(!(16&D)){if(!(64&D)){j=S[(65535&j)+(u&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}$=65535&j,(D&=15)&&(g<D&&(u+=y[l++]<<g,g+=8),$+=u&(1<<D)-1,u>>>=D,g-=D),g<15&&(u+=y[l++]<<g,g+=8,u+=y[l++]<<g,g+=8),j=T[u&A];n:for(;;){if(u>>>=D=j>>>24,g-=D,!(16&(D=j>>>16&255))){if(!(64&D)){j=T[(65535&j)+(u&(1<<D)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(J=65535&j,g<(D&=15)&&(u+=y[l++]<<g,(g+=8)<D&&(u+=y[l++]<<g,g+=8)),h<(J+=u&(1<<D)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(u>>>=D,g-=D,(D=_-m)<J){if(p<(D=J-D)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(U=c,(C=0)===x){if(C+=w-D,D<$){for($-=D;W[_++]=c[C++],--D;);C=_-J,U=W}}else if(x<D){if(C+=w+x-D,(D-=x)<$){for($-=D;W[_++]=c[C++],--D;);if(C=0,x<$){for($-=D=x;W[_++]=c[C++],--D;);C=_-J,U=W}}}else if(C+=x-D,D<$){for($-=D;W[_++]=c[C++],--D;);C=_-J,U=W}for(;2<$;)W[_++]=U[C++],W[_++]=U[C++],W[_++]=U[C++],$-=3;$&&(W[_++]=U[C++],1<$&&(W[_++]=U[C++]))}else{for(C=_-J;W[_++]=W[C++],W[_++]=W[C++],W[_++]=W[C++],2<($-=3););$&&(W[_++]=W[C++],1<$&&(W[_++]=W[C++]))}break}}break}}while(l<d&&_<v);l-=$=g>>3,u&=(1<<(g-=$<<3))-1,o.next_in=l,o.next_out=_,o.avail_in=l<d?d-l+5:5-(l-d),o.avail_out=_<v?v-_+257:257-(_-v),a.hold=u,a.bits=g}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),d=n("./inftrees"),_=1,m=2,v=0,h=-2,w=1,p=852,x=592;function c(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(C){var U;return C&&C.state?(U=C.state,C.total_in=C.total_out=U.total=0,C.msg="",U.wrap&&(C.adler=1&U.wrap),U.mode=w,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new o.Buf32(p),U.distcode=U.distdyn=new o.Buf32(x),U.sane=1,U.back=-1,v):h}function S(C){var U;return C&&C.state?((U=C.state).wsize=0,U.whave=0,U.wnext=0,g(C)):h}function T(C,U){var y,W;return C&&C.state?(W=C.state,U<0?(y=0,U=-U):(y=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?h:(W.window!==null&&W.wbits!==U&&(W.window=null),W.wrap=y,W.wbits=U,S(C))):h}function P(C,U){var y,W;return C?(W=new u,(C.state=W).window=null,(y=T(C,U))!==v&&(C.state=null),y):h}var A,j,D=!0;function $(C){if(D){var U;for(A=new o.Buf32(512),j=new o.Buf32(32),U=0;U<144;)C.lens[U++]=8;for(;U<256;)C.lens[U++]=9;for(;U<280;)C.lens[U++]=7;for(;U<288;)C.lens[U++]=8;for(d(_,C.lens,0,288,A,0,C.work,{bits:9}),U=0;U<32;)C.lens[U++]=5;d(m,C.lens,0,32,j,0,C.work,{bits:5}),D=!1}C.lencode=A,C.lenbits=9,C.distcode=j,C.distbits=5}function J(C,U,y,W){var le,Y=C.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new o.Buf8(Y.wsize)),W>=Y.wsize?(o.arraySet(Y.window,U,y-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(W<(le=Y.wsize-Y.wnext)&&(le=W),o.arraySet(Y.window,U,y-W,le,Y.wnext),(W-=le)?(o.arraySet(Y.window,U,y-W,W,0),Y.wnext=W,Y.whave=Y.wsize):(Y.wnext+=le,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=le))),0}i.inflateReset=S,i.inflateReset2=T,i.inflateResetKeep=g,i.inflateInit=function(C){return P(C,15)},i.inflateInit2=P,i.inflate=function(C,U){var y,W,le,Y,V,N,B,z,I,X,ee,K,de,he,ce,se,Ne,Te,gt,lt,f,H,M,E,k=0,O=new o.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(y=C.state).mode===12&&(y.mode=13),V=C.next_out,le=C.output,B=C.avail_out,Y=C.next_in,W=C.input,N=C.avail_in,z=y.hold,I=y.bits,X=N,ee=B,H=v;e:for(;;)switch(y.mode){case w:if(y.wrap===0){y.mode=13;break}for(;I<16;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(2&y.wrap&&z===35615){O[y.check=0]=255&z,O[1]=z>>>8&255,y.check=a(y.check,O,2,0),I=z=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&z)<<8)+(z>>8))%31){C.msg="incorrect header check",y.mode=30;break}if((15&z)!=8){C.msg="unknown compression method",y.mode=30;break}if(I-=4,f=8+(15&(z>>>=4)),y.wbits===0)y.wbits=f;else if(f>y.wbits){C.msg="invalid window size",y.mode=30;break}y.dmax=1<<f,C.adler=y.check=1,y.mode=512&z?10:12,I=z=0;break;case 2:for(;I<16;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(y.flags=z,(255&y.flags)!=8){C.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){C.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=z>>8&1),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=a(y.check,O,2,0)),I=z=0,y.mode=3;case 3:for(;I<32;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.head&&(y.head.time=z),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,O[2]=z>>>16&255,O[3]=z>>>24&255,y.check=a(y.check,O,4,0)),I=z=0,y.mode=4;case 4:for(;I<16;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.head&&(y.head.xflags=255&z,y.head.os=z>>8),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=a(y.check,O,2,0)),I=z=0,y.mode=5;case 5:if(1024&y.flags){for(;I<16;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.length=z,y.head&&(y.head.extra_len=z),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=a(y.check,O,2,0)),I=z=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(N<(K=y.length)&&(K=N),K&&(y.head&&(f=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),o.arraySet(y.head.extra,W,Y,K,f)),512&y.flags&&(y.check=a(y.check,W,K,Y)),N-=K,Y+=K,y.length-=K),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(N===0)break e;for(K=0;f=W[Y+K++],y.head&&f&&y.length<65536&&(y.head.name+=String.fromCharCode(f)),f&&K<N;);if(512&y.flags&&(y.check=a(y.check,W,K,Y)),N-=K,Y+=K,f)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(N===0)break e;for(K=0;f=W[Y+K++],y.head&&f&&y.length<65536&&(y.head.comment+=String.fromCharCode(f)),f&&K<N;);if(512&y.flags&&(y.check=a(y.check,W,K,Y)),N-=K,Y+=K,f)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;I<16;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(z!==(65535&y.check)){C.msg="header crc mismatch",y.mode=30;break}I=z=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),C.adler=y.check=0,y.mode=12;break;case 10:for(;I<32;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}C.adler=y.check=c(z),I=z=0,y.mode=11;case 11:if(y.havedict===0)return C.next_out=V,C.avail_out=B,C.next_in=Y,C.avail_in=N,y.hold=z,y.bits=I,2;C.adler=y.check=1,y.mode=12;case 12:if(U===5||U===6)break e;case 13:if(y.last){z>>>=7&I,I-=7&I,y.mode=27;break}for(;I<3;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}switch(y.last=1&z,I-=1,3&(z>>>=1)){case 0:y.mode=14;break;case 1:if($(y),y.mode=20,U!==6)break;z>>>=2,I-=2;break e;case 2:y.mode=17;break;case 3:C.msg="invalid block type",y.mode=30}z>>>=2,I-=2;break;case 14:for(z>>>=7&I,I-=7&I;I<32;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if((65535&z)!=(z>>>16^65535)){C.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&z,I=z=0,y.mode=15,U===6)break e;case 15:y.mode=16;case 16:if(K=y.length){if(N<K&&(K=N),B<K&&(K=B),K===0)break e;o.arraySet(le,W,Y,K,V),N-=K,Y+=K,B-=K,V+=K,y.length-=K;break}y.mode=12;break;case 17:for(;I<14;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(y.nlen=257+(31&z),z>>>=5,I-=5,y.ndist=1+(31&z),z>>>=5,I-=5,y.ncode=4+(15&z),z>>>=4,I-=4,286<y.nlen||30<y.ndist){C.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;I<3;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.lens[Z[y.have++]]=7&z,z>>>=3,I-=3}for(;y.have<19;)y.lens[Z[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,M={bits:y.lenbits},H=d(0,y.lens,0,19,y.lencode,0,y.work,M),y.lenbits=M.bits,H){C.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;se=(k=y.lencode[z&(1<<y.lenbits)-1])>>>16&255,Ne=65535&k,!((ce=k>>>24)<=I);){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(Ne<16)z>>>=ce,I-=ce,y.lens[y.have++]=Ne;else{if(Ne===16){for(E=ce+2;I<E;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(z>>>=ce,I-=ce,y.have===0){C.msg="invalid bit length repeat",y.mode=30;break}f=y.lens[y.have-1],K=3+(3&z),z>>>=2,I-=2}else if(Ne===17){for(E=ce+3;I<E;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}I-=ce,f=0,K=3+(7&(z>>>=ce)),z>>>=3,I-=3}else{for(E=ce+7;I<E;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}I-=ce,f=0,K=11+(127&(z>>>=ce)),z>>>=7,I-=7}if(y.have+K>y.nlen+y.ndist){C.msg="invalid bit length repeat",y.mode=30;break}for(;K--;)y.lens[y.have++]=f}}if(y.mode===30)break;if(y.lens[256]===0){C.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,M={bits:y.lenbits},H=d(_,y.lens,0,y.nlen,y.lencode,0,y.work,M),y.lenbits=M.bits,H){C.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,M={bits:y.distbits},H=d(m,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,M),y.distbits=M.bits,H){C.msg="invalid distances set",y.mode=30;break}if(y.mode=20,U===6)break e;case 20:y.mode=21;case 21:if(6<=N&&258<=B){C.next_out=V,C.avail_out=B,C.next_in=Y,C.avail_in=N,y.hold=z,y.bits=I,l(C,ee),V=C.next_out,le=C.output,B=C.avail_out,Y=C.next_in,W=C.input,N=C.avail_in,z=y.hold,I=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;se=(k=y.lencode[z&(1<<y.lenbits)-1])>>>16&255,Ne=65535&k,!((ce=k>>>24)<=I);){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(se&&!(240&se)){for(Te=ce,gt=se,lt=Ne;se=(k=y.lencode[lt+((z&(1<<Te+gt)-1)>>Te)])>>>16&255,Ne=65535&k,!(Te+(ce=k>>>24)<=I);){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}z>>>=Te,I-=Te,y.back+=Te}if(z>>>=ce,I-=ce,y.back+=ce,y.length=Ne,se===0){y.mode=26;break}if(32&se){y.back=-1,y.mode=12;break}if(64&se){C.msg="invalid literal/length code",y.mode=30;break}y.extra=15&se,y.mode=22;case 22:if(y.extra){for(E=y.extra;I<E;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.length+=z&(1<<y.extra)-1,z>>>=y.extra,I-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;se=(k=y.distcode[z&(1<<y.distbits)-1])>>>16&255,Ne=65535&k,!((ce=k>>>24)<=I);){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(!(240&se)){for(Te=ce,gt=se,lt=Ne;se=(k=y.distcode[lt+((z&(1<<Te+gt)-1)>>Te)])>>>16&255,Ne=65535&k,!(Te+(ce=k>>>24)<=I);){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}z>>>=Te,I-=Te,y.back+=Te}if(z>>>=ce,I-=ce,y.back+=ce,64&se){C.msg="invalid distance code",y.mode=30;break}y.offset=Ne,y.extra=15&se,y.mode=24;case 24:if(y.extra){for(E=y.extra;I<E;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}y.offset+=z&(1<<y.extra)-1,z>>>=y.extra,I-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){C.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(B===0)break e;if(K=ee-B,y.offset>K){if((K=y.offset-K)>y.whave&&y.sane){C.msg="invalid distance too far back",y.mode=30;break}de=K>y.wnext?(K-=y.wnext,y.wsize-K):y.wnext-K,K>y.length&&(K=y.length),he=y.window}else he=le,de=V-y.offset,K=y.length;for(B<K&&(K=B),B-=K,y.length-=K;le[V++]=he[de++],--K;);y.length===0&&(y.mode=21);break;case 26:if(B===0)break e;le[V++]=y.length,B--,y.mode=21;break;case 27:if(y.wrap){for(;I<32;){if(N===0)break e;N--,z|=W[Y++]<<I,I+=8}if(ee-=B,C.total_out+=ee,y.total+=ee,ee&&(C.adler=y.check=y.flags?a(y.check,le,ee,V-ee):s(y.check,le,ee,V-ee)),ee=B,(y.flags?z:c(z))!==y.check){C.msg="incorrect data check",y.mode=30;break}I=z=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;I<32;){if(N===0)break e;N--,z+=W[Y++]<<I,I+=8}if(z!==(4294967295&y.total)){C.msg="incorrect length check",y.mode=30;break}I=z=0}y.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return h}return C.next_out=V,C.avail_out=B,C.next_in=Y,C.avail_in=N,y.hold=z,y.bits=I,(y.wsize||ee!==C.avail_out&&y.mode<30&&(y.mode<27||U!==4))&&J(C,C.output,C.next_out,ee-C.avail_out)?(y.mode=31,-4):(X-=C.avail_in,ee-=C.avail_out,C.total_in+=X,C.total_out+=ee,y.total+=ee,y.wrap&&ee&&(C.adler=y.check=y.flags?a(y.check,le,ee,C.next_out-ee):s(y.check,le,ee,C.next_out-ee)),C.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(X==0&&ee===0||U===4)&&H===v&&(H=-5),H)},i.inflateEnd=function(C){if(!C||!C.state)return h;var U=C.state;return U.window&&(U.window=null),C.state=null,v},i.inflateGetHeader=function(C,U){var y;return C&&C.state&&2&(y=C.state).wrap?((y.head=U).done=!1,v):h},i.inflateSetDictionary=function(C,U){var y,W=U.length;return C&&C.state?(y=C.state).wrap!==0&&y.mode!==11?h:y.mode===11&&s(1,U,W,0)!==y.check?-3:J(C,U,W,W)?(y.mode=31,-4):(y.havedict=1,v):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(_,m,v,h,w,p,x,c){var u,g,S,T,P,A,j,D,$,J=c.bits,C=0,U=0,y=0,W=0,le=0,Y=0,V=0,N=0,B=0,z=0,I=null,X=0,ee=new o.Buf16(16),K=new o.Buf16(16),de=null,he=0;for(C=0;C<=15;C++)ee[C]=0;for(U=0;U<h;U++)ee[m[v+U]]++;for(le=J,W=15;1<=W&&ee[W]===0;W--);if(W<le&&(le=W),W===0)return w[p++]=20971520,w[p++]=20971520,c.bits=1,0;for(y=1;y<W&&ee[y]===0;y++);for(le<y&&(le=y),C=N=1;C<=15;C++)if(N<<=1,(N-=ee[C])<0)return-1;if(0<N&&(_===0||W!==1))return-1;for(K[1]=0,C=1;C<15;C++)K[C+1]=K[C]+ee[C];for(U=0;U<h;U++)m[v+U]!==0&&(x[K[m[v+U]]++]=U);if(A=_===0?(I=de=x,19):_===1?(I=s,X-=257,de=a,he-=257,256):(I=l,de=d,-1),C=y,P=p,V=U=z=0,S=-1,T=(B=1<<(Y=le))-1,_===1&&852<B||_===2&&592<B)return 1;for(;;){for(j=C-V,$=x[U]<A?(D=0,x[U]):x[U]>A?(D=de[he+x[U]],I[X+x[U]]):(D=96,0),u=1<<C-V,y=g=1<<Y;w[P+(z>>V)+(g-=u)]=j<<24|D<<16|$|0,g!==0;);for(u=1<<C-1;z&u;)u>>=1;if(u!==0?(z&=u-1,z+=u):z=0,U++,--ee[C]==0){if(C===W)break;C=m[v+x[U]]}if(le<C&&(z&T)!==S){for(V===0&&(V=le),P+=y,N=1<<(Y=C-V);Y+V<W&&!((N-=ee[Y+V])<=0);)Y++,N<<=1;if(B+=1<<Y,_===1&&852<B||_===2&&592<B)return 1;w[S=z&T]=le<<24|Y<<16|P-p|0}}return z!==0&&(w[P+z]=C-V<<24|64<<16|0),c.bits=le,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(k){for(var O=k.length;0<=--O;)k[O]=0}var d=0,_=29,m=256,v=m+1+_,h=30,w=19,p=2*v+1,x=15,c=16,u=7,g=256,S=16,T=17,P=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(v+2));l(J);var C=new Array(2*h);l(C);var U=new Array(512);l(U);var y=new Array(256);l(y);var W=new Array(_);l(W);var le,Y,V,N=new Array(h);function B(k,O,Z,G,L){this.static_tree=k,this.extra_bits=O,this.extra_base=Z,this.elems=G,this.max_length=L,this.has_stree=k&&k.length}function z(k,O){this.dyn_tree=k,this.max_code=0,this.stat_desc=O}function I(k){return k<256?U[k]:U[256+(k>>>7)]}function X(k,O){k.pending_buf[k.pending++]=255&O,k.pending_buf[k.pending++]=O>>>8&255}function ee(k,O,Z){k.bi_valid>c-Z?(k.bi_buf|=O<<k.bi_valid&65535,X(k,k.bi_buf),k.bi_buf=O>>c-k.bi_valid,k.bi_valid+=Z-c):(k.bi_buf|=O<<k.bi_valid&65535,k.bi_valid+=Z)}function K(k,O,Z){ee(k,Z[2*O],Z[2*O+1])}function de(k,O){for(var Z=0;Z|=1&k,k>>>=1,Z<<=1,0<--O;);return Z>>>1}function he(k,O,Z){var G,L,te=new Array(x+1),ie=0;for(G=1;G<=x;G++)te[G]=ie=ie+Z[G-1]<<1;for(L=0;L<=O;L++){var b=k[2*L+1];b!==0&&(k[2*L]=de(te[b]++,b))}}function ce(k){var O;for(O=0;O<v;O++)k.dyn_ltree[2*O]=0;for(O=0;O<h;O++)k.dyn_dtree[2*O]=0;for(O=0;O<w;O++)k.bl_tree[2*O]=0;k.dyn_ltree[2*g]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function se(k){8<k.bi_valid?X(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Ne(k,O,Z,G){var L=2*O,te=2*Z;return k[L]<k[te]||k[L]===k[te]&&G[O]<=G[Z]}function Te(k,O,Z){for(var G=k.heap[Z],L=Z<<1;L<=k.heap_len&&(L<k.heap_len&&Ne(O,k.heap[L+1],k.heap[L],k.depth)&&L++,!Ne(O,G,k.heap[L],k.depth));)k.heap[Z]=k.heap[L],Z=L,L<<=1;k.heap[Z]=G}function gt(k,O,Z){var G,L,te,ie,b=0;if(k.last_lit!==0)for(;G=k.pending_buf[k.d_buf+2*b]<<8|k.pending_buf[k.d_buf+2*b+1],L=k.pending_buf[k.l_buf+b],b++,G===0?K(k,L,O):(K(k,(te=y[L])+m+1,O),(ie=A[te])!==0&&ee(k,L-=W[te],ie),K(k,te=I(--G),Z),(ie=j[te])!==0&&ee(k,G-=N[te],ie)),b<k.last_lit;);K(k,g,O)}function lt(k,O){var Z,G,L,te=O.dyn_tree,ie=O.stat_desc.static_tree,b=O.stat_desc.has_stree,F=O.stat_desc.elems,re=-1;for(k.heap_len=0,k.heap_max=p,Z=0;Z<F;Z++)te[2*Z]!==0?(k.heap[++k.heap_len]=re=Z,k.depth[Z]=0):te[2*Z+1]=0;for(;k.heap_len<2;)te[2*(L=k.heap[++k.heap_len]=re<2?++re:0)]=1,k.depth[L]=0,k.opt_len--,b&&(k.static_len-=ie[2*L+1]);for(O.max_code=re,Z=k.heap_len>>1;1<=Z;Z--)Te(k,te,Z);for(L=F;Z=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Te(k,te,1),G=k.heap[1],k.heap[--k.heap_max]=Z,k.heap[--k.heap_max]=G,te[2*L]=te[2*Z]+te[2*G],k.depth[L]=(k.depth[Z]>=k.depth[G]?k.depth[Z]:k.depth[G])+1,te[2*Z+1]=te[2*G+1]=L,k.heap[1]=L++,Te(k,te,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ne,ae){var ye,Ze,vt,ge,Le,yn,Ge=ae.dyn_tree,li=ae.max_code,Ao=ae.stat_desc.static_tree,No=ae.stat_desc.has_stree,Ka=ae.stat_desc.extra_bits,Oo=ae.stat_desc.extra_base,Ln=ae.stat_desc.max_length,Dn=0;for(ge=0;ge<=x;ge++)ne.bl_count[ge]=0;for(Ge[2*ne.heap[ne.heap_max]+1]=0,ye=ne.heap_max+1;ye<p;ye++)Ln<(ge=Ge[2*Ge[2*(Ze=ne.heap[ye])+1]+1]+1)&&(ge=Ln,Dn++),Ge[2*Ze+1]=ge,li<Ze||(ne.bl_count[ge]++,Le=0,Oo<=Ze&&(Le=Ka[Ze-Oo]),yn=Ge[2*Ze],ne.opt_len+=yn*(ge+Le),No&&(ne.static_len+=yn*(Ao[2*Ze+1]+Le)));if(Dn!==0){do{for(ge=Ln-1;ne.bl_count[ge]===0;)ge--;ne.bl_count[ge]--,ne.bl_count[ge+1]+=2,ne.bl_count[Ln]--,Dn-=2}while(0<Dn);for(ge=Ln;ge!==0;ge--)for(Ze=ne.bl_count[ge];Ze!==0;)li<(vt=ne.heap[--ye])||(Ge[2*vt+1]!==ge&&(ne.opt_len+=(ge-Ge[2*vt+1])*Ge[2*vt],Ge[2*vt+1]=ge),Ze--)}}(k,O),he(te,re,k.bl_count)}function f(k,O,Z){var G,L,te=-1,ie=O[1],b=0,F=7,re=4;for(ie===0&&(F=138,re=3),O[2*(Z+1)+1]=65535,G=0;G<=Z;G++)L=ie,ie=O[2*(G+1)+1],++b<F&&L===ie||(b<re?k.bl_tree[2*L]+=b:L!==0?(L!==te&&k.bl_tree[2*L]++,k.bl_tree[2*S]++):b<=10?k.bl_tree[2*T]++:k.bl_tree[2*P]++,te=L,re=(b=0)===ie?(F=138,3):L===ie?(F=6,3):(F=7,4))}function H(k,O,Z){var G,L,te=-1,ie=O[1],b=0,F=7,re=4;for(ie===0&&(F=138,re=3),G=0;G<=Z;G++)if(L=ie,ie=O[2*(G+1)+1],!(++b<F&&L===ie)){if(b<re)for(;K(k,L,k.bl_tree),--b!=0;);else L!==0?(L!==te&&(K(k,L,k.bl_tree),b--),K(k,S,k.bl_tree),ee(k,b-3,2)):b<=10?(K(k,T,k.bl_tree),ee(k,b-3,3)):(K(k,P,k.bl_tree),ee(k,b-11,7));te=L,re=(b=0)===ie?(F=138,3):L===ie?(F=6,3):(F=7,4)}}l(N);var M=!1;function E(k,O,Z,G){ee(k,(d<<1)+(G?1:0),3),function(L,te,ie,b){se(L),b&&(X(L,ie),X(L,~ie)),o.arraySet(L.pending_buf,L.window,te,ie,L.pending),L.pending+=ie}(k,O,Z,!0)}i._tr_init=function(k){M||(function(){var O,Z,G,L,te,ie=new Array(x+1);for(L=G=0;L<_-1;L++)for(W[L]=G,O=0;O<1<<A[L];O++)y[G++]=L;for(y[G-1]=L,L=te=0;L<16;L++)for(N[L]=te,O=0;O<1<<j[L];O++)U[te++]=L;for(te>>=7;L<h;L++)for(N[L]=te<<7,O=0;O<1<<j[L]-7;O++)U[256+te++]=L;for(Z=0;Z<=x;Z++)ie[Z]=0;for(O=0;O<=143;)J[2*O+1]=8,O++,ie[8]++;for(;O<=255;)J[2*O+1]=9,O++,ie[9]++;for(;O<=279;)J[2*O+1]=7,O++,ie[7]++;for(;O<=287;)J[2*O+1]=8,O++,ie[8]++;for(he(J,v+1,ie),O=0;O<h;O++)C[2*O+1]=5,C[2*O]=de(O,5);le=new B(J,A,m+1,v,x),Y=new B(C,j,0,h,x),V=new B(new Array(0),D,0,w,u)}(),M=!0),k.l_desc=new z(k.dyn_ltree,le),k.d_desc=new z(k.dyn_dtree,Y),k.bl_desc=new z(k.bl_tree,V),k.bi_buf=0,k.bi_valid=0,ce(k)},i._tr_stored_block=E,i._tr_flush_block=function(k,O,Z,G){var L,te,ie=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(b){var F,re=4093624447;for(F=0;F<=31;F++,re>>>=1)if(1&re&&b.dyn_ltree[2*F]!==0)return s;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return a;for(F=32;F<m;F++)if(b.dyn_ltree[2*F]!==0)return a;return s}(k)),lt(k,k.l_desc),lt(k,k.d_desc),ie=function(b){var F;for(f(b,b.dyn_ltree,b.l_desc.max_code),f(b,b.dyn_dtree,b.d_desc.max_code),lt(b,b.bl_desc),F=w-1;3<=F&&b.bl_tree[2*$[F]+1]===0;F--);return b.opt_len+=3*(F+1)+5+5+4,F}(k),L=k.opt_len+3+7>>>3,(te=k.static_len+3+7>>>3)<=L&&(L=te)):L=te=Z+5,Z+4<=L&&O!==-1?E(k,O,Z,G):k.strategy===4||te===L?(ee(k,2+(G?1:0),3),gt(k,J,C)):(ee(k,4+(G?1:0),3),function(b,F,re,ne){var ae;for(ee(b,F-257,5),ee(b,re-1,5),ee(b,ne-4,4),ae=0;ae<ne;ae++)ee(b,b.bl_tree[2*$[ae]+1],3);H(b,b.dyn_ltree,F-1),H(b,b.dyn_dtree,re-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ie+1),gt(k,k.dyn_ltree,k.dyn_dtree)),ce(k),G&&se(k)},i._tr_tally=function(k,O,Z){return k.pending_buf[k.d_buf+2*k.last_lit]=O>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&O,k.pending_buf[k.l_buf+k.last_lit]=255&Z,k.last_lit++,O===0?k.dyn_ltree[2*Z]++:(k.matches++,O--,k.dyn_ltree[2*(y[Z]+m+1)]++,k.dyn_dtree[2*I(O)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){ee(k,2,3),K(k,g,J),function(O){O.bi_valid===16?(X(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,d,_,m,v=1,h={},w=!1,p=s.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(s);x=x&&x.setTimeout?x:s,l={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){u(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,T=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=T,S}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",g,!1):s.attachEvent("onmessage",g),function(S){s.postMessage(m+S,"*")}):s.MessageChannel?((_=new MessageChannel).port1.onmessage=function(S){u(S.data)},function(S){_.port2.postMessage(S)}):p&&"onreadystatechange"in p.createElement("script")?(d=p.documentElement,function(S){var T=p.createElement("script");T.onreadystatechange=function(){u(S),T.onreadystatechange=null,d.removeChild(T),T=null},d.appendChild(T)}):function(S){setTimeout(u,0,S)},x.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var A={callback:S,args:T};return h[v]=A,l(v),v++},x.clearImmediate=c}function c(S){delete h[S]}function u(S){if(w)setTimeout(u,0,S);else{var T=h[S];if(T){w=!0;try{(function(P){var A=P.callback,j=P.args;switch(j.length){case 0:A();break;case 1:A(j[0]);break;case 2:A(j[0],j[1]);break;case 3:A(j[0],j[1],j[2]);break;default:A.apply(a,j)}})(T)}finally{c(S),w=!1}}}}function g(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(m)===0&&u(+S.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(xd);var kh=xd.exports;const Eh=It(kh),Sd={apiKey:"",modelName:"gemini-2.5-pro",maxResolution:1080,language:"ja",autoOptimize:!0,maxSnapshotCount:100,warningThresholdMB:50,optimizeQuality:.8,optimizeMaxWidth:800,ENABLE_OUTLINE_EDIT:!0,ENABLE_AD_PAUSE:!0,EXCLUDE_VIDEO_URL_FROM_OUTLINE_PROMPT:!1},pr=async()=>{const e=await chrome.storage.sync.get(Object.keys(Sd));return{...Sd,...e}};async function To(e,t,n,r,i=!1){const{outlines:o}=await chrome.storage.local.get({outlines:{}}),s=Date.now(),a=o[e],l={videoId:e,videoTitle:t,videoDuration:n,items:r,createdAt:(a==null?void 0:a.createdAt)||s,updatedAt:s,hasTranscript:i};return o[e]=l,await chrome.storage.local.set({outlines:o}),console.log(`Outline saved for video ${e} with ${r.length} items (hasTranscript: ${i})`),l}async function bn(e){const{outlines:t}=await chrome.storage.local.get({outlines:{}});return t[e]}async function kd(e){const{outlines:t}=await chrome.storage.local.get({outlines:{}});return t[e]?(delete t[e],await chrome.storage.local.set({outlines:t}),console.log(`Outline deleted for video ${e}`),!0):!1}const Ch=Object.freeze(Object.defineProperty({__proto__:null,deleteOutline:kd,getOutline:bn,saveOutline:To},Symbol.toStringTag,{value:"Module"})),Ht={ENABLE_I18N_OVERLAY:!0,ENABLE_I18N_PROMPTS:!0,EXCLUDE_VIDEO_URL_FROM_OUTLINE_PROMPT:!1};function Th(){try{return chrome.runtime.getURL(""),!0}catch{return console.warn("拡張機能コンテキストが無効です。フラグの読み込みをスキップします。"),!1}}async function Ih(){if(Th())try{const e=await chrome.storage.sync.get("debugFlags");e.debugFlags&&(Object.assign(Ht,e.debugFlags),console.log("デバッグフラグをストレージから読み込みました:",Ht))}catch(e){console.error("デバッグフラグの読み込みエラー:",e)}}function bt(...e){}let hr=null;const Se={en:{},ja:{},"zh-CN":{},ko:{}};let Va=!1;function zh(){Va||(Se.en={overlay_capture_all:"Capture All",overlay_generate_outline:"Generate Outline",overlay_delete_all:"Delete All",overlay_export:"Export",overlay_edit:"Edit",overlay_delete:"Delete",overlay_save:"Save",overlay_cancel:"Cancel",overlay_loading:"Generating...",overlay_no_snapshots:"No snapshots yet",overlay_no_outline:"No outline available",overlay_custom_snapshots:"Multiple Custom Snapshots",custom_timestamp:"Custom timestamp",custom_timestamp_description:"Snapshot taken at custom timestamp",no_valid_timestamps:"No valid timestamps available.",current_language:"Current language",ai_description_generating:"Generating AI description...",error_prefix:"Error:",retry:"Retry",ai_regenerate:"AI Regenerate",ai_generate:"Generate AI Description",no_description:"No description available.",time_prefix:"Time:",collapse:"Collapse",expand:"Expand",scroll_to_top:"Scroll to top",capture_all_outline_snapshots:"Capture snapshots at all outline timestamps",timestamp_format:"[{0}]",custom_times_placeholder:"00:01:48,00:03:06,00:03:13",invalid_timestamps_error:"Invalid timestamps or capture function unavailable.",invalid_timestamp_format:"Invalid timestamp format: {0}",edit_outline:"Edit outline",save_error:"Error saving",outline_format_instruction:"Format: [MM:SS] timestamp followed by title, then description (optional)",title_label:"Title",description_optional:"Description (optional)",saving:"Saving...",warning_label:"Warning",no_transcript_warning:"The transcript for this video could not be retrieved, so the outline may contain inaccuracies.",outline_heading:"Outline",delete_outline:"Delete outline",no_outline_items:"No outline items found.",options_page_title:"YT Outline & Snap - Options",storage_usage_heading:"Storage Usage",storage_used:"Used",storage_quota:"Quota",storage_snapshot_count:"Snapshots",storage_average_size:"Average size","outline ":"Outline",clear_all_data_button:"Clear All Data",api_key_settings:"API Key Settings",api_key_label:"API Key",api_key_placeholder:"Enter your Gemini API Key (or other model's API key)",model_name_label:"Model Name",model_name_placeholder:"e.g. gemini-1.5-flash-latest",recommended_model_text:"Recommended model: gemini-2.5-flash-preview-05-20 is recommended.",advanced_settings_heading:"Advanced Settings",max_resolution_label_long:"Max Resolution for Snapshots",high_resolution_warning_long:"Higher resolutions consume more storage and may take longer to process.",beta_features_heading:"Beta Features",outline_edit_feature_label:"Outline Editing Feature",outline_edit_description_long:"Allows editing outline data. ",ad_pause_feature_label:"Pause snapshot capture during ads",ad_pause_description_long:"Pauses snapshot capture while ads are playing and resumes after they end. ",exclude_video_url_option_label:"Exclude video URL from outline generation prompt",exclude_video_url_description_long:"Excluding video URL from the prompt can speed up outline generation and save AI tokens, but may reduce the accuracy of the generated outline information.",data_management_button:"Data Management",data_management_heading:"Data Management",data_management_description:"Manage saved snapshots and outline data.",video_title:"Video Title",last_updated:"Last Updated",delete_button:"Delete",delete_success:"Successfully deleted",language_settings_heading:"Language Settings",language_select_label:"Language Selection",language_setting_description:"Localizes overlay panel UI text and AI prompts. ",i18n_prompts_option_label:"Use Localized AI Prompts",i18n_prompts_description_long:"Switches AI prompt templates based on language settings.",debug_warning_text:"Debug Mode Enabled - Performance may be affected",i18n_overlay_option_label:"Enable UI Localization",i18n_overlay_description_long:"Localizes overlay panel UI text based on language settings.",close_button:"Close",language_english:"English",language_japanese:"Japanese (日本語)",language_simplified_chinese:"Chinese (Simplified) (简体中文)",language_korean:"Korean (한국어)",save_settings_button:"Save settings",settings_saved_status:"Settings saved successfully",rewind_5_seconds_tooltip:"Rewind 5 seconds",play_tooltip:"Play",pause_tooltip:"Pause",forward_5_seconds_tooltip:"Forward 5 seconds",take_snapshot_tooltip:"Take a snapshot",delete_outline_tooltip:"Delete outline",overlay_delete_current_video:"Delete data for this video",overlay_options:"Options"},Se.ja={overlay_capture_all:"全て撮影",overlay_generate_outline:"アウトライン生成",overlay_delete_all:"すべて削除",overlay_export:"エクスポート",overlay_edit:"編集",overlay_delete:"削除",overlay_save:"保存",overlay_cancel:"キャンセル",overlay_loading:"生成中...",overlay_no_snapshots:"スナップショットがありません",overlay_no_outline:"アウトラインがありません",overlay_custom_snapshots:"複数のカスタムスナップショット",custom_timestamp:"カスタムタイムスタンプ",custom_timestamp_description:"カスタムタイムスタンプで撮影されたスナップショット",no_valid_timestamps:"有効なタイムスタンプがありません。",current_language:"現在の言語",ai_description_generating:"AI説明文を生成中...",error_prefix:"エラー:",retry:"再試行",ai_regenerate:"AI再生成",ai_generate:"AI説明文を生成",no_description:"説明がありません。",time_prefix:"時間:",collapse:"折りたたむ",expand:"展開",scroll_to_top:"上にスクロール",capture_all_outline_snapshots:"アウトラインのすべてのタイムスタンプでスナップショットを撮影",timestamp_format:"[{0}]",custom_times_placeholder:"00:01:48,00:03:06,00:03:13",invalid_timestamps_error:"無効なタイムスタンプまたはキャプチャ機能が利用できません。",invalid_timestamp_format:"無効なタイムスタンプ形式: {0}",edit_outline:"アウトラインを編集",save_error:"保存エラー",outline_format_instruction:"形式: [MM:SS] タイムスタンプの後にタイトル、そして説明（任意）",title_label:"タイトル",description_optional:"説明（任意）",saving:"保存中...",warning_label:"警告",no_transcript_warning:"この動画の文字起こしを取得できなかったため、アウトラインに不正確な情報が含まれている可能性があります。",outline_heading:"アウトライン",delete_outline:"アウトラインを削除",no_outline_items:"アウトラインアイテムが見つかりません。",options_page_title:"YT アウトライン & スナップ - オプション",storage_usage_heading:"ストレージ使用量",storage_used:"使用済み",storage_quota:"割り当て",storage_snapshot_count:"スナップショット数",storage_average_size:"平均サイズ",outline:"アウトライン",clear_all_data_button:"すべてのデータを消去",api_key_settings:"APIキー設定",api_key_label:"APIキー",api_key_placeholder:"GeminiのAPIキー（または他のモデルのAPIキー）を入力",model_name_label:"モデル名",model_name_placeholder:"例：gemini-1.5-flash-latest",recommended_model_text:"推奨モデル: gemini-2.5-flash-preview-05-20 がおすすめです。",advanced_settings_heading:"詳細設定",max_resolution_label_long:"スナップショットの最大解像度",high_resolution_warning_long:"高い解像度はストレージ使用量を増やし、処理時間が長くなる可能性があります。",beta_features_heading:"ベータ機能",outline_edit_feature_label:"アウトライン編集機能",outline_edit_description_long:"アウトラインデータの編集を可能にします。",ad_pause_feature_label:"広告再生中はスナップショット撮影を一時停止",ad_pause_description_long:"広告再生中はスナップショット撮影を一時停止し、広告終了後に再開します。",exclude_video_url_option_label:"アウトライン生成時のプロンプトに動画URLを含めない",exclude_video_url_description_long:"プロンプトに動画URLを含めないことで アウトライン生成が高速化しAIトークンを節約できますが、生成されるアウトライン情報の精度が低下するおそれがあります",data_management_button:"データ管理",data_management_heading:"データ管理",data_management_description:"保存されたスナップショットとアウトラインデータを管理します。",video_title:"動画タイトル",last_updated:"最終更新",delete_button:"削除",delete_success:"正常に削除されました",language_settings_heading:"言語設定 (Language Settings)",language_select_label:"言語選択",language_setting_description:"オーバーレイパネルのUIテキストおよびAIプロンプトをローカライズします。",i18n_prompts_option_label:"ローカライズされたAIプロンプトを使用",i18n_prompts_description_long:"言語設定に基づいてAIプロンプトテンプレートを切り替えます。",debug_warning_text:"デバッグモード有効 - パフォーマンスに影響する可能性があります",i18n_overlay_option_label:"UI多言語化を有効にする",i18n_overlay_description_long:"言語設定に基づいてオーバーレイパネルのUIテキストをローカライズします。",close_button:"閉じる",language_english:"英語 (English)",language_japanese:"日本語 (日本語)",language_simplified_chinese:"中国語（簡体） (简体中文)",language_korean:"韓国語 (한국어)",save_settings_button:"設定を保存",settings_saved_status:"設定が正常に保存されました",rewind_5_seconds_tooltip:"5秒巻き戻し",play_tooltip:"再生",pause_tooltip:"一時停止",forward_5_seconds_tooltip:"5秒進む",take_snapshot_tooltip:"スナップショットを撮影",delete_outline_tooltip:"アウトラインを削除",overlay_delete_current_video:"この動画のデータを削除",overlay_options:"オプション設定"},Se["zh-CN"]={overlay_capture_all:"捕获全部",overlay_generate_outline:"生成大纲",overlay_delete_all:"删除全部",overlay_export:"导出",overlay_edit:"编辑",overlay_delete:"删除",overlay_save:"保存",overlay_cancel:"取消",overlay_loading:"生成中...",overlay_no_snapshots:"尚无快照",overlay_no_outline:"无可用大纲",overlay_custom_snapshots:"多个自定义快照",custom_timestamp:"自定义时间戳",custom_timestamp_description:"在自定义时间戳拍摄的快照",no_valid_timestamps:"没有有效的时间戳。",current_language:"当前语言",ai_description_generating:"正在生成AI描述...",error_prefix:"错误:",retry:"重试",ai_regenerate:"AI重新生成",ai_generate:"生成AI描述",no_description:"无可用描述。",time_prefix:"时间:",collapse:"折叠",expand:"展开",scroll_to_top:"滚动到顶部",capture_all_outline_snapshots:"捕获所有大纲时间戳的快照",timestamp_format:"[{0}]",custom_times_placeholder:"00:01:48,00:03:06,00:03:13",invalid_timestamps_error:"无效的时间戳或捕获功能不可用。",invalid_timestamp_format:"无效的时间戳格式: {0}",edit_outline:"编辑大纲",save_error:"保存错误",outline_format_instruction:"格式：[MM:SS] 时间戳后跟标题，然后是描述（可选）",title_label:"标题",description_optional:"描述（可选）",saving:"保存中...",warning_label:"警告",no_transcript_warning:"无法获取此视频的文字记录，因此大纲可能包含不准确之处。",outline_heading:"大纲",delete_outline:"删除大纲",no_outline_items:"未找到大纲项目。",options_page_title:"YT大纲和快照 - 选项",storage_usage_heading:"存储使用情况",storage_used:"已使用",storage_quota:"配额",storage_snapshot_count:"快照数",storage_average_size:"平均大小",outline:"大纲",clear_all_data_button:"清除所有数据",api_key_settings:"API密钥设置",api_key_label:"API密钥",api_key_placeholder:"输入你的Gemini API密钥（或其他模型的API密钥）",model_name_label:"模型名称",model_name_placeholder:"例如：gemini-1.5-flash-latest",recommended_model_text:"推荐模型：建议使用 gemini-2.5-flash-preview-05-20。",advanced_settings_heading:"高级设置",max_resolution_label_long:"快照最大分辨率",high_resolution_warning_long:"更高的分辨率会消耗更多存储空间，并可能需要更长时间处理。",beta_features_heading:"测试版功能",outline_edit_feature_label:"大纲编辑功能",outline_edit_description_long:"允许编辑大纲数据。",ad_pause_feature_label:"广告期间暂停快照截取",ad_pause_description_long:"在播放广告时暂停快照截取，广告结束后恢复截取。",exclude_video_url_option_label:"从大纲生成提示词中排除视频 URL",exclude_video_url_description_long:"从提示词中排除视频 URL 可以加快大纲生成并节省 AI 令牌，但可能会降低生成的大纲信息的准确性。",data_management_button:"数据管理",data_management_heading:"数据管理",data_management_description:"管理已保存的快照和大纲数据。",video_title:"视频标题",last_updated:"最后更新",delete_button:"删除",delete_success:"已成功删除",language_settings_heading:"语言设置 (Language Settings)",language_select_label:"语言选择",language_setting_description:"本地化覆盖面板UI文本和AI提示。",i18n_prompts_option_label:"使用本地化AI提示",i18n_prompts_description_long:"根据语言设置切换AI提示模板。",debug_warning_text:"已启用调试模式 - 可能会影响性能",i18n_overlay_option_label:"启用UI本地化",i18n_overlay_description_long:"根据语言设置本地化覆盖面板UI文本。",close_button:"关闭",language_english:"英语 (English)",language_japanese:"日语 (日本語)",language_simplified_chinese:"中文（简体） (简体中文)",language_korean:"韩语 (한국어)",save_settings_button:"保存设置",settings_saved_status:"设置已成功保存",rewind_5_seconds_tooltip:"后退 5 秒",play_tooltip:"播放",pause_tooltip:"暂停",forward_5_seconds_tooltip:"前进 5 秒",take_snapshot_tooltip:"截取快照",delete_outline_tooltip:"删除大纲",overlay_delete_current_video:"删除此视频的数据",overlay_options:"选项设置"},Se.ko={overlay_capture_all:"모두 캡처",overlay_generate_outline:"개요 생성",overlay_delete_all:"모두 삭제",overlay_export:"내보내기",overlay_edit:"편집",overlay_delete:"삭제",overlay_save:"저장",overlay_cancel:"취소",overlay_loading:"생성 중...",overlay_no_snapshots:"스냅샷이 없습니다",overlay_no_outline:"사용 가능한 개요가 없습니다",overlay_custom_snapshots:"여러 사용자 정의 스냅샷",custom_timestamp:"사용자 정의 타임스탬프",custom_timestamp_description:"사용자 정의 타임스탬프에서 촬영된 스냅샷",no_valid_timestamps:"유효한 타임스탬프가 없습니다.",current_language:"현재 언어",ai_description_generating:"AI 설명 생성 중...",error_prefix:"오류:",retry:"다시 시도",ai_regenerate:"AI 재생성",ai_generate:"AI 설명 생성",no_description:"설명이 없습니다.",time_prefix:"시간:",collapse:"접기",expand:"펼치기",scroll_to_top:"맨 위로 스크롤",capture_all_outline_snapshots:"모든 개요 타임스탬프에서 스냅샷 캡처",timestamp_format:"[{0}]",custom_times_placeholder:"00:01:48,00:03:06,00:03:13",invalid_timestamps_error:"타임스탬프가 잘못되었거나 캡처 기능을 사용할 수 없습니다.",invalid_timestamp_format:"잘못된 타임스탬프 형식: {0}",edit_outline:"개요 편집",save_error:"저장 오류",outline_format_instruction:"형식: [MM:SS] 타임스탬프 뒤에 제목, 그 다음 설명(선택 사항)",title_label:"제목",description_optional:"설명(선택 사항)",saving:"저장 중...",warning_label:"경고",no_transcript_warning:"이 동영상의 자막을 가져올 수 없어 개요에 부정확한 내용이 포함될 수 있습니다.",outline_heading:"개요",delete_outline:"개요 삭제",no_outline_items:"개요 항목을 찾을 수 없습니다.",options_page_title:"YT 개요 및 스냅 - 옵션",storage_usage_heading:"저장소 사용량",storage_used:"사용됨",storage_quota:"할당량",storage_snapshot_count:"스냅샷",storage_average_size:"평균 크기",outline:"개요",clear_all_data_button:"모든 데이터 지우기",api_key_settings:"API 키 설정",api_key_label:"API 키",api_key_placeholder:"Gemini API 키(또는 다른 모델의 API 키)를 입력하세요",model_name_label:"모델 이름",model_name_placeholder:"예: gemini-1.5-flash-latest",recommended_model_text:"추천 모델: gemini-2.5-flash-preview-05-20이 권장됩니다.",advanced_settings_heading:"고급 설정",max_resolution_label_long:"스냅샷 최대 해상도",high_resolution_warning_long:"더 높은 해상도는 저장 공간을 더 많이 사용하고 처리 시간이 더 오래 걸릴 수 있습니다.",beta_features_heading:"베타 기능",outline_edit_feature_label:"개요 편집 기능",outline_edit_description_long:"개요 데이터 편집을 허용합니다. ",ad_pause_feature_label:"광고 중 스냅샷 촬영 일시 정지",ad_pause_description_long:"광고 재생 중에 스냅샷 촬영을 일시 정지하고 광고 종료 후 재개합니다. ",exclude_video_url_option_label:"개요 생성 프롬프트에서 동영상 URL 제외",exclude_video_url_description_long:"프롬프트에서 동영상 URL을 제외하면 개요 생성 속도가 향상되고 AI 토큰을 절약할 수 있지만, 생성되는 개요 정보의 정확성이 떨어질 수 있습니다.",data_management_button:"데이터 관리",data_management_heading:"데이터 관리",data_management_description:"저장된 스냅샷과 개요 데이터를 관리합니다.",video_title:"동영상 제목",last_updated:"최종 업데이트",delete_button:"삭제",delete_success:"성공적으로 삭제되었습니다",language_settings_heading:"언어 설정 (Language Settings)",language_select_label:"언어 선택",language_setting_description:"오버레이 패널 UI 텍스트 및 AI 프롬프트를 현지화합니다.",i18n_prompts_option_label:"현지화된 AI 프롬프트 사용",i18n_prompts_description_long:"언어 설정에 따라 AI 프롬프트 템플릿을 전환합니다.",debug_warning_text:"디버그 모드 활성화됨 - 성능에 영향을 줄 수 있습니다",i18n_overlay_option_label:"UI 현지화 활성화",i18n_overlay_description_long:"언어 설정에 따라 오버레이 패널 UI 텍스트를 현지화합니다.",close_button:"닫기",language_english:"영어 (English)",language_japanese:"일본어 (日本語)",language_simplified_chinese:"중국어 (간체) (简体中文)",language_korean:"한국어 (한국어)",save_settings_button:"설정 저장",settings_saved_status:"설정이 성공적으로 저장되었습니다",rewind_5_seconds_tooltip:"5초 되감기",play_tooltip:"재생",pause_tooltip:"일시정지",forward_5_seconds_tooltip:"5초 앞으로",take_snapshot_tooltip:"스냅샷 찍기",delete_outline_tooltip:"개요 삭제",overlay_delete_current_video:"이 동영상의 데이터 삭제",overlay_options:"옵션 설정"},Va=!0)}const Ya=async()=>{try{const n=await pr();if(n!=null&&n.language)return bt(`設定から言語を取得: ${n.language}`),hr=n.language,hr}catch(n){console.error("言語設定の取得に失敗:",n)}const e=chrome.i18n.getUILanguage();let t="en";return e.startsWith("ja")?t="ja":e.startsWith("zh-CN")||e.startsWith("zh-Hans")?t="zh-CN":e.startsWith("ko")?t="ko":t="en",hr=t,t},Za=()=>{if(hr)return hr;const e=chrome.i18n.getUILanguage();let t="en";return e.startsWith("ja")?t="ja":e.startsWith("zh-CN")||e.startsWith("zh-Hans")?t="zh-CN":e.startsWith("ko")?t="ko":t="en",hr=t,t},mt=(e,t="",n)=>{if(!Ht.ENABLE_I18N_OVERLAY)return t||e;const r=n||Za(),i=["_tooltip","_long"];let o=Cd(e,"",r);if(o===e&&!i.some(s=>e.endsWith(s)))for(const s of i){const a=`${e}${s}`,l=Cd(a,"",r);if(l!==a)return l}return o===e&&t?t:o},Ed=(e,t)=>{const n=t||Za();try{let r="";if(r=chrome.i18n.getMessage(e),Se[n]&&Se[n][e])return bt(`現在の言語 ${n} のハードコード辞書からキー ${e} の翻訳を取得`),Se[n][e];if(r)return bt(`Chrome APIからキー ${e} の翻訳を取得`),r;const i=["_tooltip","_long"];for(const o of i)if(e.endsWith(o)){const s=e.substring(0,e.length-o.length);if(Se[n]&&Se[n][s])return bt(`現在の言語 ${n} のハードコード辞書からベースキー ${s} の翻訳を取得`),Se[n][s]}for(const o of i)if(e.endsWith(o)){const s=e.substring(0,e.length-o.length);if(r=chrome.i18n.getMessage(s),r)return bt(`Chrome APIからベースキー ${s} の翻訳を取得`),r}if(n!=="en"){if(Se.en&&Se.en[e])return bt(`英語のハードコード辞書からキー ${e} の翻訳を取得`),Se.en[e];for(const o of i)if(e.endsWith(o)){const s=e.substring(0,e.length-o.length);if(Se.en&&Se.en[s])return bt(`英語のハードコード辞書からベースキー ${s} の翻訳を取得`),Se.en[s]}}return""}catch(r){return console.error(`getLocaleMessage エラー: ${r}`),""}},Cd=(e,t="",n="en")=>{if(Va||zh(),bt(`tForced呼び出し: key=${e}, lang=${n}, flags.ENABLE_I18N_OVERLAY=${Ht.ENABLE_I18N_OVERLAY}`),!Ht.ENABLE_I18N_OVERLAY)return t||e;if(Se[n]&&Se[n][e])return bt(`カスタム辞書から翻訳を取得 (${n}): ${Se[n][e]}`),Se[n][e];const r=Ed(e,n);if(r)return r;const i=chrome.i18n.getMessage(e);if(i)return i;if(n!=="en"){if(Se.en&&Se.en[e])return bt(`英語のカスタム辞書から翻訳を取得: ${Se.en[e]}`),Se.en[e];const o=Ed(e,"en");if(o)return o}return t||e},Ah=!0;function Nh(){const[e,t]=ue.useState(()=>{const o=Za();return console.log("🌐 useTranslation: 初期言語",o),o}),[n,r]=ue.useState(0);return ue.useEffect(()=>{(async()=>{try{const s=await Ya();s!==e&&(Ah&&console.log("🌐 useTranslation: 非同期で言語を更新",{old:e,new:s}),t(s),r(a=>a+1))}catch(s){console.error("言語設定の取得に失敗:",s)}})()},[]),ue.useEffect(()=>{console.log("🌐 useTranslation: リスナーをセットアップ中");const o=(s,a)=>{if(a==="sync"&&s.language){const l=s.language.newValue??"en";console.log("🌐 useTranslation: 言語変更を検出",{oldValue:s.language.oldValue,newValue:l}),t(l),r(d=>d+1)}};return chrome.storage.onChanged.addListener(o),chrome.storage.sync.get("language",s=>{console.log("🌐 useTranslation: 現在のストレージ設定",s)}),()=>chrome.storage.onChanged.removeListener(o)},[]),{t:ue.useCallback((o,s)=>mt(o,s,e),[e,n]),lang:e}}const Oh=e=>{const t=/^(\d+):([0-5]?\d):([0-5]?\d)$/,n=/^([0-5]?\d):([0-5]?\d)$/;let r=0,i=0,o=0;if(t.test(e)){const[,s,a,l]=e.match(t)||[];r=parseInt(s,10),i=parseInt(a,10),o=parseInt(l,10)}else if(n.test(e)){const[,s,a]=e.match(n)||[];i=parseInt(s,10),o=parseInt(a,10)}else return null;return r*3600+i*60+o},Ph=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`},bh=e=>e.map(t=>`[${Ph(t.timestamp)}] ${t.title}
${t.description||""}`).join(`

`),Rh=e=>{const t=e.split(`
`),n=[],r=[];let i=null,o=0;for(;o<t.length;){const s=t[o].trim();if(o++,s==="")continue;const a=s.match(/^\[([0-9:]+)\]\s*(.+)$/);if(a){i&&i.timestamp!==void 0&&i.title&&n.push(i);const[,l,d]=a,_=Oh(l);_===null?(r.push(mt("invalid_timestamp_format").replace("{0}",l)),i=null):i={timestamp:_,title:d.trim(),description:""}}else i&&(i.description?i.description+=`
`+s:i.description=s)}return i&&i.timestamp!==void 0&&i.title&&n.push(i),{items:n,errors:r}},Lh=({items:e,onSave:t,onCancel:n})=>{const[r,i]=ue.useState(""),[o,s]=ue.useState([]),[a,l]=ue.useState(!1);ue.useEffect(()=>{i(bh(e))},[e]);const d=ue.useCallback(async()=>{const{items:_,errors:m}=Rh(r);if(m.length>0){s(m);return}if(_.length===0){s([mt("no_outline_items")]);return}l(!0);try{await t(_),s([])}catch(v){s([`${mt("save_error")}: ${v}`])}finally{l(!1)}},[r,t]);return Q.jsxs("div",{className:"outline-edit-form",style:{padding:"16px"},children:[Q.jsx("h3",{style:{marginBottom:"8px",color:"#333"},children:mt("edit_outline")}),Q.jsxs("div",{style:{marginBottom:"8px"},children:[Q.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:mt("outline_format_instruction")}),Q.jsxs("code",{style:{display:"block",fontSize:"12px",backgroundColor:"#f5f5f5",padding:"4px",borderRadius:"4px"},children:["[MM:SS] ",mt("title_label"),Q.jsx("br",{}),mt("description_optional")]})]}),Q.jsx("textarea",{value:r,onChange:_=>i(_.target.value),style:{width:"100%",minHeight:"300px",padding:"8px",fontFamily:"monospace",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical"}}),o.length>0&&Q.jsxs("div",{style:{marginTop:"8px",color:"#d32f2f",fontSize:"14px"},children:[Q.jsxs("p",{style:{fontWeight:"bold",marginBottom:"4px"},children:[mt("error_prefix")," "]}),Q.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:o.map((_,m)=>Q.jsx("li",{children:_},m))})]}),Q.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"flex-end",gap:"8px"},children:[Q.jsx("button",{onClick:n,className:"action-btn",style:{background:"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)",color:"#333",border:"none",padding:"5px 12px",fontSize:"12px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},disabled:a,children:mt("overlay_cancel")}),Q.jsx("button",{onClick:d,className:"edit-btn",style:{backgroundColor:"#008299",color:"#fff",border:"none",padding:"5px 12px",fontSize:"12px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",opacity:a?.7:1},disabled:a,children:mt(a?"saving":"overlay_save")})]})]})};function Td(e){const t=e.match(/(?:youtube\.com\/watch\?v=|\/embed\/|\/v\/|\/e\/|youtube\.com\/shorts\/|youtu\.be\/)([^#\&\?\n]*)/);return t?t[1]:null}const Id=({onSeekBackward:e,onPlayPause:t,onSeekForward:n,isPlaying:r,snapshots:i,onSaveDescription:o,initialOutlineItems:s,initialHasTranscript:a,currentVideoId:l})=>{const{t:d}=Nh(),[_,m]=ue.useState(null),[v,h]=ue.useState(""),[w,p]=ue.useState(i),[x,c]=ue.useState(""),[u,g]=ue.useState(s||[]),[S,T]=ue.useState(!1),[P,A]=ue.useState(a??!0),[j,D]=ue.useState(!1),[$,J]=ue.useState(!1),[C,U]=ue.useState(""),[y,W]=ue.useState(0),[le,Y]=ue.useState(null),[V,N]=ue.useState({}),[B,z]=ue.useState(!1),[I,X]=ue.useState(""),ee=ue.useRef(null),K=ue.useRef(null),de=ue.useRef(null),he=ue.useRef({}),ce=ue.useRef(w.length),se=(...b)=>{console.log("YT Outline & Snap (Overlay):",...b)},Ne=()=>{try{D(!0)}catch(b){console.error("アウトライン編集モードの開始中にエラーが発生しました:",b),b instanceof Error&&b.message.includes("Extension context invalidated")&&alert("拡張機能のコンテキストが無効になりました。ページを再読み込みしてください。")}},Te=()=>{try{D(!1)}catch(b){console.error("アウトライン編集のキャンセル中にエラーが発生しました:",b),b instanceof Error&&b.message.includes("Extension context invalidated")&&alert("拡張機能のコンテキストが無効になりました。ページを再読み込みしてください。")}},gt=async b=>{if(!(!l||b.length===0))try{await To(l,C,y,b,P),g(b),D(!1)}catch(F){if(console.error("Error saving outline:",F),F instanceof Error&&F.message.includes("Extension context invalidated")){alert("拡張機能のコンテキストが無効になりました。ページを再読み込みしてください。");return}throw F}},lt=async()=>{const F=new URLSearchParams(window.location.search).get("v")||"",re=new Eh,ne=`imgs_${F}`;let ae=`# YouTube Video Snapshots

## Video ID: ${F}
## Export Date: ${new Date().toLocaleString()}

`;u.length>0&&(ae+=`## Video Outline

`,u.forEach((Le,yn)=>{const Ge=new Date(Le.timestamp*1e3).toISOString().substr(11,8);ae+=`### ${yn+1}. ${Le.title}
`,ae+=`- **Timestamp**: ${Ge}
`,ae+=`- **Description**: ${Le.description}

`}),ae+=`---

## Snapshots

`),w.filter(Le=>(Le.videoId||Td(Le.videoUrl))===F).forEach((Le,yn)=>{if(Le.imageDataUrl){const Ge=Le.time,li=Math.floor(Ge/3600),Ao=Math.floor(Ge%3600/60),No=Math.floor(Ge%60),Ka=[li,Ao,No].map(Yh=>String(Yh).padStart(2,"0")).join(""),Oo=`${li}:${String(Ao).padStart(2,"0")}:${String(No).padStart(2,"0")}`,Ln=`snap${F}_${Ka}.jpg`,Dn=`${ne}/${Ln}`,Vh=Le.imageDataUrl.split(",")[1];re.file(Dn,Vh,{base64:!0}),ae+=`## Snapshot ${yn+1}

`,ae+=`- **Title**: ${Le.title}
`,ae+=`- **Timestamp**: ${Oo}
`,ae+=`- **Image**: ![Snapshot](${Dn})
`,Le.description&&(ae+=`- **Description**: ${Le.description}
`),ae+=`
---

`}}),re.file(`snapshots_${F}.md`,ae);const Ze=await re.generateAsync({type:"blob"}),vt=URL.createObjectURL(Ze),ge=document.createElement("a");ge.href=vt,ge.download=`snapshots_${F}.zip`,document.body.appendChild(ge),ge.click(),ge.remove(),URL.revokeObjectURL(vt)},f=b=>{chrome.storage.local.get({snapshots:[]},F=>{if(chrome.runtime.lastError){se("Error retrieving snapshots for deletion:",chrome.runtime.lastError.message);return}const re=F.snapshots.filter(ne=>ne.timestamp!==b);chrome.storage.local.set({snapshots:re},()=>{chrome.runtime.lastError?se("Error deleting snapshot:",chrome.runtime.lastError.message):se("Snapshot deleted successfully, timestamp:",b)})})},H=()=>{if(!l){se("No video ID available, cannot delete specific video data");return}chrome.storage.local.get({snapshots:[]},({snapshots:b})=>{const F=b.filter(re=>Td(re.videoUrl)!==l);chrome.storage.local.set({snapshots:F},()=>{se(`Snapshots for video ID ${l} cleared. Kept ${F.length} snapshots for other videos.`),p([])})}),l&&Promise.resolve().then(()=>Ch).then(({deleteOutline:b})=>{b(l).then(F=>{F?(se(`Outline for video ID ${l} deleted`),g([])):se(`No outline found for video ID ${l} or deletion failed`)})})};ue.useEffect(()=>{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.getURL&&X(chrome.runtime.getURL("icons/icon48.png"))},[]),ue.useEffect(()=>{pr().then(b=>{J(b.ENABLE_OUTLINE_EDIT||!1)}).catch(b=>{console.error("Error loading settings:",b)})},[]),ue.useEffect(()=>{const F=new URLSearchParams(window.location.href.split("?")[1]).get("v");if(F){const re=document.querySelector("h1.ytd-watch-metadata yt-formatted-string"),ne=(re==null?void 0:re.innerText)||"No title found";U(ne);const ae=document.querySelector("video");ae&&W(ae.duration||0),bn(F).then(ye=>{ye?(g(ye.items),A(ye.hasTranscript)):g([])}).catch(ye=>{console.error("Error loading outline:",ye),g([])})}},[]),ue.useEffect(()=>{p(i);const b=(F,re)=>{if(re==="local"&&F.snapshots){se("Storage changed, updating snapshots from storage listener");const ne=F.snapshots.newValue||[];if(ne.length>0){const ae=ne.filter(ye=>ye.description&&ye.description.trim()!=="");se(`Updated snapshots count: ${ne.length}, with descriptions: ${ae.length}`)}p(ne)}};return chrome.storage.onChanged.addListener(b),()=>{chrome.storage.onChanged.removeListener(b)}},[i]),ue.useEffect(()=>{p(i)},[i]),ue.useEffect(()=>{var b;!S&&u.length>0&&((b=de.current)==null||b.scrollIntoView({behavior:"smooth",block:"start"}))},[u,S]),ue.useEffect(()=>{const b=ce.current,F=w.length;if(F>b){const re=w.reduce((ae,ye)=>ye.timestamp>ae.timestamp?ye:ae,w[0]),ne=he.current[re.timestamp];ne&&ne.scrollIntoView({behavior:"smooth",block:"start"})}ce.current=F},[w]);const M=async()=>{if(!window.handleGenerateOutline){console.error("handleGenerateOutline function not available on window object");return}T(!0);try{const F=new URLSearchParams(window.location.search).get("v");if(!F){se("Failed to extract video ID from URL");const ne=await window.handleGenerateOutline();g(ne.items),A(ne.hasTranscript);return}se(`Checking for saved outline for video ${F}...`);const re=await bn(F);if(re&&re.items.length>0){se(`Found saved outline for video ${F} with ${re.items.length} items. Using cached version.`),g(re.items);const ne=re.hasTranscript===void 0?!0:re.hasTranscript;A(ne),se(`Transcript available: ${ne} (original value: ${re.hasTranscript})`)}else{se(`No saved outline found for video ${F}. Generating new outline...`);const ne=await window.handleGenerateOutline();g(ne.items),A(ne.hasTranscript),se(`Transcript available: ${ne.hasTranscript}`)}}catch(b){console.error("Error generating outline:",b)}finally{T(!1)}},E=async()=>{if(confirm("現在のアウトラインを削除しますか？この操作は元に戻せません。"))try{const F=new URLSearchParams(window.location.search).get("v");if(!F){se("Failed to extract video ID from URL");return}await kd(F),se(`Deleted outline for video ${F}`),g([])}catch(b){console.error("Error deleting outline:",b)}},k=()=>{if(!window.handleCaptureAllSnapshots||u.length===0){console.error("handleCaptureAllSnapshots function not available or no outline items");return}const b=document.querySelector("video.html5-main-video"),F=(b==null?void 0:b.duration)||Number.MAX_SAFE_INTEGER,re=u.filter(ae=>ae.timestamp>=F?(se(`Skipping outline item at ${ae.timestamp}s as it exceeds video duration (${F}s)`),!1):ae.timestamp<0?(se(`Skipping outline item with negative timestamp (${ae.timestamp}s)`),!1):!0);if(re.length===0){se("No valid outline timestamps found after filtering."),alert(d("no_valid_timestamps","有効なタイムスタンプがありません。"));return}const ne=re.map(ae=>({time:ae.timestamp,title:ae.title,description:ae.description}));se(`Capturing snapshots for ${ne.length} valid outline timestamps out of ${u.length} total.`),window.handleCaptureAllSnapshots(ne),se("Capturing snapshots for all outline timestamps with titles and descriptions:",ne)},O=async b=>{if(!window.generateSnapshotDescription){console.error("generateSnapshotDescription function not available on window object");return}const F=b.toString();Y(F),N(re=>({...re,[F]:null}));try{const re=await window.generateSnapshotDescription(F,{onSuccess:()=>{Y(null),N(ne=>({...ne,[F]:null})),se("Description generated successfully, fetching updated snapshots"),chrome.storage.local.get(["snapshots"],ne=>{if(chrome.runtime.lastError){console.error("Error getting updated snapshots:",chrome.runtime.lastError);return}const ae=ne.snapshots||[],ye=ae.find(Ze=>Ze.timestamp.toString()===F);se("Updated snapshot description:",ye==null?void 0:ye.description),ae&&ae.length>0&&(se("Immediately updating localSnapshots with latest from storage"),p(ae))})},onError:ne=>{N(ae=>({...ae,[F]:ne})),Y(null),se("Error generating description:",ne)}});if(se("Generated description result:",re),re){const ne=[...w],ae=ne.findIndex(ye=>ye.timestamp.toString()===F);ae!==-1&&(ne[ae]={...ne[ae],description:re},p(ye=>ye.map(vt=>vt.timestamp.toString()===F?{...vt,description:re}:vt)))}}catch(re){const ne=re instanceof Error?re.message:"予期せぬエラーが発生しました";N(ae=>({...ae,[F]:ne})),Y(null),console.error("Error generating description:",re),se("Error details:",JSON.stringify(re))}},Z=async b=>{se("[OVERLAY PANEL] handleSaveDescription called. Timestamp:",b,"Current Desc:",v);const F=w.find(ne=>ne.timestamp===b),re=F?F.description:"";if(_===null||v.trim()===re){se("[OVERLAY PANEL] No changes to save, or not in edit mode, or description is the same."),m(null);return}try{se("[OVERLAY PANEL] Calling onSaveDescription prop with ts:",b,"desc:",v),await(o==null?void 0:o(b,v)),se("[OVERLAY PANEL] onSaveDescription prop call successful."),m(null),h(""),p(ne=>ne.map(ae=>ae.timestamp===b?{...ae,description:v}:ae))}catch(ne){se("[OVERLAY PANEL] Error calling onSaveDescription prop:",ne),console.error("Error saving description in OverlayPanel. Check console for details.",ne)}},G={width:"40px",height:"40px",padding:0,backgroundColor:"rgba(255,255,255,0.9)",border:"1px solid rgba(0,0,0,0.15)",borderRadius:"50%",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",marginRight:"8px",color:"#333"},L={background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%)",color:"#fff",border:"none",padding:"3px 6px",fontSize:"11px",borderRadius:"4px",cursor:"pointer"},te={background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#555",padding:"3px",borderRadius:"3px",transition:"all 0.2s",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px"},ie={backgroundColor:"#008299",color:"#fff",border:"none",padding:"3px 6px",fontSize:"11px",borderRadius:"4px",cursor:"pointer"};return Q.jsxs("div",{ref:ee,style:{position:"fixed",top:"25px",right:"10px",width:B?"32px":"380px",height:B?"32px":"500px",overflow:"visible",backgroundColor:B?"rgba(0, 120, 215, 0.9)":"rgba(240, 240, 240, 0.95)",zIndex:1e4,border:"1px solid "+(B?"rgba(0, 120, 215, 0.5)":"#ccc"),borderRadius:B?"50%":"8px",padding:B?"4px":"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontFamily:"Arial, sans-serif",fontSize:"14px",color:"#333",display:"flex",flexDirection:"column",transition:"all 0.3s ease-in-out"},children:[B?Q.jsx("button",{onClick:()=>z(!1),style:{width:"24px",height:"24px",padding:0,margin:0,background:"none",border:"none",cursor:"pointer",color:"white",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},title:"展開",children:"📹"}):Q.jsxs("div",{style:{display:"flex",flexDirection:"column",marginBottom:"8px",borderBottom:"1px solid #ddd",paddingBottom:"8px",width:"100%",position:"sticky",top:0,backgroundColor:"rgba(240, 240, 240, 0.98)",zIndex:10,borderRadius:"8px 8px 0 0",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[Q.jsxs("h3",{style:{marginTop:0,marginBottom:0,marginLeft:"12px",fontSize:"18px",fontWeight:"bold",fontFamily:"Inter, sans-serif",background:"linear-gradient(45deg, #22d3ee, #818cf8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"flex",alignItems:"center"},children:[Q.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"8px"},children:[Q.jsx("rect",{width:"24",height:"24",rx:"4",fill:"#30D5C8"}),Q.jsx("path",{d:"M6 7H18V9H6V7Z",fill:"white"}),Q.jsx("path",{d:"M6 11H18V13H6V11Z",fill:"white"}),Q.jsx("path",{d:"M6 15H14V17H6V15Z",fill:"white"}),Q.jsx("circle",{cx:"18",cy:"16",r:"2",fill:"#EA4335"})]}),"YT Outline & Snap"]}),Q.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[Q.jsx("button",{onClick:()=>{chrome.runtime.sendMessage({action:"openOptionsPage"})},title:d("overlay_options"),style:{marginRight:"4px",...G},children:Q.jsx("span",{style:{fontSize:"16px"},children:"⚙️"})}),Q.jsx("button",{onClick:H,title:d("overlay_delete_current_video","この動画のデータを削除"),style:{marginRight:"8px",...G},children:Q.jsx(wd,{size:16,color:"#dc3545"})}),Q.jsx("button",{onClick:()=>z(!0),style:te,title:d("collapse","折りたたむ"),children:"⤡"})]})]}),Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 8px",backgroundColor:"rgba(240, 240, 240, 0.98)",borderRadius:"4px",marginBottom:"2px"},children:[Q.jsx("button",{onClick:()=>e==null?void 0:e(),title:d("rewind_5_seconds_tooltip"),style:G,className:"action-btn",children:Q.jsx(xh,{size:20})}),Q.jsx("button",{onClick:()=>t==null?void 0:t(),title:d(r?"pause_tooltip":"play_tooltip"),style:G,className:"action-btn",children:r?Q.jsx(_h,{size:20}):Q.jsx(wh,{size:20})}),Q.jsx("button",{onClick:()=>n==null?void 0:n(),title:d("forward_5_seconds_tooltip"),style:G,className:"action-btn",children:Q.jsx(yh,{size:20})}),Q.jsx("button",{onClick:()=>{var b;return(b=window.handleCaptureSnapshot)==null?void 0:b.call(window)},title:d("take_snapshot_tooltip"),style:{...G,background:"linear-gradient(135deg, #00c6ff 0%, #0072ff 100%)",color:"#fff"},className:"action-btn",children:"📷"})]})]}),!B&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{ref:K,style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:[Q.jsx("button",{onClick:lt,className:"w-full mb-4 px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 text-sm font-medium",children:d("overlay_export","エクスポート")}),Q.jsx("button",{onClick:M,disabled:S,className:"w-full mb-4 px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500/50 outline-btn action-btn",style:{background:"linear-gradient(135deg, #0ea5e9 0%, #06b6d4 50%, #10b981 100%)"},children:S?Q.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[Q.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",border:"2px solid #ccc",borderTopColor:"#0ea5e9",animation:"spin 1s linear infinite"}}),d("overlay_loading","生成中...")]}):d("overlay_generate_outline","アウトライン生成")}),Q.jsxs("div",{className:"mb-4",children:[Q.jsx("input",{type:"text",value:x,onChange:b=>c(b.target.value),placeholder:"00:01:48,00:03:06,00:03:13",className:"w-full mb-2 px-3 py-2 border rounded text-sm"}),Q.jsx("button",{onClick:()=>{const b=x.split(",").map(F=>{const re=F.trim().split(":").map(Number);return re.length===3?re[0]*3600+re[1]*60+re[2]:re.length===2?re[0]*60+re[1]:NaN}).filter(F=>!isNaN(F));if(b.length>0&&window.handleCaptureAllSnapshots){const F=b.map(re=>({time:re,title:`${d("custom_timestamp","カスタムタイムスタンプ")} ${new Date(re*1e3).toISOString().substr(11,8)}`,description:d("custom_timestamp_description","カスタム設定されたタイムスタンプでのスナップショット")}));window.handleCaptureAllSnapshots(F)}else console.error("Invalid timestamps or capture function unavailable.")},className:"w-full px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm font-medium",children:d("overlay_custom_snapshots","複数カスタムスナップショット")})]}),w.length===0?Q.jsx("p",{style:{textAlign:"center",color:"#777"},children:d("overlay_no_snapshots","まだスナップショットを撮影していません。")}):Q.jsx("ul",{style:{listStyleType:"none",padding:0,margin:0},children:w.filter(b=>l?(ne=>{const ae=ne.match(/(?:youtube\.com\/watch\?v=|\/embed\/|\/v\/|\/e\/|youtube\.com\/shorts\/|youtu\.be\/)([^#\&\?\n]*)/);return ae?ae[1]:null})(b.videoUrl)===l:!0).map(b=>Q.jsxs("li",{ref:F=>{he.current[b.timestamp]=F},style:{backgroundColor:"white",padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",position:"relative"},children:[b.imageDataUrl&&Q.jsx("img",{src:b.imageDataUrl,alt:"Snapshot",style:{width:"100%",maxHeight:"200px",objectFit:"contain",marginBottom:"8px",borderRadius:"4px",backgroundColor:"#f5f5f5"}}),_===b.timestamp?Q.jsxs("div",{style:{marginBottom:"8px"},children:[Q.jsx("textarea",{value:v,onChange:F=>h(F.target.value),style:{width:"100%",minHeight:"60px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"8px"}}),Q.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[Q.jsx("button",{onClick:()=>Z(b.timestamp),style:{...L},children:d("overlay_save","保存")}),Q.jsx("button",{onClick:()=>{m(null),h("")},style:{...L,marginLeft:"5px"},children:d("overlay_cancel","キャンセル")})]})]}):Q.jsx("div",{style:{marginBottom:"8px"},children:le===b.timestamp.toString()?Q.jsxs("div",{style:{margin:"5px 0",fontSize:"13px",color:"#666"},children:[Q.jsx("span",{style:{display:"inline-block",marginRight:"5px"},children:d("ai_description_generating","AI説明文生成中...")}),Q.jsx("div",{style:{display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",border:"2px solid #ccc",borderTopColor:"#007bff",animation:"spin 1s linear infinite"}})]}):V[b.timestamp.toString()]?Q.jsxs("div",{style:{margin:"5px 0"},children:[Q.jsxs("p",{style:{fontSize:"12px",color:"#dc3545",margin:"0 0 5px 0"},children:[d("error_prefix","エラー:")," ",V[b.timestamp.toString()]]}),Q.jsx("button",{onClick:()=>O(b.timestamp.toString()),style:{...L,fontSize:"11px",padding:"3px 6px"},className:"retry-btn action-btn",children:d("retry","再試行")})]}):Q.jsx("div",{style:{margin:"5px 0"},children:b.description?Q.jsxs("div",{children:[Q.jsx("p",{onClick:()=>{m(b.timestamp),h(b.description||"")},style:{margin:"0 0 8px 0",fontSize:"13px",color:"#333",wordBreak:"break-all",cursor:"pointer"},children:b.description}),Q.jsxs("div",{style:{display:"flex",gap:"5px"},children:[Q.jsx("button",{onClick:()=>O(b.timestamp.toString()),style:{...L,fontSize:"11px",padding:"3px 6px"},className:"ai-btn action-btn",children:d("ai_regenerate","AI再生成")}),Q.jsx("button",{onClick:()=>{m(b.timestamp),h(b.description||"")},style:ie,className:"edit-btn action-btn",children:d("overlay_edit","編集")})]})]}):Q.jsxs("div",{children:[Q.jsx("p",{style:{margin:"0 0 5px 0",fontSize:"13px",color:"#777"},children:d("no_description","説明がありません。")}),Q.jsxs("div",{style:{display:"flex",gap:"5px"},children:[Q.jsx("button",{onClick:()=>O(b.timestamp.toString()),style:{...L,fontSize:"11px",padding:"3px 6px"},className:"ai-btn action-btn",children:d("ai_generate","AI説明生成")}),Q.jsx("button",{onClick:()=>{m(b.timestamp),h("")},style:ie,children:d("overlay_edit","編集")})]})]})})}),Q.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[Q.jsxs("p",{style:{margin:0,fontSize:"0.9em",color:"#555"},children:[d("time_prefix","時間:")," ",Q.jsx("span",{onClick:()=>{var F;return(F=window.handleSeekTo)==null?void 0:F.call(window,b.time)},style:{cursor:"pointer",color:"#007bff",textDecoration:"underline"},children:new Date(b.time*1e3).toISOString().substr(11,8)})]}),Q.jsx("button",{onClick:()=>f(b.timestamp),title:d("overlay_delete","削除"),className:"action-btn",style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:Q.jsx(wd,{size:16,color:"#dc3545"})})]})]},b.timestamp))}),u.length>0&&Q.jsxs("div",{ref:de,style:{marginBottom:"15px"},children:[!P&&Q.jsxs("div",{style:{backgroundColor:"#fff3cd",color:"#856404",padding:"8px 12px",borderRadius:"4px",marginBottom:"10px",fontSize:"0.9em",border:"1px solid #ffeeba"},children:[Q.jsxs("span",{style:{fontWeight:"bold",marginRight:"5px"},children:["⚠️ ",d("warning_label","注意"),":"]}),d("no_transcript_warning","対象の動画のトランスクリプトが取得できないため、アウトラインが誤った内容となっている可能性があります")]}),Q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[Q.jsx("h4",{style:{margin:"0",fontWeight:"bold"},children:d("outline_heading","Outline")}),Q.jsxs("div",{style:{display:"flex",gap:"8px"},children:[$&&Q.jsxs("button",{onClick:Ne,className:"action-btn",style:{backgroundColor:"#008299",color:"#fff",border:"none",padding:"3px 8px",fontSize:"11px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:d("edit_outline","アウトラインを編集"),children:[Q.jsx(Sh,{size:12})," ",d("overlay_edit","編集")]}),Q.jsxs("button",{onClick:E,className:"action-btn",style:{background:"linear-gradient(135deg, #ff5252 0%, #b33939 100%)",color:"#fff",border:"none",padding:"3px 8px",fontSize:"11px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:d("delete_outline_tooltip"),children:[Q.jsx("span",{style:{fontSize:"12px"},children:"🗑️"})," ",d("overlay_delete","削除")]}),Q.jsxs("button",{onClick:k,className:"action-btn",style:{background:"linear-gradient(135deg, #00c6ff 0%, #0072ff 100%)",color:"#fff",border:"none",padding:"3px 8px",fontSize:"11px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:d("capture_all_outline_snapshots","アウトラインの全タイムスタンプでスナップショットを撮影"),children:[Q.jsx("span",{style:{fontSize:"12px"},children:"📷"})," ",d("overlay_capture_all","全て撮影")]})]})]}),j?Q.jsx(Lh,{items:u,onSave:gt,onCancel:Te}):Q.jsx("ul",{style:{listStyleType:"none",padding:0,margin:0},children:u.map((b,F)=>Q.jsxs("li",{style:{marginBottom:"12px"},children:[Q.jsxs("div",{style:{marginBottom:"5px"},children:[Q.jsxs("span",{onClick:()=>{var re;return(re=window.handleSeekTo)==null?void 0:re.call(window,b.timestamp)},style:{cursor:"pointer",color:"#007bff",fontWeight:"bold"},children:["[",new Date(b.timestamp*1e3).toISOString().substr(11,8),"]"]}),Q.jsx("strong",{style:{marginLeft:"6px",color:"#333"},children:b.title})]}),Q.jsx("div",{style:{fontSize:"0.9em",color:"#555",marginLeft:"6px",lineHeight:"1.4"},children:b.description})]},F))})]})]}),Q.jsx("button",{onClick:()=>{var b;return(b=K.current)==null?void 0:b.scrollTo({top:0,behavior:"smooth"})},style:{position:"absolute",bottom:"8px",right:"8px",backgroundColor:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",opacity:.5,pointerEvents:"auto"},title:d("scroll_to_top","トップにスクロール"),children:"↑"})]})]})},Dh=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;if(typeof document<"u"){if(!document.getElementById("yt-outline-snap-spinner-style")){const e=document.createElement("style");e.id="yt-outline-snap-spinner-style",e.innerHTML=Dh,document.head.appendChild(e)}if(!document.getElementById("yt-outline-snap-button-styles")){const e=document.createElement("style");e.id="yt-outline-snap-button-styles",e.innerHTML=`.action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .action-btn:active {
      transform: translateY(1px);
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .ai-btn:hover {
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.5);
      filter: brightness(1.1);
    }
    .ai-btn:active {
      transform: translateY(1px);
      filter: brightness(0.95);
      box-shadow: 0 2px 3px rgba(99, 102, 241, 0.3);
    }
    .outline-btn:hover {
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.5);
      filter: brightness(1.1);
    }
    .outline-btn:active {
      transform: translateY(1px);
      filter: brightness(0.95);
      box-shadow: 0 2px 3px rgba(14, 165, 233, 0.3);
    }
    .edit-btn:hover {
      background-color: #0069d9;
      box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
    }
    `,document.head.appendChild(e)}}const tm="",hn={ja:{outline:`YouTube動画 {videoUrl} のアウトラインを生成してください。
以下の情報を元に、動画の重要なポイントを時系列順に抽出してください。

## 動画情報
タイトル: {videoTitle}
チャンネル: {channelName}
長さ: {videoDuration}秒

{transcriptSection}
# 全体的な指示
- **目的**: このアウトラインは、視聴者が動画の主要な内容と流れを素早く把握するためのものです。
- **形式**: 各アウトライン項目は \`[HH:MM:SS] タイトル: 説明\` の形式で記述してください。

# タイムスタンプとセグメント化に関する最重要指示
- **タイムスタンプの定義**: 各タイムスタンプは、動画内でそのトピックやシーンが**実際に開始される正確な時刻 (HH:MM:SS)** を示してください。
- **内容の区切りの重視**: タイムスタンプは、単なる時間経過や機械的な間隔ではなく、**動画の物語上、または情報伝達上の明確な区切り**（例: 主要な話題の転換、新しいセクションの開始、デモンストレーションの開始、場面の大きな変化、キーパーソンの登場と発言の開始など）に基づいて決定してください。
- **過度な細分化の厳禁**:
    - **短すぎるセグメントの回避**: 数秒から数十秒で終わるような細かすぎる事象の連続に対して、それぞれ個別のタイムスタンプを割り当てるのは避けてください。
    - **類似イベントの集約**: 短時間で連続して発生する類似の細かいイベント（例: 参加者紹介の連続、短いカットの連続したモンタージュシーンなど）は、それらを**1つの代表的なタイムスタンプと説明に集約**してください。例えば、「[HH:MM:SS] 参加者紹介シーン全体: 多数の参加者が連続して紹介される」や「[HH:MM:SS] 試合のハイライトシーン: 緊張感のあるプレイが連続する」のように、一連のイベントをまとめてください。
- **タイムスタンプ間の適切な間隔**: 結果として、各タイムスタンプ間には、内容的に意味のある時間的間隔（通常は少なくとも数十秒から数分）が空くことを期待します。ただし、動画の構成によってはこの限りではありません。
- **検証可能性**: 生成された各タイムスタンプは、第三者が動画のその時刻を確認した際に、説明内容の事象がその瞬間に開始されていると明確に同意できるものである必要があります。

# タイトルと説明
- **タイトル**: そのセグメントの内容を的確に表す、簡潔なタイトルを付けてください。
- **説明**: 各ポイントの説明は、そのシーンの内容を100文字以内で具体的に記述してください。

# ポイント数
- 動画全体を網羅し、**およそ{numPoints}個（ただし、動画の内容に応じて最小5個から最大30個の範囲）**の重要なポイントを抽出してください。動画が非常に短い場合や内容が単調な場合は、ポイント数が少なくなることを許容します。

# 期待する出力形式の例 (内容に基づいたタイムスタンプ)
[00:01:23] 新機能のデモンストレーション開始: 新しい分析ツールの使い方を説明。
[00:05:45] ユーザーインタビュー: 既存ユーザーが体験談を語る。 (←前のポイントから数分経過している点に注目)
[00:08:10] Q&Aセッション: よくある質問とその回答。

# 避けるべき出力形式の例 (過度に細分化された、または内容と無関係なタイムスタンプ)
[00:01:00] 参加者A紹介
[00:01:05] 参加者B紹介 (←細かすぎる)
[00:01:10] 参加者C紹介 (←細かすぎる)
[00:02:00] 次の話題 (←機械的な間隔)

- 最初と最後のポイントは動画の冒頭と終盤に設定してください
- 重要なポイントを見逃さないようにしてください
- 動画の内容に関係ないポイントは含めないでください`,snapshotDescription:`YouTube動画 {videoTitle} の{formattedTime}時点のスナップショットです。
画像及び前後のトランスクリプトを元にこの画像の核心を突く日本語説明文を70文字から100文字程度で生成してください。

ガイドライン  
- 前後30〜60秒の発言・画像内テキストから “数値・固有名詞・引用” 等の  
  具体的ディテールを最低1つ盛り込む  
- 冒頭に「画像／シーン」は置かない、タイトル語句も使わない  
- 同一動画内では切り口と言葉選びを変える

{transcriptSection}`},en:{outline:`Generate an outline for YouTube video {videoUrl}.
Based on the following information, extract important points from the video in chronological order.

## Video Information
Title: {videoTitle}
Channel: {channelName}
Duration: {videoDuration} seconds

{transcriptSection}
# Overall Instructions
- **Purpose**: This outline is designed to help viewers quickly understand the main content and flow of the video.
- **Format**: Each outline item should be written in the format \`[HH:MM:SS] Title: Description\`.

# Critical Instructions for Timestamps and Segmentation
- **Timestamp Definition**: Each timestamp should indicate the **exact time (HH:MM:SS) when that topic or scene actually begins** in the video.
- **Emphasis on Content Breaks**: Timestamps should be determined based on **clear breaks in the video's narrative or information delivery** (e.g., major topic transitions, beginning of new sections, start of demonstrations, significant scene changes, key person appearances and start of their statements), not merely time progression or mechanical intervals.
- **Strict Prohibition of Excessive Subdivision**:
    - **Avoid Overly Short Segments**: Avoid assigning individual timestamps to overly detailed events that last only seconds to tens of seconds in succession.
    - **Aggregate Similar Events**: Similar minor events that occur consecutively in a short time (e.g., continuous participant introductions, consecutive short cuts in montage scenes) should be **consolidated into one representative timestamp and description**. For example, "[HH:MM:SS] Complete participant introduction scene: Multiple participants are introduced consecutively" or "[HH:MM:SS] Match highlight scene: Tense plays occur in succession."
- **Appropriate Intervals Between Timestamps**: As a result, each timestamp should have meaningful temporal intervals (usually at least tens of seconds to several minutes) between them. However, this may vary depending on the video's structure.
- **Verifiability**: Each generated timestamp should be such that when a third party checks that time in the video, they can clearly agree that the described event begins at that moment.

# Title and Description
- **Title**: Provide a concise title that accurately represents the content of that segment.
- **Description**: The description for each point should specifically describe the content of that scene within 50 words.

# Number of Points
- Cover the entire video and extract **approximately {numPoints} important points (however, within a range of minimum 5 to maximum 30 depending on the video content)**. If the video is very short or the content is monotonous, fewer points are acceptable.

# Expected Output Format Example (Content-based timestamps)
[00:01:23] New feature demonstration begins: Explaining how to use the new analysis tool.
[00:05:45] User interview: Existing user shares their experience. (←Note several minutes have passed since the previous point)
[00:08:10] Q&A session: Common questions and their answers.

# Output Format Examples to Avoid (Overly subdivided or content-irrelevant timestamps)
[00:01:00] Participant A introduction
[00:01:05] Participant B introduction (←Too detailed)
[00:01:10] Participant C introduction (←Too detailed)
[00:02:00] Next topic (←Mechanical interval)

- Set the first and last points at the beginning and end of the video
- Don't miss important points
- Don't include points unrelated to the video content`,snapshotDescription:`This is a snapshot at {formattedTime} from the YouTube video {videoTitle}.

Task: Turn the snapshot at {formattedTime} into a 30–50 words English caption  
that spotlights a key detail.  

Guidelines  
- Pull at least one concrete element (figure, proper noun, quote) from the  
  transcript or on-screen text.  
- Do not start with generic scene phrases or timestamps, repeat title words.  
- Refresh angle and diction for each caption in the same video.

{transcriptSection}`},"zh-CN":{outline:`请为YouTube视频 {videoUrl} 生成大纲。
基于以下信息，按时间顺序提取视频的重要要点。

## 视频信息
标题: {videoTitle}
频道: {channelName}
时长: {videoDuration}秒

{transcriptSection}
# 总体指示
- **目的**: 此大纲旨在帮助观众快速了解视频的主要内容和流程。
- **格式**: 每个大纲项目应以 \`[HH:MM:SS] 标题: 描述\` 的格式编写。

# 时间戳和分段的重要指示
- **时间戳定义**: 每个时间戳应指示该主题或场景在视频中**实际开始的准确时间 (HH:MM:SS)**。
- **强调内容断点**: 时间戳应基于**视频叙述或信息传递中的明确断点**（例如：主要话题转换、新章节开始、演示开始、重要场景变化、关键人物出现及其发言开始等）来确定，而不是仅仅基于时间进展或机械间隔。
- **严格禁止过度细分**:
    - **避免过短片段**: 避免为连续发生且仅持续几秒到几十秒的过于详细的事件分配单独的时间戳。
    - **聚合相似事件**: 在短时间内连续发生的相似小事件（例如：连续的参与者介绍、蒙太奇场景中的连续短镜头）应**合并为一个代表性的时间戳和描述**。例如，"[HH:MM:SS] 完整参与者介绍场景：多位参与者被连续介绍"或"[HH:MM:SS] 比赛精彩片段：紧张的比赛连续进行"。
- **时间戳间的适当间隔**: 因此，每个时间戳之间应有有意义的时间间隔（通常至少几十秒到几分钟）。但这可能因视频结构而异。
- **可验证性**: 生成的每个时间戳应该是这样的：当第三方检查视频中的该时间时，他们可以清楚地同意所描述的事件在那一刻开始。

# 标题和描述
- **标题**: 提供准确代表该片段内容的简洁标题。
- **描述**: 每个要点的描述应在100个字符内具体描述该场景的内容。

# 要点数量
- 覆盖整个视频并提取**大约 {numPoints} 个重要要点（但根据视频内容在最少5个到最多30个的范围内）**。如果视频很短或内容单调，较少的要点是可以接受的。

# 预期输出格式示例（基于内容的时间戳）
[00:01:23] 新功能演示开始：解释如何使用新的分析工具。
[00:05:45] 用户访谈：现有用户分享他们的体验。（←注意与前一个要点间隔了几分钟）
[00:08:10] 问答环节：常见问题及其答案。

# 应避免的输出格式示例（过度细分或与内容无关的时间戳）
[00:01:00] 参与者A介绍
[00:01:05] 参与者B介绍（←过于详细）
[00:01:10] 参与者C介绍（←过于详细）
[00:02:00] 下一个话题（←机械间隔）

- 将第一个和最后一个要点设置在视频的开头和结尾
- 不要遗漏重要要点
- 不要包含与视频内容无关的要点`,snapshotDescription:`这是 YouTube 视频 {videoTitle} 在 {formattedTime} 时间点的截图。

任务：将 {formattedTime} 时的截图转化为 60-90 字的中文说明，
突出关键细节。

指南
- 从字幕或屏幕文本中提取至少一个具体元素（数字、专有名词、引用语）
- 不要以通用场景短语或时间戳开头，不要重复标题词语
- 在同一视频的不同截图中更新角度和描述方式

{transcriptSection}`},ko:{outline:`YouTube 동영상 {videoUrl}의 개요를 생성해주세요.
다음 정보를 바탕으로 동영상의 중요한 포인트를 시간순으로 추출해주세요.

## 동영상 정보
제목: {videoTitle}
채널: {channelName}
길이: {videoDuration}초

{transcriptSection}
# 전체적인 지시사항
- **목적**: 이 개요는 시청자가 동영상의 주요 내용과 흐름을 빠르게 파악하기 위한 것입니다.
- **형식**: 각 개요 항목은 \`[HH:MM:SS] 제목: 설명\` 형식으로 작성해주세요.

# 타임스탬프와 세그먼트화에 관한 중요 지시사항
- **타임스탬프 정의**: 각 타임스탬프는 동영상에서 해당 주제나 장면이 **실제로 시작되는 정확한 시간 (HH:MM:SS)**을 나타내야 합니다.
- **내용 구분점 강조**: 타임스탬프는 단순한 시간 경과나 기계적 간격이 아닌 **동영상의 서사나 정보 전달에서의 명확한 구분점**(예: 주요 주제 전환, 새로운 섹션 시작, 데모 시작, 중요한 장면 변화, 핵심 인물 등장 및 발언 시작 등)을 기반으로 결정되어야 합니다.
- **과도한 세분화 엄격 금지**:
    - **너무 짧은 세그먼트 피하기**: 연속적으로 발생하며 몇 초에서 몇십 초만 지속되는 지나치게 세부적인 사건들에 개별 타임스탬프를 할당하는 것을 피하세요.
    - **유사한 이벤트 통합**: 짧은 시간 내에 연속적으로 발생하는 유사한 소규모 이벤트들(예: 연속된 참가자 소개, 몽타주 장면의 연속된 짧은 컷들)은 **하나의 대표적인 타임스탬프와 설명으로 통합**해야 합니다. 예를 들어, "[HH:MM:SS] 완전한 참가자 소개 장면: 여러 참가자가 연속적으로 소개됨" 또는 "[HH:MM:SS] 경기 하이라이트 장면: 긴장감 있는 플레이가 연속됨"과 같이 작성하세요.
- **타임스탬프 간의 적절한 간격**: 결과적으로 각 타임스탬프 간에는 의미 있는 시간 간격(보통 최소 몇십 초에서 몇 분)이 있어야 합니다. 다만 동영상 구조에 따라 달라질 수 있습니다.
- **검증 가능성**: 생성된 각 타임스탬프는 제3자가 동영상의 해당 시간을 확인했을 때, 설명된 사건이 그 순간에 시작된다는 것에 명확히 동의할 수 있는 것이어야 합니다.

# 제목과 설명
- **제목**: 해당 세그먼트의 내용을 정확하게 나타내는 간결한 제목을 제공하세요.
- **설명**: 각 포인트의 설명은 해당 장면의 내용을 100자 이내로 구체적으로 기술해야 합니다.

# 포인트 수
- 전체 동영상을 포괄하며 **약 {numPoints}개의 중요한 포인트(단, 동영상 내용에 따라 최소 5개에서 최대 30개 범위 내)**를 추출하세요. 동영상이 매우 짧거나 내용이 단조로운 경우 더 적은 포인트도 허용됩니다.

# 예상 출력 형식 예시 (내용 기반 타임스탬프)
[00:01:23] 새로운 기능 데모 시작: 새로운 분석 도구 사용법 설명.
[00:05:45] 사용자 인터뷰: 기존 사용자가 경험담을 공유함. (←이전 포인트로부터 몇 분이 지났음에 주목)
[00:08:10] Q&A 세션: 자주 묻는 질문과 답변.

# 피해야 할 출력 형식 예시 (과도하게 세분화되거나 내용과 무관한 타임스탬프)
[00:01:00] 참가자 A 소개
[00:01:05] 참가자 B 소개 (←너무 세부적)
[00:01:10] 참가자 C 소개 (←너무 세부적)
[00:02:00] 다음 주제 (←기계적 간격)

- 첫 번째와 마지막 포인트는 동영상의 시작과 끝에 설정하세요
- 중요한 포인트를 놓치지 마세요
- 동영상 내용과 관련 없는 포인트는 포함하지 마세요`,snapshotDescription:`이것은 YouTube 동영상 {videoTitle}의 {formattedTime} 시점 스냅샷입니다.

작업: {formattedTime} 시점의 스냅샷을 30-50단어의 한국어 설명으로 변환하여
핵심 세부 사항을 부각해 주세요.

지침
- 자막이나 화면에 표시된 텍스트에서 최소한 하나의 구체적 요소(숫자, 고유 명사, 인용문)를 추출해 주세요
- 일반적인 장면 구문이나 타임스킬프로 시작하지 마시고, 제목 단어를 반복하지 마세요
- 동일한 동영상의 서로 다른 스냅샷에서 관점과 표현 방식을 새롭게 해주세요

{transcriptSection}`}};function mr(...e){}const Rn=class Rn{constructor(){Po(this,"customTemplates",{});Po(this,"initialized",!1)}static getInstance(){return Rn.instance||(Rn.instance=new Rn),Rn.instance}async initialize(){if(!this.initialized)try{const t=await chrome.storage.sync.get("customTemplates");t.customTemplates?(this.customTemplates=t.customTemplates,mr("カスタムテンプレートを読み込みました:",this.customTemplates)):mr("カスタムテンプレートが見つかりませんでした。デフォルトを使用します。"),this.initialized=!0}catch(t){console.error("カスタムテンプレートの読み込みに失敗しました:",t),this.initialized=!0}}async getTemplate(t,n){var i,o;if(!Ht.ENABLE_I18N_PROMPTS)return hn.ja[t]||"";if(this.initialized||await this.initialize(),(i=this.customTemplates[t])!=null&&i[n])return this.customTemplates[t][n];const r=((o=hn[n])==null?void 0:o[t])||hn.ja[t]||"";return mr(`デフォルトテンプレートを返します: ${t}, ${n} => ${r.substring(0,30)}...`),r}getTemplateSync(t,n){var i,o,s;if(!Ht.ENABLE_I18N_PROMPTS)return hn.ja[t]||"";if(!this.initialized)return((i=hn[n])==null?void 0:i[t])||hn.ja[t]||"";if((o=this.customTemplates[t])!=null&&o[n])return this.customTemplates[t][n];const r=((s=hn[n])==null?void 0:s[t])||hn.ja[t]||"";return mr(`デフォルトテンプレートを返します: ${t}, ${n} => ${r.substring(0,30)}...`),r}async saveCustomTemplate(t,n,r){this.initialized||await this.initialize(),this.customTemplates[t]||(this.customTemplates[t]={}),this.customTemplates[t][n]=r,this.customTemplates.__version||(this.customTemplates.__version="1.0");try{const i=JSON.parse(JSON.stringify(this.customTemplates));await chrome.storage.sync.set({customTemplates:this.customTemplates}),mr(`カスタムテンプレートを保存しました: ${t}, ${n}`)}catch(i){throw console.error("カスタムテンプレートの保存に失敗しました:",i),i}}async deleteCustomTemplate(t,n){var r;if(this.initialized||await this.initialize(),!!((r=this.customTemplates[t])!=null&&r[n])){delete this.customTemplates[t][n],Object.keys(this.customTemplates[t]).length===0&&delete this.customTemplates[t];try{await chrome.storage.sync.set({customTemplates:this.customTemplates}),mr(`カスタムテンプレートを削除しました: ${t}, ${n}`)}catch(i){throw console.error("カスタムテンプレートの削除に失敗しました:",i),i}}}};Po(Rn,"instance");let Io=Rn;const zd=(...e)=>{console.log("YT Outline & Snap:",...e)},Ad=()=>{const e=document.querySelector("#movie_player");return e?e.classList.contains("ad-showing")||e.classList.contains("ad-interrupting"):!1},Nd=async()=>{if((await pr()).ENABLE_AD_PAUSE&&Ad())return zd("広告が検出されました。広告終了を待機します..."),new Promise(t=>{const r=setInterval(()=>{Ad()||(clearInterval(r),zd("広告が終了しました。スナップショット取得を再開します。"),t())},500)})},mn="yt-outline-snap-debug-overlay";let Vt=null,st=[];Ih().then(()=>{console.log("デバッグフラグを読み込みました:",Ht)});function gr(){try{return chrome.runtime.getURL(""),!0}catch{return console.error("Extension context invalidated"),!1}}let at=!1,zo=window.location.href,Ct=!1,gn=!1;chrome.runtime.onMessage.addListener((e,t,n)=>(R("contentScript.tsx received message:",e,"from sender:",t),e.action==="initializeOverlay"?R("contentScript.tsx: Received initializeOverlay. Current isOverlayInitialized:",gn):e.type==="CAPTURE_SNAPSHOT_COMMAND"&&(R("contentScript.tsx: Received CAPTURE_SNAPSHOT_COMMAND"),window.handleCaptureSnapshot?window.handleCaptureSnapshot():console.error("handleCaptureSnapshot not found on window")),!1));let vn=(e,t,n,r)=>{R("--- CONTENT SCRIPT: renderPanel called ---",{isPlayingState:e,snapshotsCount:t==null?void 0:t.length,outlineItemsCount:n==null?void 0:n.length,hasTranscriptToRender:r}),Vt?(at=e,t&&(st=t),Vt.render(ef.createElement(Id,{isPlaying:e,snapshots:t||st,initialOutlineItems:n,initialHasTranscript:r}))):R("appRoot is null, cannot render panel.")};const R=(...e)=>{console.log("YT Outline & Snap (Debug Version):",...e)},Od=()=>{try{chrome.runtime.getURL("")}catch{console.error("Extension context invalidated, cannot capture snapshot");return}try{R("Attempting to capture snapshot. window.handleCaptureSnapshot exists:",typeof window.handleCaptureSnapshot=="function");const e=document.querySelector("video.html5-main-video");if(!e){R("Video element not found.");return}const t=document.querySelector("h1.ytd-watch-metadata yt-formatted-string"),n=(t==null?void 0:t.innerText)||"No title found",r=e.currentTime,i=document.createElement("canvas");i.width=e.videoWidth||e.clientWidth,i.height=e.videoHeight||e.clientHeight;const o=i.getContext("2d");let s;o&&(o.drawImage(e,0,0,i.width,i.height),s=i.toDataURL("image/jpeg"));const a={title:n,time:r,timestamp:Date.now(),videoUrl:window.location.href,imageDataUrl:s,description:""};if(!gr()){console.error("Extension context invalidated, cannot access storage");return}chrome.storage.local.get({snapshots:[]},({snapshots:l})=>{const d=[...l,a];chrome.storage.local.set({snapshots:d},()=>R("Snapshot saved successfully:",a))})}catch(e){console.error("Error in handleCaptureSnapshot:",e)}},jh=async e=>{try{const t=document.querySelector("video.html5-main-video");if(!t){R("Video element not found for captureFrameAt.");return}const n=t.duration;return e>=n&&(R(`Requested time (${e}s) exceeds video duration (${n}s). Adjusting to end of video.`),e=Math.max(0,Math.floor(n)-1)),e<0&&(R(`Negative time value (${e}s) detected. Adjusting to start of video.`),e=0),await Nd(),new Promise(r=>{const i=async()=>{t.removeEventListener("seeked",i),await Nd();const o=document.createElement("canvas");o.width=t.videoWidth||t.clientWidth,o.height=t.videoHeight||t.clientHeight;const s=o.getContext("2d");s?(s.drawImage(t,0,0,o.width,o.height),r(o.toDataURL("image/jpeg"))):r(void 0)};t.addEventListener("seeked",i),Math.abs(t.currentTime-e)<.001?i():t.currentTime=e})}catch(t){R("Error in captureFrameAt:",t);return}},Uh=async e=>{for(const t of e){const n=await jh(t.time);if(n){const r=document.querySelector("video.html5-main-video"),i=document.querySelector("h1.ytd-watch-metadata yt-formatted-string");if(!r)continue;const s={title:(i==null?void 0:i.innerText)||"No title found",time:t.time,timestamp:Date.now(),videoUrl:window.location.href,imageDataUrl:n,description:t.description||t.title||""};if(!gr()){console.error("Extension context invalidated, cannot access storage in handleCaptureAllSnapshots");return}chrome.storage.local.get({snapshots:[]},({snapshots:a})=>{if(chrome.runtime.lastError){console.error("Error getting snapshots in handleCaptureAllSnapshots:",chrome.runtime.lastError.message);return}const l=[...a,s];chrome.storage.local.set({snapshots:l},()=>{if(chrome.runtime.lastError){console.error("Error setting snapshots in handleCaptureAllSnapshots (set operation):",chrome.runtime.lastError.message);return}R("Snapshot saved via all capture with description:",s)})})}await new Promise(r=>setTimeout(r,500))}},Pd=(e,t,n=30,r=60)=>{if(!e)return R("extractTranscriptSegment: Empty transcript provided"),"";R(`extractTranscriptSegment: Processing transcript (${e.length} chars) for timestamp ${t}s`),R(`extractTranscriptSegment: Range: ${t-n}s to ${t+r}s`);const i=e.length>100?e.substring(0,100)+"...":e;R(`extractTranscriptSegment: Transcript preview: ${i}`);const o=e.split(`
`);R(`extractTranscriptSegment: Split into ${o.length} lines`);const s=[];let a=0;const l=[/\[(\d{1,2})(?::(\d{1,2}))?(?::(\d{1,2}))?\]\s*(.+)/,/\[(\d+)s\]\s*(.+)/,/\((\d{1,2})(?::(\d{1,2}))?(?::(\d{1,2}))?\)\s*(.+)/,/(\d+)(?::(\d+))?(?::(\d+))?:\s*(.+)/];for(const p of o){let x=!1;for(let c=0;c<l.length;c++){const u=l[c].exec(p);if(u)try{let g=0,S="";if(c===0?u[3]?(g=parseInt(u[1],10)*3600+parseInt(u[2],10)*60+parseInt(u[3],10),S=u[4].trim()):u[2]?(g=parseInt(u[1],10)*60+parseInt(u[2],10),S=u[4].trim()):(g=parseInt(u[1],10),S=u[4].trim()):c===1?(g=parseInt(u[1],10),S=u[2].trim()):(c===2||c===3)&&(u[3]?(g=parseInt(u[1],10)*3600+parseInt(u[2],10)*60+parseInt(u[3],10),S=u[4].trim()):u[2]?(g=parseInt(u[1],10)*60+parseInt(u[2],10),S=u[4].trim()):(g=parseInt(u[1],10),S=u[4].trim())),g<=43200){s.push({timestamp:g,text:S}),x=!0;break}}catch(g){a++,a<=3&&R(`Error parsing timestamp in line: ${p}, error: ${g}`);continue}}}if(a>0&&R(`extractTranscriptSegment: ${a} timestamp parsing errors occurred`),R(`extractTranscriptSegment: Parsed ${s.length} segments from transcript`),s.length===0)return R("extractTranscriptSegment: No segments found in transcript, returning original transcript"),e;s.sort((p,x)=>p.timestamp-x.timestamp);const d=s[0].timestamp,_=s[s.length-1].timestamp;if(R(`extractTranscriptSegment: Transcript covers time range ${d}s to ${_}s`),t>_*1.5){R(`extractTranscriptSegment: Target timestamp ${t}s is outside transcript range, normalizing`);const p=t/100%_;p>0?(R(`extractTranscriptSegment: Normalized timestamp to ${p}s`),t=p):(t=_*.8,R(`extractTranscriptSegment: Using 80% of transcript range, timestamp: ${t}s`))}const m=Math.max(0,t-n),v=t+r,h=s.filter(p=>p.timestamp>=m&&p.timestamp<=v);if(R(`extractTranscriptSegment: Found ${h.length} segments within range ${m}s-${v}s`),h.length===0){R("extractTranscriptSegment: No segments in range, finding closest segments");let p=0,x=Math.abs(s[0].timestamp-t);for(let g=1;g<s.length;g++){const S=Math.abs(s[g].timestamp-t);S<x&&(x=S,p=g)}const c=Math.max(0,p-5),u=Math.min(s.length-1,p+10);for(let g=c;g<=u;g++)h.push(s[g]);R(`extractTranscriptSegment: Added ${h.length} segments around closest timestamp ${s[p].timestamp}s`),h.sort((g,S)=>g.timestamp-S.timestamp)}if(h.length>30){const p=h.findIndex(u=>u.timestamp>=t),x=Math.max(0,p-10),c=h.slice(x,x+30);R(`extractTranscriptSegment: Limited from ${h.length} to ${c.length} segments`),h.length=0,h.push(...c)}const w=h.map(p=>{const x=Math.floor(p.timestamp/3600),c=Math.floor(p.timestamp%3600/60),u=Math.floor(p.timestamp%60);return`[${[x,c,u].map(S=>String(S).padStart(2,"0")).join(":")}] ${p.text}`}).join(`
`);if(R(`extractTranscriptSegment: Final transcript segment (${w.length} chars)`),w.length>0){const p=w.length>100?w.substring(0,100)+"...":w;R(`extractTranscriptSegment: Result preview: ${p}`)}return w};async function Ga(e,t=!1){try{const n=`transcript_cache_${e}`;if(t)R(`Force retry requested for transcript of video ${e}`);else try{const s=await chrome.storage.local.get(n);if(s&&s[n])return R(`Using cached transcript for video ${e}`),s[n]}catch(s){R("Error checking transcript cache:",s)}const r=["show transcript","文字起こしを表示"];let i=null;const o=Array.from(document.querySelectorAll("button, yt-button-renderer, ytd-button-renderer, tp-yt-paper-button, yt-button-shape"));for(const s of o){const a=(s.getAttribute("aria-label")||s.textContent||"").trim().toLowerCase();if(r.some(l=>a.includes(l))){i=s;break}}if(!i){const s=document.querySelector('ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-searchable-transcript"] ytd-button-renderer button,ytd-video-description-transcript-section-renderer button,button[aria-label*="transcript" i]');s&&(s.textContent||s.getAttribute("aria-label")||"").toLowerCase().includes("show")&&(i=s)}if(i){(i.querySelector("button")||i).click(),await new Promise(l=>setTimeout(l,2e3));const a=document.querySelectorAll("ytd-transcript-segment-renderer");if(a.length>0){let l="";if(a.forEach((d,_)=>{var h,w;let m=null,v=null;if(d.shadowRoot&&(m=d.shadowRoot.querySelector("div.cue-group-start-offset"),m||(m=d.shadowRoot.querySelector("div.cue-timestamp")),m||(m=d.shadowRoot.querySelector('div[class*="timestamp"], div[aria-label*="timestamp"]')),v=d.shadowRoot.querySelector("div.cue"),v||(v=d.shadowRoot.querySelector("div.cue-text")),v||(v=Array.from(d.shadowRoot.querySelectorAll('div[class*="cue"], div[class*="text"], div.segment-text, #text, #cue')).find(x=>{var u;if(x===m)return!1;const c=(u=x.textContent)==null?void 0:u.trim();return!!c&&c.length>0})||null)),(!m||!v)&&(m||(m=d.querySelector("div.segment-timestamp")),v||(v=d.querySelector("yt-formatted-string.segment-text")),!m||!v)){const p=[{ts:"div.cue-group-start-offset",txt:"div.cue"},{ts:"div.timestamp",txt:"div.text"},{ts:".cue-group-start-offset",txt:".cue"},{ts:".timestamp",txt:".text"}];for(const x of p){let c=m,u=v;if(c||(c=d.querySelector(x.ts)),u||(u=d.querySelector(x.txt)),c&&u){m=c,v=u;break}}}if(m&&v){const p=((h=m.textContent)==null?void 0:h.trim())||"",x=((w=v.textContent)==null?void 0:w.trim())||"";p&&x&&(l+=`[${p}] ${x}
`)}else{let p=[];m||p.push("timestamp"),v||p.push("text")}}),l.length>0){const d=l.trim();try{const _={[n]:d};await chrome.storage.local.set(_),R(`Cached transcript for video ${e} (${d.length} chars)`)}catch(_){R("Error caching transcript:",_)}return d}else return R("Found transcript segments, but could not extract text or timestamps"),null}else return R("Transcript panel might be open, but no transcript segments found"),null}else return R('"Show transcript" button not found on the page'),null}catch(n){return R("Error in fetchTranscriptFromDOM:",n),null}}const bd=async(e,t,n,r=3)=>{var a,l;let i,o;n.startsWith("gemini")?(i=`https://generativelanguage.googleapis.com/v1beta/models/${n}:generateContent?key=${t}`,o={contents:[{role:"user",parts:[{text:e}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}}):(i="https://api.openai.com/v1/chat/completions",o={model:n,messages:[{role:"user",content:e}],temperature:.4,max_tokens:4096});let s="";for(let d=1;d<=r;d++)try{R(`API Request attempt ${d} for model: ${n}`);const _=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",...n.startsWith("gemini")?{}:{Authorization:`Bearer ${t}`}},body:JSON.stringify(o)});if(!_.ok)throw new Error(`HTTP ${_.status}: ${await _.text()}`);const m=await _.json();if(m.candidates&&Array.isArray(m.candidates)&&m.candidates.length>0){const v=m.candidates[0];v.content&&Array.isArray(v.content.parts)?s=v.content.parts.map(h=>h.text||"").join(`
`):v.content&&typeof v.content.text=="string"?s=v.content.text:v.text&&(s=v.text)}else m.choices&&Array.isArray(m.choices)&&(s=((l=(a=m.choices[0])==null?void 0:a.message)==null?void 0:l.content)||"");if(s.trim())return s;throw new Error("Empty content")}catch(_){R(`Attempt ${d} failed:`,_),d<r&&await new Promise(m=>setTimeout(m,1e3))}throw new Error("Failed to generate content after retries")},Mh=async(e,t,n,r,i=3)=>{let o,s;if(r.startsWith("gemini"))o=`https://generativelanguage.googleapis.com/v1beta/models/${r}:generateContent?key=${n}`,s={contents:[{role:"user",parts:[{text:e},{inline_data:{mime_type:"image/jpeg",data:t}}]}],generationConfig:{temperature:.2,maxOutputTokens:4096}};else return bd(e,n,r,i);let a="";for(let l=1;l<=i;l++)try{R(`API Request attempt ${l} for model with image: ${r}`);const d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...r.startsWith("gemini")?{}:{Authorization:`Bearer ${n}`}},body:JSON.stringify(s)});if(!d.ok){const m=await d.text();throw R(`API error: ${d.status}`,m),new Error(`HTTP ${d.status}: ${m}`)}const _=await d.json();if(R("API Response with image:",_),_.candidates&&Array.isArray(_.candidates)&&_.candidates.length>0&&(R("First candidate:",_.candidates[0]),_.candidates[0].content&&(R("Candidate content:",_.candidates[0].content),_.candidates[0].content.parts&&R("Content parts:",_.candidates[0].content.parts))),_.candidates&&Array.isArray(_.candidates)&&_.candidates.length>0){const m=_.candidates[0];m.content&&Array.isArray(m.content.parts)?(m.content.parts.forEach((v,h)=>{R(`Part ${h}:`,v),v.text&&R(`Part ${h} text:`,v.text)}),a=m.content.parts.filter(v=>v.text!==void 0).map(v=>v.text||"").join(`
`),R("Extracted raw text:",a)):m.content&&m.content.text?(a=m.content.text,R("Extracted text from content.text:",a)):m.text&&(a=m.text,R("Extracted text directly from candidate:",a))}if(a.trim())return a;throw new Error("Empty content from image-based generation")}catch(d){if(R(`Attempt ${l} failed with image:`,d),l<i){if(await new Promise(_=>setTimeout(_,1e3*l)),l===i-1){R("Falling back to text-only prompt after image failures");try{return await bd(e,n,r,1)}catch(_){R("Text fallback also failed:",_)}}}else throw d}throw new Error("Failed to generate content with image after retries")},$h=async(e,t)=>{var n,r,i,o,s,a,l;try{R("--- CONTENT SCRIPT: handleGenerateSnapshotDescription CALLED ---"),R(`--- Snapshot ID: ${e} ---`);const{apiKey:d,modelName:_}=await pr();if(!d){const J="API key not configured. Please set it in the extension options.";return(n=t==null?void 0:t.onError)==null||n.call(t,J),null}let m;const v=await new Promise((J,C)=>{chrome.storage.local.get({snapshots:[]},U=>{if(chrome.runtime.lastError)return C(new Error(chrome.runtime.lastError.message));J(U)})}),{snapshots:h}=v;if(m=h.find(J=>J.timestamp.toString()===e),!m){const J=`Snapshot with ID ${e} not found`;return(r=t==null?void 0:t.onError)==null||r.call(t,J),null}if(!m.imageDataUrl){const J="Snapshot does not have image data";return(i=t==null?void 0:t.onError)==null||i.call(t,J),null}const w=m.imageDataUrl.split(",")[1];if(!w){const J="Invalid image data format";return(o=t==null?void 0:t.onError)==null||o.call(t,J),null}const p=m.videoUrl,x=p.match(/(?:youtube\.com\/watch\?v=|\/embed\/|\/v\/|\/e\/|youtube\.com\/shorts\/|youtu\.be\/)([^#\&\?\n]*)/),c=x?x[1]:null;if(!c){const J="Could not extract video ID from snapshot URL";return(s=t==null?void 0:t.onError)==null||s.call(t,J),null}let u="";try{R(`Attempting to fetch transcript for video ID: ${c} at time: ${m.time}s`);const J=await Ga(c);if(J)if(u=Pd(J,m.time,30,60),R(`Successfully retrieved transcript segment (${u.length} chars) for snapshot description`),u.length>0){const C=u.length>100?u.substring(0,100)+"...":u;R(`Transcript segment preview: ${C}`)}else R("Warning: Transcript segment is empty after extraction");else{R("No transcript found via DOM, trying alternative methods");try{const C=await bn(c);if(C&&C.hasTranscript){R("Found stored outline with transcript flag");const U=await Ga(c,!0);U&&(u=Pd(U,m.time,30,60),R(`Retrieved transcript segment on retry (${u.length} chars)`))}}catch(C){R("Error checking stored outline:",C)}}}catch(J){R("Error fetching transcript:",J)}u||R("Warning: No transcript segment available for snapshot description generation");const g=await Ya(),T=await Io.getInstance().getTemplate("snapshotDescription",g);R(`Using ${g} template for snapshot description generation`);const P=new Date(m.time*1e3).toISOString().substr(11,8);let A="";u&&(g==="ja"?A=`## 前後のトランスクリプト

${u}`:A=`## Surrounding Transcript

${u}`);const j=T.replace("{videoUrl}",p).replace("{formattedTime}",P).replace("{transcriptSection}",A);R("Generating snapshot description with prompt:",j);const D=await Mh(j,w,d,_),$=h.map(J=>J.timestamp.toString()===e?{...J,description:D}:J);return await new Promise((J,C)=>{chrome.storage.local.set({snapshots:$},()=>{if(chrome.runtime.lastError)return C(new Error(chrome.runtime.lastError.message));J()})}),st=$,(a=t==null?void 0:t.onSuccess)==null||a.call(t),D}catch(d){console.error("Error generating snapshot description:",d);const _=d instanceof Error?d.message:"Unknown error";return(l=t==null?void 0:t.onError)==null||l.call(t,_),null}},Fh=async()=>{var e,t;try{const{apiKey:n,modelName:r}=await pr();if(!n)return console.error("API key is not configured. Please set it in the extension options."),R("API key is missing. Cannot generate outline."),{items:[],hasTranscript:!1};if(!r)return console.error("Model name is not configured. Please set it in the extension options."),R("Model name is missing. Cannot generate outline."),{items:[],hasTranscript:!1};console.log("=== API SETTINGS ==="),console.log("API Key:",n?`${n.substring(0,4)}...${n.substring(n.length-4)}`:"Not set"),console.log("Model Name:",r),console.log("===================");const i=window.location.href,o=new URLSearchParams(window.location.search).get("v");if(!o)return console.error("Failed to extract video ID from URL",i),{items:[],hasTranscript:!1};const s=document.querySelector("video.html5-main-video");if(!s)return console.error("Video element not found"),{items:[],hasTranscript:!1};const a=document.querySelector("h1.title.style-scope.ytd-video-primary-info-renderer"),l=((e=a==null?void 0:a.textContent)==null?void 0:e.trim())||"Unknown Title",d=document.querySelector("#text.ytd-channel-name"),_=((t=d==null?void 0:d.textContent)==null?void 0:t.trim())||"Unknown Channel",m=s.duration||0,v=await bn(o);if(v&&v.items.length>0)return R(`Found existing outline for video ${o} with ${v.items.length} items. Using cached version.`),{items:v.items,hasTranscript:v.hasTranscript===void 0?!0:v.hasTranscript};R(`Generating new outline for video ${o} (${l})...`);const h=m/60,w=m<300?.9:m<900?.7:.6,p=Math.max(8,Math.min(30,Math.ceil(h*w))),x=()=>{console.warn("Using sample data for outline");const N=[],B=Math.max(2,Math.floor(h/8)),z={ja:{pokerTitles:["シーン1","シーン2","シーン3","シーン4","シーン5","シーン6","シーン7","シーン8"],pokerDescriptions:["AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。","AIによる生成が失敗したため、サンプルデータを使用しています。"],defaultTitle:X=>`重要ポイント${X+1}`,defaultDescription:"動画の重要な内容が展開されています。"},en:{pokerTitles:["Scene 1","Scene 2","Scene 3","Scene 4","Scene 5","Scene 6","Scene 7","Scene 8"],pokerDescriptions:["Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed.","Using sample data because AI generation failed."],defaultTitle:X=>`Key Point ${X+1}`,defaultDescription:"Important content is presented at this timestamp."},"zh-CN":{pokerTitles:["场景 1","场景 2","场景 3","场景 4","场景 5","场景 6","场景 7","场景 8"],pokerDescriptions:["由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。","由于AI生成失败，使用示例数据。"],defaultTitle:X=>`要点 ${X+1}`,defaultDescription:"在此时间戳呈现重要内容。"},ko:{pokerTitles:["씬 1","씬 2","씬 3","씬 4","씬 5","씬 6","씬 7","씬 8"],pokerDescriptions:["AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다.","AI 생성이 실패하여 예제 데이터를 사용합니다."],defaultTitle:X=>`핵심 포인트 ${X+1}`,defaultDescription:"이 타임스킬프에 중요한 내용이 표시됩니다."}},I=z[u]||z.ja;for(let X=0;X<8;X++){const ee=Math.min(Math.floor(h),X*B),K=Math.floor(Math.random()*50),de=Math.floor(ee/60)*3600+ee%60*60+K;let he,ce;l.toLowerCase().includes("poker")?(he=I.pokerTitles[X%I.pokerTitles.length],ce=I.pokerDescriptions[X%I.pokerDescriptions.length]):(he=I.defaultTitle(X),ce=I.defaultDescription),N.push({timestamp:de,title:he,description:ce})}return N},c=window.location.href,u=await Ya(),S=await Io.getInstance().getTemplate("outline",u);R(`Using ${u} template for outline generation`);let T="",P=!1;try{const N=await Ga(o);N&&N.trim().length>0?(u==="ja"?T=`

## トランスクリプト
${N}`:T=`

## Transcript
${N}`,P=!0,R("Transcript found and will be included in the prompt.")):R("No transcript available from DOM or transcript is empty. Proceeding without transcript.")}catch(N){console.error("Error during DOM transcript fetching:",N),R("Proceeding without transcript due to error during DOM fetching.")}const j=(await pr()).EXCLUDE_VIDEO_URL_FROM_OUTLINE_PROMPT||!1,D=S.replace("{videoUrl}",j?"":c).replace("{videoTitle}",l).replace("{channelName}",_).replace("{videoDuration}",m.toString()).replace("{numPoints}",p.toString()).replace("{transcriptSection}",T);R(`URL inclusion in prompt: ${j?"EXCLUDED":"INCLUDED"}`);let $,J;r.startsWith("gemini")?($=`https://generativelanguage.googleapis.com/v1beta/models/${r}:generateContent?key=${n}`,J={contents:[{role:"user",parts:[{text:D}]}],generationConfig:{temperature:.2,maxOutputTokens:10240}}):($="https://api.openai.com/v1/chat/completions",J={model:r,messages:[{role:"user",content:D}],temperature:.4,max_tokens:10240});let C="";const U=3;console.log("=== API REQUEST DETAILS ==="),console.log("Endpoint:",$),console.log("Model:",r),console.log("Language:",u),console.log("Transcript available:",P),console.log("Exclude video URL from prompt:",Ht.EXCLUDE_VIDEO_URL_FROM_OUTLINE_PROMPT),console.log("Request body:",J),console.log("Prompt:",D),console.log("========================");for(let N=1;N<=U;N++)try{console.log(`API Request attempt ${N}/${U}`);const B=await fetch($,{method:"POST",headers:{"Content-Type":"application/json",...r.startsWith("gemini")?{}:{Authorization:`Bearer ${n}`}},body:JSON.stringify(J)});if(console.log(`API Response status: ${B.status}`),!B.ok){let I="";try{const X=await B.json();I=JSON.stringify(X),console.error("API Error Response:",X)}catch{I=await B.text(),console.error("API Error Response (text):",I)}throw new Error(`HTTP ${B.status}: ${I}`)}const z=await B.json();if(console.log("=== API RESPONSE ==="),console.log("Response JSON:",z),console.log("==================="),z.candidates&&Array.isArray(z.candidates)&&z.candidates.length>0){const I=z.candidates[0];if(I.content&&Array.isArray(I.content.parts))C=I.content.parts.map(X=>X.text||"").join(`
`),console.log(`Extracted text from Gemini response (parts array): ${C.length} chars`);else if(I.content&&typeof I.content.text=="string")C=I.content.text,console.log(`Extracted text from Gemini response (content.text): ${C.length} chars`);else if(I.text)C=I.text,console.log(`Extracted text from Gemini response (candidate.text): ${C.length} chars`);else throw console.error("Unexpected Gemini response format:",I),new Error("Unexpected response format from Gemini API")}else if(z.choices&&Array.isArray(z.choices)&&z.choices.length>0){const I=z.choices[0];if(I.message&&I.message.content)C=I.message.content,console.log(`Extracted text from OpenAI response: ${C.length} chars`);else throw console.error("Unexpected OpenAI response format:",I),new Error("Unexpected response format from OpenAI API")}else throw console.error("Unexpected API response format:",z),new Error("Unexpected API response format");if(console.log("=== EXTRACTED TEXT ==="),console.log(C),console.log("====================="),C.trim())break;throw new Error("Empty content")}catch(B){console.warn(`Attempt ${N} failed:`,B),N<U&&await new Promise(z=>setTimeout(z,1e3))}if(!C.trim())return console.error("Failed to retrieve outline after retries"),R("API call failed to return valid content. Check API key and model settings."),{items:[],hasTranscript:!1};const y=[];console.log("=== PARSING RESPONSE ==="),console.log("Raw text length:",C.length),console.log("First 200 chars:",C.substring(0,200)),console.log(`言語設定: ${u}`);try{let N="",B=C.match(/\[\s*\{.*\}\s*\]/s);if(B)N=B[0],console.log("パターン1でJSONを検出:",N.substring(0,100)+"...");else if(B=C.match(/```(?:json)?\s*\n?(\[\s*\{.*\}\s*\])\s*\n?```/s),B&&B[1])N=B[1],console.log("パターン2でコードブロック内のJSONを検出:",N.substring(0,100)+"...");else{const z=C.split(/\r?\n/),I=[];for(const X of z){const ee=X.match(/\{\s*"timestamp".*\}/s);if(ee)try{const K=JSON.parse(ee[0]);K&&typeof K=="object"&&"timestamp"in K&&I.push(K)}catch{}}I.length>0&&(N=JSON.stringify(I),console.log("パターン3で個別のJSONオブジェクトを検出:",I.length,"件"))}if(N)try{N=N.replace(/\s+/g," ").trim(),console.log("正規化したJSON:",N.substring(0,100)+"...");const z=JSON.parse(N);if(Array.isArray(z)&&z.length>0){console.log(`✅ JSONの解析に成功: ${z.length}件のアイテムを検出`);for(const I of z)if(typeof I=="object"&&I!==null){const X=typeof I.timestamp=="number"?I.timestamp:typeof I.timestamp=="string"?parseInt(I.timestamp,10):0,ee=typeof I.title=="string"?I.title.trim():"Unknown Title",K=typeof I.description=="string"?I.description.trim():"";isNaN(X)||(console.log(`✅ JSONアイテムを解析: ${X}秒 - "${ee}" - "${K}"`),y.push({timestamp:X,title:ee,description:K}))}if(y.length>0){if(console.log(`JSON解析成功: ${y.length}件のアイテムを取得`),y.length>0)try{await To(o,l,m,y,P),R(`Successfully saved newly generated outline for video ${o} with ${y.length} items. Transcript fetched: ${P}`)}catch(I){console.error("Failed to save outline:",I),R("Error saving outline:",I)}return{items:y,hasTranscript:P}}}}catch(z){console.warn("JSON解析エラー:",z),console.log("解析に失敗したJSON文字列:",N)}}catch(N){console.warn("JSON抽出中のエラー:",N)}console.log("Falling back to text parsing...");const W=C.split(/\r?\n/);console.log(`Found ${W.length} lines to parse`);for(const N of W){if(!N.trim())continue;const B=N.match(/\[?(\d{1,2}(?::\d{1,2}){1,2})\]?\s*([^:\uff1a-]+)[:\uff1a-]\s*(.+)/);if(B){const z=B[1],I=z.split(":").map(Number);let X=0;I.length===3?X=I[0]*3600+I[1]*60+I[2]:X=I[0]*60+I[1];const ee=B[2].trim(),K=B[3].trim();console.log(`✅ Parsed item: ${z} - "${ee}" - "${K}"`),y.push({timestamp:X,title:ee,description:K})}else if(N.includes(":")&&N.length>10){console.log(`❌ Failed to parse line: "${N}"`);let z=N.match(/(\d{1,2}:\d{1,2}(?::\d{1,2})?)\s*[-\u2013\u2014]\s*(.+)/);if(z){const I=z[1],X=I.split(":").map(Number);let ee=0;X.length===3?ee=X[0]*3600+X[1]*60+X[2]:ee=X[0]*60+X[1];const K=z[2].trim();let de=K,he="";const ce=K.match(/(.+?)[:\uff1a-]\s*(.+)/);ce&&(de=ce[1].trim(),he=ce[2].trim()),console.log(`🔄 Alternative parsing succeeded: ${I} - "${de}" - "${he}"`),y.push({timestamp:ee,title:de,description:he})}}}console.log(`Parsed ${y.length} outline items from ${W.length} lines`);const le=y.map(N=>(N.timestamp>=m&&(R(`Outline item timestamp (${N.timestamp}s) exceeds video duration (${m}s). Adjusting to end of video.`),N.timestamp=Math.max(0,Math.floor(m)-1)),N.timestamp<0&&(R(`Negative timestamp value (${N.timestamp}s) detected in outline. Adjusting to start of video.`),N.timestamp=0),N));if(le.sort((N,B)=>N.timestamp-B.timestamp),R(`Generated ${le.length} outline items after validation. Transcript available: ${P}`),le.length>0&&o)try{await To(o,l,m,le,P),R(`Saved outline for video ${o} with ${le.length} items (hasTranscript: ${P})`)}catch(N){console.error("Error saving outline:",N)}let Y=!1;le.length===0&&(console.warn("No valid outline items were parsed from the API response"),console.log("Raw text length:",C.length),console.log("First 100 chars of raw text:",C.substring(0,100)),/\d{1,2}:\d{1,2}/.test(C)?(console.warn("API response contains timestamp patterns but parsing failed"),Y=!1):(console.warn("API response does not contain recognizable timestamp patterns"),Y=!0));const V={items:le.length>0?le:Y?x():[],hasTranscript:P};return console.log("=== FINAL RESULT ==="),console.log(`Returning ${V.items.length} items (${le.length} from API, sample data: ${Y})`),console.log("====================="),V}catch(n){return console.error("Error in handleGenerateOutline:",n),{items:[],hasTranscript:!1}}};window.handleCaptureAllSnapshots=Uh,window.handleCaptureSnapshot=Od,window.handleGenerateOutline=Fh,window.generateSnapshotDescription=$h;const Bh=async(e,t)=>{R("--- CONTENT SCRIPT: handleSaveDescriptionInContentScript CALLED ---"),R(`--- Timestamp: ${e}, Description: ${t} ---`);try{const{snapshots:n}=await chrome.storage.local.get({snapshots:[]});R("--- CONTENT SCRIPT: Retrieved snapshots from storage:",n);const r=n.findIndex(i=>i.timestamp===e);if(r===-1){R(`--- CONTENT SCRIPT: Snapshot with timestamp ${e} not found! ---`),console.error(`Error: Could not find snapshot with timestamp ${e} to save description.`),R(`--- CONTENT SCRIPT: Snapshot with timestamp ${e} not found! ---`);return}n[r].description=t,st=[...n],await chrome.storage.local.set({snapshots:st}),R("--- CONTENT SCRIPT: Successfully updated snapshot description in storage ---",st[r]),R("--- CONTENT SCRIPT: Description saved successfully! ---"),typeof vn=="function"&&typeof at=="boolean"?vn(at,st):R("--- CONTENT SCRIPT: renderPanel or currentIsPlaying not ready for re-render after save ---")}catch(n){R("--- CONTENT SCRIPT: Error in handleSaveDescriptionInContentScript:",n),console.error("Error saving description. Check console. (From Content Script)"),R("--- CONTENT SCRIPT: Error saving description. ---")}};function Qa(e=1,t,n){var s;if(!gr()){R("Cannot initialize simple overlay - extension context invalidated at the very start."),Ct=!1;return}if(document.getElementById(mn)){R("Debug overlay container already exists. Skipping."),gn=!0,Ct=!1;return}if(!window.location.href.includes("youtube.com/watch")){R("Not a YouTube watch page. Skipping injection."),Ct=!1;return}const r=document.querySelector("video.html5-main-video");if(!r){e<5?setTimeout(()=>Qa(e+1),500):(console.error("YT Outline & Snap: Max retries reached. Video element not found."),Ct=!1);return}const i=document.createElement("div");i.id=mn,i.style.position="fixed",i.style.zIndex="2147483647",document.body.appendChild(i);const o=document.getElementById(mn);if(o){o.parentElement!==document.body&&console.warn("YT Outline & Snap: Container parent is NOT document.body! It is:",(s=o.parentElement)==null?void 0:s.tagName);try{Vt&&(Vt.unmount(),Vt=null),window.handleCaptureSnapshot=Od,R("window.handleCaptureSnapshot assigned."),window.handleSeekTo=v=>{const h=document.querySelector("video");h?(R(`Seeking to ${v}s using current video element`),h.currentTime=v):r?(R(`Seeking to ${v}s using cached video element`),r.currentTime=v):R(`Failed to seek: No video element found for time ${v}s`)},R("window.handleSeekTo assigned.");const a=()=>{r&&(r.currentTime-=5,R("Seeked backward by 5s"))},l=()=>{r&&(r.currentTime+=5,R("Seeked forward by 5s"))};at=!r.paused;const d=()=>{r&&(r.paused?r.play().catch(v=>R("Error playing video:",v)):r.pause(),R(`Play/Pause toggled. Video initially paused: ${r.paused}`))};Vt=gd(i),R("React root created. Attempting to render OverlayPanel..."),vn=(v,h=st,w,p)=>{if(!gr()){R("Cannot render panel - extension context invalidated");return}if(!Vt){R("Cannot render panel - appRoot is null");return}const x=Ld();R(`Rendering panel with current video ID: ${x}`),Vt&&i&&(Vt.render(Q.jsx(Id,{onSeekBackward:a,onPlayPause:d,onSeekForward:l,isPlaying:v,onSaveDescription:Bh,snapshots:h,initialOutlineItems:w,initialHasTranscript:p,currentVideoId:x})),R(`OverlayPanel re-rendered. isPlaying: ${v}`))};const _=()=>{at=!0,vn(at),R("Video play event triggered, isPlaying:",at)};r.addEventListener("play",_);const m=()=>{at=!1,vn(at),R("Video pause event triggered, isPlaying:",at)};r.addEventListener("pause",m),chrome.storage.local.get({snapshots:[]},v=>{st=v.snapshots||[],R("Initial snapshots loaded for OverlayPanel:",st),at=!r.paused,R("[initializeSimpleOverlay] Calling inner renderPanel..."),vn(at,st,t,n),R("[initializeSimpleOverlay] Completed."),R("OverlayPanel initial render call completed with snapshots.")}),gn=!0}catch(a){console.error("YT Outline & Snap (Debug Version): Error during React rendering phase:",a),a instanceof Error&&a.stack&&console.error("YT Outline & Snap (Debug Version): Render error stack:",a.stack),i.parentNode===document.body&&(document.body.removeChild(i),R("Cleaned up container after render error.")),gn=!1}}else console.error(`YT Outline & Snap (Debug Version): CRITICAL (Attempt ${e}) - Container NOT found in DOM after append.`),e<3?(R("Retrying initialization in 500ms..."),setTimeout(()=>Qa(e+1),500)):(console.error("YT Outline & Snap: Max retries reached. Could not initialize overlay."),gn=!1);Ct=!1}async function si(){R("[ensureInitialization] Started.");try{if(!gr()){R("Cannot initialize - extension context invalidated");return}if(window.location.href.includes("youtube.com/watch")){if(R("Ensuring initialization on watch page"),Ct){R("Initialization already in progress, skipping");return}Ct=!0,R("Starting initialization process."),Wh(async()=>{let e=[],t=!1;const n=new URLSearchParams(window.location.search).get("v");try{if(n){R(`Attempting to load existing outline for video ${n}`),R("[ensureInitialization] Calling getOutline...");const r=await bn(n);R("[ensureInitialization] getOutline returned:",r),r&&r.items.length>0?(e=r.items,t=r.hasTranscript===void 0?!0:r.hasTranscript,R(`Loaded ${e.length} items from saved outline for video ${n}. Has transcript: ${t}`)):R(`No saved outline found for video ${n}`)}R("[ensureInitialization] Calling initializeOverlayWithCheck with initialOutlineItems:",e,"initialHasTranscript:",t),Rd(e,t),R("[ensureInitialization] Completed successfully.")}catch(r){console.error("Error during initialization or loading outline:",r),R("Error in ensureInitialization callback:",r),Rd([],!1)}finally{Ct=!1,R("Initialization process finished.")}})}}catch(e){console.error("YT Outline & Snap (Content Script): Error in ensureInitialization (outer try):",e),R("[ensureInitialization] Error in outer try-catch:",e)}finally{Ct=!1,R("[ensureInitialization] ensureInitialization outer try-catch process finished.")}}function ai(){const e=window.location.href;e!==zo&&(R(`URL changed: ${zo} -> ${e}`),zo=e,e.includes("youtube.com/watch")?(R("Navigation to watch page detected"),si()):Hh())}function Rd(e,t){if(Ct){R("Initialization already in progress, skipping");return}if(gn&&document.getElementById(mn)){R("Overlay already initialized and exists, skipping");return}Ct=!0;const n=document.getElementById(mn);n&&(R("Removing existing overlay before re-initialization"),n.remove(),gn=!1),setTimeout(()=>{R("Initializing overlay"),Qa(1,e,t)},500)}function Ld(){const e=window.location.href;return Dd(e)}function Dd(e){const t=e.match(/(?:youtube\.com\/watch\?v=|\/embed\/|\/v\/|\/e\/|youtube\.com\/shorts\/|youtu\.be\/)([^#\&\?\n]*)/),n=t?t[1]:null;return R(`getVideoIdFromUrl: ${e} -> ${n}`),n}function Wh(e){const t=()=>{const n=document.querySelector("video.html5-main-video"),r=document.querySelector("#movie_player");if(n&&r){R("YouTube video and player elements found, proceeding with initialization");const i=Ld();i?(R(`Attempting to retrieve outline for video ID: ${i}`),bn(i).then(o=>{if(o&&o.items&&o.items.length>0){R(`✅ Found saved outline for video ${i} with ${o.items.length} items`);const s=document.querySelector("h1.ytd-watch-metadata yt-formatted-string"),a=(s==null?void 0:s.innerText)||"No title found",l=n.duration;return R(`Video duration: ${l}s, Title: ${a}`),o.items.map(_=>{let m=_.timestamp;return m>=l&&(R(`Outline item timestamp (${m}s) exceeds video duration (${l}s). Adjusting to end of video.`),m=Math.max(0,Math.floor(l)-1)),m<0&&(R(`Negative timestamp value (${m}s) detected in outline. Adjusting to start of video.`),m=0),{..._,timestamp:m}}).map(_=>({time:_.timestamp,title:_.title,description:_.description})),new Promise(_=>{chrome.storage.local.get({snapshots:[]},({snapshots:m})=>{if(chrome.runtime.lastError){console.error("YT Outline & Snap (Content Script): Error getting snapshots in waitForYouTubeNavigation:",chrome.runtime.lastError.message),R("[waitForYouTubeNavigation] Error in storage.get. Calling navigation complete callback (or error handling)."),e();return}const v=m.filter(h=>Dd(h.videoUrl)===i);R(`Found ${v.length} existing snapshots for this video`),R("Using existing snapshots only. Auto-capture on page navigation is disabled."),st=v,typeof vn=="function"&&vn(at,st),_()})})}else return R(`No saved outline found for video ${i} or outline is empty`),Promise.resolve()}).catch(o=>(console.error("YT Outline & Snap (Content Script): Error retrieving outline in waitForYouTubeNavigation:",o),Promise.resolve())).finally(()=>{if(!gr()){R("[waitForYouTubeNavigation] Context invalidated before calling final callback. Aborting.");return}R("[waitForYouTubeNavigation] getOutline promise chain settled. Calling navigation complete callback."),e()})):(R("Could not determine video ID in waitForYouTubeNavigation. Calling navigation complete callback."),e())}else R("YouTube video or player elements not found yet, waiting..."),setTimeout(t,500)};t()}function Hh(){const e=document.getElementById(mn);e&&(R("Removing overlay as we are no longer on a watch page"),e.remove(),gn=!1)}const jd=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):requestAnimationFrame(e)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{R("DOMContentLoaded event. Setting up initial overlay and URL change listener."),jd(()=>{Ud(),window.location.href.includes("youtube.com/watch")?(R("Initial page is a YouTube watch page, initializing overlay"),si()):R("Initial page is not a YouTube watch page, skipping overlay initialization"),setTimeout(()=>{!document.getElementById(mn)&&window.location.href.includes("youtube.com/watch")&&(R("Overlay not found after initial initialization, retrying..."),si())},3e3)})}):(R("DOM already loaded. Setting up initial overlay and URL change listener."),jd(()=>{Ud(),window.location.href.includes("youtube.com/watch")?(R("Initial page is a YouTube watch page, initializing overlay"),si()):R("Initial page is not a YouTube watch page, skipping overlay initialization"),setTimeout(()=>{!document.getElementById(mn)&&window.location.href.includes("youtube.com/watch")&&(R("Overlay not found after initial initialization, retrying..."),si())},3e3)}));function Ud(){R("Setting up URL change listener"),document.addEventListener("yt-navigate-finish",()=>{R("yt-navigate-finish event detected"),ai()});const e=new MutationObserver(()=>{zo!==window.location.href&&ai()});e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["href"]});const t=history.pushState,n=history.replaceState;return history.pushState=function(r,i,o){t.call(this,r,i,o),R("history.pushState called"),setTimeout(ai,100)},history.replaceState=function(r,i,o){n.call(this,r,i,o),R("history.replaceState called"),setTimeout(ai,100)},window.addEventListener("popstate",()=>{R("popstate event detected"),setTimeout(ai,100)}),R("URL change listener setup complete"),e}})();
//# sourceMappingURL=contentScript.js.map
